@{
    ViewData["Title"] = @Localizer["Title"];
    ViewData["Meta_Description"] = "Indicadores de riesgo agroclimático";
    ViewData["Meta_Keywords"] = "indicadores,indicadores de riesgo climático";
}

<div id="containerBlock">
    <section class="col-md-12 sections">
        <div class="row section-content">
            <h2 class="text-center" id="sectionTitle" style="">@Localizer["Title"]</h2>
            <p class="text-justify">
                @Localizer["Description"]
            </p>
            <div class="row">
                <div class="form-group">
                    <label class="col-lg-2 control-label" for="cbo_crop">
                        @Localizer["Crop"]
                    </label>
                    <div class="col-lg-2">
                        @Html.DropDownList("cbo_crop", new SelectList(ViewBag.indicators_crops, "CropID", "Crop"), new { @class = "form-control", onchange = "update_maps()" })
                    </div>
                    <label class="col-lg-2 control-label" for="cbo_group">
                        @Localizer["Group"]
                    </label>
                    <div class="col-lg-2">
                        @Html.DropDownList("cbo_group", new SelectList(ViewBag.indicators_group, "GroupID", "Group"), new { @class = "form-control", onchange = "update_maps()" })
                    </div>
                    <label class="col-lg-2 control-label" for="cbo_time">
                        @Localizer["Time"]
                    </label>
                    <div class="col-lg-2">
                        @Html.DropDownList("cbo_time", new SelectList(ViewBag.period, "Value", "Text"), new { @class = "form-control", onchange = "update_time()" })
                    </div>
                </div>
            </div>
            <br />
            <div id="maps_section">
                
            </div>
        </div>
</section>
</div>


@section Scripts {
    <script src="~/js/map/maps_indicators.js"></script>
    <script type="text/javascript">

        var ws = @Html.Raw(Json.Serialize(ViewBag.WeatherStations));
        scales = {
            heavy_rainfall: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081', '#08306b'],
            water_demand: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],
            dry_spells: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#7f2704', '#662506'],
            heat_waves: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026', '#67000d'],
            spei: ['#b2182b', '#ef8a62', '#fddbc7', '#f7f7f7', '#d1e5f0', '#67a9cf','#2166ac']
        };
        categories_title = '@Html.Raw(Localizer["Categories"].Value.ToString())';
        geoserver_url = "@Html.Raw(ViewBag.geoserver_url)";
        geoserver_workspace = "@Html.Raw(ViewBag.geoserver_workspace)";
        conf = { latitude: ws[0].latitude, longitude: ws[0].longitude, zoom: 6 };
        layers_all = @Html.Raw(Json.Serialize(ViewBag.indicators_list));
        update_maps();
        window.loading_screen.finish();
    </script>
}