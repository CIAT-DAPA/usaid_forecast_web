/**
* please-wait
* Display a nice loading screen while your app loads
* @author Pathgather <tech@pathgather.com>
* @copyright Pathgather 2015
* @license MIT <http://opensource.org/licenses/mit-license.php>
* @link https://github.com/Pathgather/please-wait
* @module please-wait
* @version 0.0.5
*/
(function(n,t){typeof exports=="object"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t(n)})(this,function(n){var y,i,t,r,h,o,c,l,a,f,v,u,e,p,s,w;o=document.createElement("fakeelement");r=!1;e=!1;t="animationend";u=null;h="Webkit Moz O ms".split(" ");v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(c in v)if(p=v[c],o.style[c]!=null){u=p;e=!0;break}if(o.style.animationName!=null&&(r=!0),!r)for(s=0,w=h.length;s<w;s++)if(l=h[s],o.style[""+l+"AnimationName"]!=null){switch(l){case"Webkit":t="webkitAnimationEnd";break;case"Moz":t="animationend";break;case"O":t="oanimationend";break;case"ms":t="MSAnimationEnd"}r=!0;break}return i=function(n,t){return t.classList?t.classList.add(n):t.className+=" "+n},f=function(n,t){return t.classList?t.classList.remove(n):t.className=t.className.replace(n,"").trim()},y=function(){function n(n){var h,o,s,c;h=this.constructor._defaultOptions;this.options={};this.loaded=!1;this.finishing=!1;for(o in h)c=h[o],this.options[o]=n[o]!=null?n[o]:c;this._loadingElem=document.createElement("div");this._loadingHtmlToDisplay=[];this._loadingElem.className="pg-loading-screen";this.options.backgroundColor!=null&&(this._loadingElem.style.backgroundColor=this.options.backgroundColor);this._loadingElem.innerHTML=this.options.template;this._loadingHtmlElem=this._loadingElem.getElementsByClassName("pg-loading-html")[0];this._loadingHtmlElem!=null&&(this._loadingHtmlElem.innerHTML=this.options.loadingHtml);this._readyToShowLoadingHtml=!1;this._logoElem=this._loadingElem.getElementsByClassName("pg-loading-logo")[0];this._logoElem!=null&&(this._logoElem.src=this.options.logo);f("pg-loaded",document.body);i("pg-loading",document.body);document.body.appendChild(this._loadingElem);i("pg-loading",this._loadingElem);this._onLoadedCallback=this.options.onLoadedCallback;s=function(n){return function(u){return n.loaded=!0,n._readyToShowLoadingHtml=!0,i("pg-loaded",n._loadingHtmlElem),r&&n._loadingHtmlElem.removeEventListener(t,s),n._loadingHtmlToDisplay.length>0&&n._changeLoadingHtml(),n.finishing?(u!=null&&u.stopPropagation(),n._finish()):void 0}}(this);this._loadingHtmlElem!=null&&(r?this._loadingHtmlElem.addEventListener(t,s):s(),this._loadingHtmlListener=function(n){return function(){return n._readyToShowLoadingHtml=!0,f("pg-loading",n._loadingHtmlElem),e&&n._loadingHtmlElem.removeEventListener(u,n._loadingHtmlListener),n._loadingHtmlToDisplay.length>0?n._changeLoadingHtml():void 0}}(this),this._removingHtmlListener=function(n){return function(){return n._loadingHtmlElem.innerHTML=n._loadingHtmlToDisplay.shift(),f("pg-removing",n._loadingHtmlElem),i("pg-loading",n._loadingHtmlElem),e?(n._loadingHtmlElem.removeEventListener(u,n._removingHtmlListener),n._loadingHtmlElem.addEventListener(u,n._loadingHtmlListener)):n._loadingHtmlListener()}}(this))}return n._defaultOptions={backgroundColor:null,logo:null,loadingHtml:null,template:"<div class='pg-loading-inner'>\n  <div class='pg-loading-center-outer'>\n    <div class='pg-loading-center-middle'>\n      <h1 class='pg-loading-logo-header'>\n        <img class='pg-loading-logo'><\/img>\n      <\/h1>\n      <div class='pg-loading-html'>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>",onLoadedCallback:null},n.prototype.finish=function(n,t){return n==null&&(n=!1),window.document.hidden&&(n=!0),this.finishing=!0,t!=null&&this.updateOption("onLoadedCallback",t),this.loaded||n?this._finish(n):void 0},n.prototype.updateOption=function(n,t){switch(n){case"backgroundColor":return this._loadingElem.style.backgroundColor=t;case"logo":return this._logoElem.src=t;case"loadingHtml":return this.updateLoadingHtml(t);case"onLoadedCallback":return this._onLoadedCallback=t;default:throw new Error("Unknown option '"+n+"'");}},n.prototype.updateOptions=function(n){var t,r,i;n==null&&(n={});i=[];for(t in n)r=n[t],i.push(this.updateOption(t,r));return i},n.prototype.updateLoadingHtml=function(n,t){if(t==null&&(t=!1),this._loadingHtmlElem==null)throw new Error("The loading template does not have an element of class 'pg-loading-html'");return t?(this._loadingHtmlToDisplay=[n],this._readyToShowLoadingHtml=!0):this._loadingHtmlToDisplay.push(n),this._readyToShowLoadingHtml?this._changeLoadingHtml():void 0},n.prototype._changeLoadingHtml=function(){return this._readyToShowLoadingHtml=!1,this._loadingHtmlElem.removeEventListener(u,this._loadingHtmlListener),this._loadingHtmlElem.removeEventListener(u,this._removingHtmlListener),f("pg-loading",this._loadingHtmlElem),f("pg-removing",this._loadingHtmlElem),e?(i("pg-removing",this._loadingHtmlElem),this._loadingHtmlElem.addEventListener(u,this._removingHtmlListener)):this._removingHtmlListener()},n.prototype._finish=function(n){var u;if(n==null&&(n=!1),this._loadingElem!=null)return i("pg-loaded",document.body),typeof this._onLoadedCallback=="function"&&this._onLoadedCallback.apply(this),u=function(n){return function(){return document.body.removeChild(n._loadingElem),f("pg-loading",document.body),r&&n._loadingElem.removeEventListener(t,u),n._loadingElem=null}}(this),!n&&r?(i("pg-loaded",this._loadingElem),this._loadingElem.addEventListener(t,u)):u()},n}(),a=function(n){return n==null&&(n={}),new y(n)},n.pleaseWait=a,a});!function(){var n={};n.dev=!1;n.tooltip=n.tooltip||{};n.utils=n.utils||{};n.models=n.models||{};n.charts={};n.logs={};n.dom={};"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3"));n.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(n){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),u=this,t=function(){},i=function(){return u.apply(this instanceof t&&n?this:n,r.concat(Array.prototype.slice.call(arguments)))};return t.prototype=this.prototype,i.prototype=new t,i});n.dev&&(n.dispatch.on("render_start",function(){n.logs.startTime=+new Date}),n.dispatch.on("render_end",function(){n.logs.endTime=+new Date;n.logs.totalTime=n.logs.endTime-n.logs.startTime;n.log("total",n.logs.totalTime)}));n.log=function(){if(n.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(n.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]};n.deprecated=function(n,t){console&&console.warn&&console.warn("nvd3 warning: `"+n+"` has been deprecated. ",t||"")};n.render=function(t){t=t||1;n.render.active=!0;n.dispatch.render_start();var i=function(){for(var f,r,u=0;t>u&&(r=n.render.queue[u]);u++)f=r.generate(),typeof r.callback==typeof Function&&r.callback(f);n.render.queue.splice(0,u);n.render.queue.length?setTimeout(i):(n.dispatch.render_end(),n.render.active=!1)};setTimeout(i)};n.render.active=!1;n.render.queue=[];n.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]});n.render.queue.push(t);n.render.active||n.render()};"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=n);"undefined"!=typeof window&&(window.nv=n);n.dom.write=function(n){return void 0!==window.fastdom?fastdom.mutate(n):n()};n.dom.read=function(n){return void 0!==window.fastdom?fastdom.measure(n):n()};n.interactiveGuideline=function(){"use strict";function t(l){l.each(function(l){function a(){var n=d3.event.clientX-this.getBoundingClientRect().left,e=d3.event.clientY-this.getBoundingClientRect().top,s=!0,h=!1,l,o,a;if(c&&(n=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(s=!1),d3.event.target.className.baseVal.match("nv-legend")&&(h=!0)),s&&(n-=u.left,e-=u.top),"mouseout"===d3.event.type||0>n||0>e||n>w||e>v||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||h)return c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(f.nvPointerEventsClass))?void 0:(r.elementMouseout({mouseX:n,mouseY:e}),t.renderGuideLine(null),void f.hidden(!0));if(f.hidden(!1),l="function"==typeof i.rangeBands,o=void 0,l){if(a=d3.bisect(i.range(),n)-1,!(i.range()[a]+i.rangeBand()>=n))return r.elementMouseout({mouseX:n,mouseY:e}),t.renderGuideLine(null),void f.hidden(!0);o=i.domain()[d3.bisect(i.range(),n)-1]}else o=i.invert(n);r.elementMousemove({mouseX:n,mouseY:e,pointXValue:o});"dblclick"===d3.event.type&&r.elementDblclick({mouseX:n,mouseY:e,pointXValue:o});"click"===d3.event.type&&r.elementClick({mouseX:n,mouseY:e,pointXValue:o});"mousedown"===d3.event.type&&r.elementMouseDown({mouseX:n,mouseY:e,pointXValue:o});"mouseup"===d3.event.type&&r.elementMouseUp({mouseX:n,mouseY:e,pointXValue:o})}var p=d3.select(this),w=o||960,v=s||400,y=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]),b=y.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");b.append("g").attr("class","nv-interactiveGuideLine");e&&(e.on("touchmove",a).on("mousemove",a,!0).on("mouseout",a,!0).on("mousedown",a,!0).on("mouseup",a,!0).on("dblclick",a).on("click",a),t.guideLine=null,t.renderGuideLine=function(i){h&&(t.guideLine&&t.guideLine.attr("x1")===i||n.dom.write(function(){var t=y.select(".nv-interactiveGuideLine").selectAll("line").data(null!=i?[n.utils.NaNtoZero(i)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(n){return n}).attr("x2",function(n){return n}).attr("y1",v).attr("y2",0);t.exit().remove()}))})})}var u={left:0,top:0},o=null,s=null,i=d3.scale.linear(),r=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),h=!0,e=null,f=n.models.tooltip(),c=window.ActiveXObject;return f.duration(0).hideDelay(0).hidden(!1),t.dispatch=r,t.tooltip=f,t.margin=function(n){return arguments.length?(u.top="undefined"!=typeof n.top?n.top:u.top,u.left="undefined"!=typeof n.left?n.left:u.left,t):u},t.width=function(n){return arguments.length?(o=n,t):o},t.height=function(n){return arguments.length?(s=n,t):s},t.xScale=function(n){return arguments.length?(i=n,t):i},t.showGuideLine=function(n){return arguments.length?(h=n,t):h},t.svgContainer=function(n){return arguments.length?(e=n,t):e},t};n.interactiveBisect=function(n,t,i){"use strict";var u,e,o;if(!(n instanceof Array))return null;u="function"!=typeof i?function(n){return n.x}:i;var s=function(n,t){return u(n)-t},h=d3.bisector(s).left,r=d3.max([0,h(n,t)-1]),f=u(n[r]);return("undefined"==typeof f&&(f=r),f===t)?r:(e=d3.min([r+1,n.length-1]),o=u(n[e]),"undefined"==typeof o&&(o=e),Math.abs(o-t)>=Math.abs(f-t)?r:e)};n.nearestValueIndex=function(n,t,i){"use strict";var r=1/0,u=null;return n.forEach(function(n,f){var e=Math.abs(t-n);null!=n&&r>=e&&i>e&&(r=e,u=f)}),u};n.models.tooltip=function(){"use strict";function nt(){if(!t||!t.node())t=d3.select(document.body).select("#"+s).data([1]),t.enter().append("div").attr("class","nvtooltip "+(f?f:"xy-tooltip")).attr("id",s).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(y,!0).classed(y,!0),t.exit().remove()}function r(){if(l&&tt(u))return(n.dom.write(function(){nt();var n=k(u,t.node());n&&(t.node().innerHTML=n);rt()}),r)}var s="nvtooltip-"+Math.floor(1e5*Math.random()),u=null,h="w",i=25,g=0,f=null,e=!0,c=200,t=null,o={left:null,top:null},l=!0,a=100,v=!0,y="nv-pointer-events-none",p=function(n){return n},w=function(n){return n},b=function(n){return n},k=function(n){var i,u,f,t,r;return null===n?"":(i=d3.select(document.createElement("table")),v&&(u=i.selectAll("thead").data([n]).enter().append("thead"),u.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(w(n.value))),f=i.selectAll("tbody").data([n]).enter().append("tbody"),t=f.selectAll("tr").data(function(n){return n.series}).enter().append("tr").classed("highlight",function(n){return n.highlight}),t.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(n){return n.color}),t.append("td").classed("key",!0).classed("total",function(n){return!!n.total}).html(function(n,t){return b(n.key,t)}),t.append("td").classed("value",!0).html(function(n,t){return p(n.value,t,n)}),t.filter(function(n){return void 0!==n.percent}).append("td").classed("percent",!0).html(function(n){return"("+d3.format("%")(n.percent)+")"}),t.selectAll("td").each(function(n){if(n.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",n.color]),i=.6;d3.select(this).style("border-bottom-color",t(i)).style("border-top-color",t(i))}}),r=i.node().outerHTML,void 0!==n.footer&&(r+="<div class='footer'>"+n.footer+"<\/div>"),r)},d=function(){var n={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0},t;return"none"!=getComputedStyle(document.body).transform&&(t=document.body.getBoundingClientRect(),n.left-=t.left,n.top-=t.top),n},tt=function(t){if(t&&t.series){if(n.utils.isArray(t.series))return!0;if(n.utils.isObject(t.series))return t.series=[t.series],!0}return!1},it=function(n){var r,u,f,e=t.node().offsetHeight,o=t.node().offsetWidth,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(h){case"e":r=-o-i;u=-(e/2);n.left+r<0&&(r=i);(f=n.top+u)<0&&(u-=f);(f=n.top+u+e)>c&&(u-=f-c);break;case"w":r=i;u=-(e/2);n.left+r+o>s&&(r=-o-i);(f=n.top+u)<0&&(u-=f);(f=n.top+u+e)>c&&(u-=f-c);break;case"n":r=-(o/2)-5;u=i;n.top+u+e>c&&(u=-e-i);(f=n.left+r)<0&&(r-=f);(f=n.left+r+o)>s&&(r-=f-s);break;case"s":r=-(o/2);u=-e-i;n.top+u<0&&(u=i);(f=n.left+r)<0&&(r-=f);(f=n.left+r+o)>s&&(r-=f-s);break;case"center":r=-(o/2);u=-(e/2);break;default:r=0;u=0}return{left:r,top:u}},rt=function(){n.dom.read(function(){var n=d(),i=it(n),r=n.left+i.left,u=n.top+i.top;if(e)t.interrupt().transition().delay(c).duration(0).style("opacity",0);else{var h="translate("+o.left+"px, "+o.top+"px)",f="translate("+Math.round(r)+"px, "+Math.round(u)+"px)",s=d3.interpolateString(h,f),l=t.style("opacity")<.1;t.interrupt().transition().duration(l?0:a).styleTween("transform",function(){return s},"important").styleTween("-webkit-transform",function(){return s}).style("-ms-transform",f).style("opacity",1)}o.left=r;o.top=u})};return r.nvPointerEventsClass=y,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{duration:{get:function(){return a},set:function(n){a=n}},gravity:{get:function(){return h},set:function(n){h=n}},distance:{get:function(){return i},set:function(n){i=n}},snapDistance:{get:function(){return g},set:function(n){g=n}},classes:{get:function(){return f},set:function(n){f=n}},enabled:{get:function(){return l},set:function(n){l=n}},hideDelay:{get:function(){return c},set:function(n){c=n}},contentGenerator:{get:function(){return k},set:function(n){k=n}},valueFormatter:{get:function(){return p},set:function(n){p=n}},headerFormatter:{get:function(){return w},set:function(n){w=n}},keyFormatter:{get:function(){return b},set:function(n){b=n}},headerEnabled:{get:function(){return v},set:function(n){v=n}},position:{get:function(){return d},set:function(n){d=n}},chartContainer:{get:function(){return document.body},set:function(){n.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(){n.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(){n.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return e},set:function(n){e!=n&&(e=!!n,r())}},data:{get:function(){return u},set:function(n){n.point&&(n.value=n.point.x,n.series=n.series||{},n.series.value=n.point.y,n.series.color=n.point.color||n.series.color);u=n}},node:{get:function(){return t.node()},set:function(){}},id:{get:function(){return s},set:function(){}}}),n.utils.initOptions(r),r};n.utils.windowSize=function(){var n={width:640,height:480};return window.innerWidth&&window.innerHeight?(n.width=window.innerWidth,n.height=window.innerHeight,n):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(n.width=document.documentElement.offsetWidth,n.height=document.documentElement.offsetHeight,n):document.body&&document.body.offsetWidth?(n.width=document.body.offsetWidth,n.height=document.body.offsetHeight,n):n};n.utils.isArray=Array.isArray;n.utils.isObject=function(n){return null!==n&&"object"==typeof n};n.utils.isFunction=function(n){return"function"==typeof n};n.utils.isDate=function(n){return"[object Date]"===toString.call(n)};n.utils.isNumber=function(n){return!isNaN(n)&&"number"==typeof n};n.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):n.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}};n.utils.getColor=function(t){if(void 0===t)return n.utils.defaultColor();if(n.utils.isArray(t)){var i=d3.scale.ordinal().range(t);return function(n,t){var r=void 0===t?n:t;return n.color||i(r)}}return t};n.utils.defaultColor=function(){return n.utils.getColor(d3.scale.category20().range())};n.utils.customTheme=function(t,i,r){i=i||function(n){return n.key};r=r||d3.scale.category20().range();var u=r.length;return function(f){var e=i(f);return n.utils.isFunction(t[e])?t[e]():void 0!==t[e]?t[e]:(u||(u=r.length),u-=1,r[u])}};n.utils.pjax=function(t,i){var r=function(r){d3.html(r,function(r){var u=d3.select(i).node();u.parentNode.replaceChild(d3.select(r).select(i).node(),u);n.utils.pjax(t,i)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href);r(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})};n.utils.calcApproxTextWidth=function(t){if(n.utils.isFunction(t.style)&&n.utils.isFunction(t.text)){var i=parseInt(t.style("font-size").replace("px",""),10),r=t.text().length;return n.utils.NaNtoZero(r*i*.5)}return 0};n.utils.NaNtoZero=function(t){return!n.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-(1/0)?0:t};d3.selection.prototype.watchTransition=function(n){var t=[this].concat([].slice.call(arguments,1));return n.transition.apply(n,t)};n.utils.renderWatch=function(t,i){if(!(this instanceof n.utils.renderWatch))return new n.utils.renderWatch(t,i);var u=void 0!==i?i:250,r=[],f=this;this.models=function(n){return n=[].slice.call(arguments,0),n.forEach(function(n){n.__rendered=!1,function(n){n.dispatch.on("renderEnd",function(){n.__rendered=!0;f.renderEnd("model")})}(n);r.indexOf(n)<0&&r.push(n)}),this};this.reset=function(n){void 0!==n&&(u=n);r=[]};this.transition=function(n,t,i){if(t=arguments.length>1?[].slice.call(arguments,1):[],i=t.length>1?t.pop():void 0!==u?u:250,n.__rendered=!1,r.indexOf(n)<0&&r.push(n),0===i)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;n.__rendered=0===n.length?!0:n.every(function(n){return!n.length})?!0:!1;var e=0;return n.transition().duration(i).each(function(){++e}).each("end",function(){0==--e&&(n.__rendered=!0,f.renderEnd.apply(this,t))})};this.renderEnd=function(){r.every(function(n){return n.__rendered})&&(r.forEach(function(n){n.__rendered=!1}),t.renderEnd.apply(this,arguments))}};n.utils.deepExtend=function(t){var i=arguments.length>1?[].slice.call(arguments,1):[];i.forEach(function(i){for(var r in i){var u=n.utils.isArray(t[r]),f=n.utils.isObject(t[r]),e=n.utils.isObject(i[r]);f&&!u&&e?n.utils.deepExtend(t[r],i[r]):t[r]=i[r]}})};n.utils.state=function(){var f;if(!(this instanceof n.utils.state))return new n.utils.state;var i={},r=function(){},u=function(){return{}},t=null,e=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(n){r(n,!0)});this.getter=function(n){return u=n,this};this.setter=function(n,t){return t||(t=function(){}),r=function(i,r){n(i);r&&t()},this};this.init=function(i){t=t||{};n.utils.deepExtend(t,i)};f=function(){var t=u(),n;if(JSON.stringify(t)===JSON.stringify(i))return!1;for(n in t)void 0===i[n]&&(i[n]={}),i[n]=t[n],e=!0;return!0};this.update=function(){t&&(r(t,!1),t=null);f.call(this)&&this.dispatch.change(i)}};n.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,i){n.utils.isFunction(this[t])&&this[t](i)}.bind(this)),this};n.utils.calcTicksX=function(t,i){var r=1,u=0,f;for(u;u<i.length;u+=1)f=i[u]&&i[u].values?i[u].values.length:0,r=f>r?f:r;return n.log("Requested number of ticks: ",t),n.log("Calculated max values to be: ",r),t=t>r?t=r-1:t,t=1>t?1:t,t=Math.floor(t),n.log("Calculating tick count as: ",t),t};n.utils.calcTicksY=function(t,i){return n.utils.calcTicksX(t,i)};n.utils.initOption=function(n,t){n._calls&&n._calls[t]?n[t]=n._calls[t]:(n[t]=function(i){return arguments.length?(n._overrides[t]=!0,n._options[t]=i,n):n._options[t]},n["_"+t]=function(i){return arguments.length?(n._overrides[t]||(n._options[t]=i),n):n._options[t]})};n.utils.initOptions=function(t){var i,r,u;t._overrides=t._overrides||{};i=Object.getOwnPropertyNames(t._options||{});r=Object.getOwnPropertyNames(t._calls||{});i=i.concat(r);for(u in i)n.utils.initOption(t,i[u])};n.utils.inheritOptionsD3=function(n,t,i){n._d3options=i.concat(n._d3options||[]);n._d3options=(n._d3options||[]).filter(function(n,t,i){return i.indexOf(n)===t});i.unshift(t);i.unshift(n);d3.rebind.apply(this,i)};n.utils.arrayUnique=function(n){return n.sort().filter(function(t,i){return!i||t!=n[i-1]})};n.utils.symbolMap=d3.map();n.utils.symbol=function(){function t(t,u){var f=i.call(this,t,u),e=r.call(this,t,u);return-1!==d3.svg.symbolTypes.indexOf(f)?d3.svg.symbol().type(f).size(e)():n.utils.symbolMap.get(f)(e)}var i,r=64;return t.type=function(n){return arguments.length?(i=d3.functor(n),t):i},t.size=function(n){return arguments.length?(r=d3.functor(n),t):r},t};n.utils.inheritOptions=function(t,i){var r=Object.getOwnPropertyNames(i._options||{}),f=Object.getOwnPropertyNames(i._calls||{}),e=i._inherited||[],o=i._d3options||[],u=r.concat(f).concat(e).concat(o);u.unshift(i);u.unshift(t);d3.rebind.apply(this,u);t._inherited=n.utils.arrayUnique(r.concat(f).concat(e).concat(r).concat(t._inherited||[]));t._d3options=n.utils.arrayUnique(o.concat(t._d3options||[]))};n.utils.initSVG=function(n){n.classed({"nvd3-svg":!0})};n.utils.sanitizeHeight=function(n,t){return n||parseInt(t.style("height"),10)||400};n.utils.sanitizeWidth=function(n,t){return n||parseInt(t.style("width"),10)||960};n.utils.availableHeight=function(t,i,r){return Math.max(0,n.utils.sanitizeHeight(t,i)-r.top-r.bottom)};n.utils.availableWidth=function(t,i,r){return Math.max(0,n.utils.sanitizeWidth(t,i)-r.left-r.right)};n.utils.noData=function(t,i){var f=t.options(),r=f.margin(),e=f.noData(),o=null==e?["No Data Available."]:[e],s=n.utils.availableHeight(null,i,r),h=n.utils.availableWidth(null,i,r),c=r.left+h/2,l=r.top+s/2,u;i.selectAll("g").remove();u=i.selectAll(".nv-noData").data(o);u.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");u.attr("x",c).attr("y",l).text(function(n){return n})};n.utils.wrapTicks=function(n,t){n.each(function(){for(var r,n=d3.select(this),o=n.text().split(/\s+/).reverse(),i=[],s=0,f=n.attr("y"),e=parseFloat(n.attr("dy")),u=n.text(null).append("tspan").attr("x",0).attr("y",f).attr("dy",e+"em");r=o.pop();)i.push(r),u.text(i.join(" ")),u.node().getComputedTextLength()>t&&(i.pop(),u.text(i.join(" ")),i=[r],u=n.append("tspan").attr("x",0).attr("y",f).attr("dy",++s*1.1+e+"em").text(r))})};n.utils.arrayEquals=function(t,i){if(t===i)return!0;if(!t||!i||t.length!=i.length)return!1;for(var r=0,u=t.length;u>r;r++)if(t[r]instanceof Array&&i[r]instanceof Array){if(!n.arrayEquals(t[r],i[r]))return!1}else if(t[r]!=i[r])return!1;return!0};n.utils.pointIsInArc=function(n,t,i){var u=i.innerRadius()(t),f=i.outerRadius()(t),o=i.startAngle()(t),s=i.endAngle()(t),e=n.x*n.x+n.y*n.y,r=Math.atan2(n.x,-n.y);return r=0>r?r+2*Math.PI:r,e>=u*u&&f*f>=e&&r>=o&&s>=r};n.models.axis=function(){"use strict";function r(w){return e.reset(),w.each(function(r){var ht=d3.select(this),it,d,et,w,g,st,rt;n.utils.initSVG(ht);var nt=ht.selectAll("g.nv-wrap.nv-axis").data([r]),lt=nt.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),tt=(lt.append("g"),nt.select("g"));null!==y?i.ticks(y):("top"==i.orient()||"bottom"==i.orient())&&i.ticks(Math.abs(t.range()[1]-t.range()[0])/100);tt.watchTransition(e,"axis").call(i);a=a||i.scale();it=i.tickFormat();null==it&&(it=a.tickFormat());d=tt.selectAll("text.nv-axislabel").data([b||null]);d.exit().remove();void 0!==p&&tt.selectAll("g").select("text").style("font-size",p);switch(i.orient()){case"top":d.enter().append("text").attr("class","nv-axislabel");g=0;1===t.range().length?g=h?2*t.range()[0]+t.rangeBand():0:2===t.range().length?g=h?t.range()[0]+t.range()[1]+t.rangeBand():t.range()[1]:t.range().length>2&&(g=t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]));d.attr("text-anchor","middle").attr("y",0).attr("x",g/2);o&&(w=nt.selectAll("g.nv-axisMaxMin").data(t.domain()),w.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-i.tickPadding()).attr("text-anchor","middle").text(function(n){var i=c||it,t=i(n);return(""+t).match("NaN")?"":t}),w.watchTransition(e,"min-max top").attr("transform",function(i,r){return"translate("+n.utils.NaNtoZero(t.range()[r])+",0)"}));break;case"bottom":et=l+36;var ft=30,ct=0,ut=tt.selectAll("g").select("text"),ot="";s%360?(ut.attr("transform",""),ut.each(function(){var n=this.getBoundingClientRect(),t=n.width;ct=n.height;t>ft&&(ft=t)}),ot="rotate("+s+" 0,"+(ct/2+i.tickPadding())+")",st=Math.abs(Math.sin(s*Math.PI/180)),et=(st?st*ft:ft)+30,ut.attr("transform",ot).style("text-anchor",s%360>0?"start":"end")):k?ut.attr("transform",function(n,t){return"translate(0,"+(t%2==0?"0":"12")+")"}):ut.attr("transform","translate(0,0)");d.enter().append("text").attr("class","nv-axislabel");g=0;1===t.range().length?g=h?2*t.range()[0]+t.rangeBand():0:2===t.range().length?g=h?t.range()[0]+t.range()[1]+t.rangeBand():t.range()[1]:t.range().length>2&&(g=t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]));d.attr("text-anchor","middle").attr("y",et).attr("x",g/2);o&&(w=nt.selectAll("g.nv-axisMaxMin").data([t.domain()[0],t.domain()[t.domain().length-1]]),w.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i)+(h?t.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",i.tickPadding()).attr("transform",ot).style("text-anchor",s?s%360>0?"start":"end":"middle").text(function(n){var i=c||it,t=i(n);return(""+t).match("NaN")?"":t}),w.watchTransition(e,"min-max bottom").attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i)+(h?t.rangeBand()/2:0))+",0)"}));break;case"right":d.enter().append("text").attr("class","nv-axislabel");d.style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?-Math.max(u.right,v)+12-(l||0):-10).attr("x",f?d3.max(t.range())/2:i.tickPadding());o&&(w=nt.selectAll("g.nv-axisMaxMin").data(t.domain()),w.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(i){return"translate(0,"+n.utils.NaNtoZero(t(i))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",i.tickPadding()).style("text-anchor","start").text(function(n){var i=c||it,t=i(n);return(""+t).match("NaN")?"":t}),w.watchTransition(e,"min-max right").attr("transform",function(i,r){return"translate(0,"+n.utils.NaNtoZero(t.range()[r])+")"}).select("text").style("opacity",1));break;case"left":d.enter().append("text").attr("class","nv-axislabel");d.style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?-Math.max(u.left,v)+25-(l||0):-10).attr("x",f?-d3.max(t.range())/2:-i.tickPadding());o&&(w=nt.selectAll("g.nv-axisMaxMin").data(t.domain()),w.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(t){return"translate(0,"+n.utils.NaNtoZero(a(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-i.tickPadding()).attr("text-anchor","end").text(function(n){var i=c||it,t=i(n);return(""+t).match("NaN")?"":t}),w.watchTransition(e,"min-max right").attr("transform",function(i,r){return"translate(0,"+n.utils.NaNtoZero(t.range()[r])+")"}).select("text").style("opacity",1))}(d.text(function(n){return n}),!o||"left"!==i.orient()&&"right"!==i.orient()||(tt.selectAll("g").each(function(n){d3.select(this).select("text").attr("opacity",1);(t(n)<t.range()[1]+10||t(n)>t.range()[0]-10)&&((n>1e-10||-1e-10>n)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),t.domain()[0]==t.domain()[1]&&0==t.domain()[0]&&nt.selectAll("g.nv-axisMaxMin").style("opacity",function(n,t){return t?0:1})),o&&("top"===i.orient()||"bottom"===i.orient()))&&(rt=[],nt.selectAll("g.nv-axisMaxMin").each(function(n,i){try{i?rt.push(t(n)-this.getBoundingClientRect().width-4):rt.push(t(n)+this.getBoundingClientRect().width+4)}catch(r){i?rt.push(t(n)-4):rt.push(t(n)+4)}}),tt.selectAll("g").each(function(n){(t(n)<rt[0]||t(n)>rt[1])&&(n>1e-10||-1e-10>n?d3.select(this).remove():d3.select(this).select("text").remove())}));tt.selectAll(".tick").filter(function(n){return!parseFloat(Math.round(1e5*n)/1e6)&&void 0!==n}).classed("zero",!0);a=t.copy()}),e.renderEnd("axis immediate"),r}var c,i=d3.svg.axis(),t=d3.scale.linear(),u={top:0,right:0,bottom:0,left:0},v=75,d=60,b=null,o=!0,s=0,f=!0,k=!1,h=!1,y=null,l=0,p=void 0,w=250,g=d3.dispatch("renderEnd"),a,e;return i.scale(t).orient("bottom").tickFormat(function(n){return n}),e=n.utils.renderWatch(g,w),r.axis=i,r.dispatch=g,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{axisLabelDistance:{get:function(){return l},set:function(n){l=n}},staggerLabels:{get:function(){return k},set:function(n){k=n}},rotateLabels:{get:function(){return s},set:function(n){s=n}},rotateYLabel:{get:function(){return f},set:function(n){f=n}},showMaxMin:{get:function(){return o},set:function(n){o=n}},axisLabel:{get:function(){return b},set:function(n){b=n}},height:{get:function(){return d},set:function(n){d=n}},ticks:{get:function(){return y},set:function(n){y=n}},width:{get:function(){return v},set:function(n){v=n}},fontSize:{get:function(){return p},set:function(n){p=n}},tickFormatMaxMin:{get:function(){return c},set:function(n){c=n}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return w},set:function(n){w=n;e.reset(w)}},scale:{get:function(){return t},set:function(u){t=u;i.scale(t);h="function"==typeof t.rangeBands;n.utils.inheritOptionsD3(r,t,["domain","range","rangeBand","rangeBands"])}}}),n.utils.initOptions(r),n.utils.inheritOptionsD3(r,i,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),n.utils.inheritOptionsD3(r,t,["domain","range","rangeBand","rangeBands"]),r};n.models.boxPlot=function(){"use strict";function l(ht){return h.reset(),ht.each(function(l){var gt=ft-u.left-u.right,ni=et-u.top-u.bottom,yt,bt,kt,ct,vt,ht,lt,at;ot=d3.select(this);n.utils.initSVG(ot);r.domain(nt||l.map(function(n,t){return s(n,t)})).rangeBands(tt||[0,gt],.1);yt=[];b||(ct=[],l.forEach(function(n){var t=a(n),i=c(n),r=o(n),u=y(n),f=k(n);f&&f.forEach(function(n,t){ct.push(d(n,t,void 0))});r&&ct.push(r);t&&ct.push(t);i&&ct.push(i);u&&ct.push(u)}),bt=d3.min(ct),kt=d3.max(ct),yt=[bt,kt]);t.domain(b||yt);t.range(it||[ni,0]);rt=rt||r;ut=ut||t.copy().range([t(0),t(0)]);vt=ot.selectAll("g.nv-wrap").data([l]);vt.enter().append("g").attr("class","nvd3 nv-wrap");vt.attr("transform","translate("+u.left+","+u.top+")");ht=vt.selectAll(".nv-boxplot").data(function(n){return n});lt=ht.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);ht.attr("class","nv-boxplot").attr("transform",function(n,t){return"translate("+(r(s(n,t))+.05*r.rangeBand())+", 0)"}).classed("hover",function(n){return n.hover});ht.watchTransition(h,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(n,t){return t*w/l.length}).attr("transform",function(n,t){return"translate("+(r(s(n,t))+.05*r.rangeBand())+", 0)"});ht.exit().remove();lt.each(function(n,t){var r=d3.select(this);[o,y].forEach(function(u){if(void 0!==u(n)&&null!==u(n)){var e=u===o?"low":"high";r.append("line").style("stroke",f(n)||i(n,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+e);r.append("line").style("stroke",f(n)||i(n,t)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var pt=function(){return null===st?.9*r.rangeBand():Math.min(75,.9*r.rangeBand())},wt=function(){return.45*r.rangeBand()-pt()/2},dt=function(){return.45*r.rangeBand()+pt()/2};[o,y].forEach(function(n){var i=n===o?"low":"high",u=n===o?a:c;ht.select("line.nv-boxplot-whisker.nv-boxplot-"+i).watchTransition(h,"nv-boxplot: boxplots").attr("x1",.45*r.rangeBand()).attr("y1",function(i){return t(n(i))}).attr("x2",.45*r.rangeBand()).attr("y2",function(n){return t(u(n))});ht.select("line.nv-boxplot-tick.nv-boxplot-"+i).watchTransition(h,"nv-boxplot: boxplots").attr("x1",wt).attr("y1",function(i){return t(n(i))}).attr("x2",dt).attr("y2",function(i){return t(n(i))})});[o,y].forEach(function(n){var t=n===o?"low":"high";lt.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,r,u){d3.select(this).classed("hover",!0);e.elementMouseover({series:{key:n(t),color:f(t)||i(t,u)},e:d3.event})}).on("mouseout",function(t,r,u){d3.select(this).classed("hover",!1);e.elementMouseout({series:{key:n(t),color:f(t)||i(t,u)},e:d3.event})}).on("mousemove",function(){e.elementMousemove({e:d3.event})})});lt.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(n,t){d3.select(this).classed("hover",!0);e.elementMouseover({key:s(n),value:s(n),series:[{key:"Q3",value:c(n),color:f(n)||i(n,t)},{key:"Q2",value:v(n),color:f(n)||i(n,t)},{key:"Q1",value:a(n),color:f(n)||i(n,t)}],data:n,index:t,e:d3.event})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);e.elementMouseout({key:s(n),value:s(n),series:[{key:"Q3",value:c(n),color:f(n)||i(n,t)},{key:"Q2",value:v(n),color:f(n)||i(n,t)},{key:"Q1",value:a(n),color:f(n)||i(n,t)}],data:n,index:t,e:d3.event})}).on("mousemove",function(){e.elementMousemove({e:d3.event})});ht.select("rect.nv-boxplot-box").watchTransition(h,"nv-boxplot: boxes").attr("y",function(n){return t(c(n))}).attr("width",pt).attr("x",wt).attr("height",function(n){return Math.abs(t(c(n))-t(a(n)))||1}).style("fill",function(n,t){return f(n)||i(n,t)}).style("stroke",function(n,t){return f(n)||i(n,t)});lt.append("line").attr("class","nv-boxplot-median");ht.select("line.nv-boxplot-median").watchTransition(h,"nv-boxplot: boxplots line").attr("x1",wt).attr("y1",function(n){return t(v(n))}).attr("x2",dt).attr("y2",function(n){return t(v(n))});at=ht.selectAll(".nv-boxplot-outlier").data(function(n){return k(n)||[]});at.enter().append("circle").style("fill",function(n,t,r){return p(n,t,r)||i(n,r)}).style("stroke",function(n,t,r){return p(n,t,r)||i(n,r)}).style("z-index",9e3).on("mouseover",function(n,t,r){d3.select(this).classed("hover",!0);e.elementMouseover({series:{key:g(n,t,r),color:p(n,t,r)||i(n,r)},e:d3.event})}).on("mouseout",function(n,t,r){d3.select(this).classed("hover",!1);e.elementMouseout({series:{key:g(n,t,r),color:p(n,t,r)||i(n,r)},e:d3.event})}).on("mousemove",function(){e.elementMousemove({e:d3.event})});at.attr("class","nv-boxplot-outlier");at.watchTransition(h,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*r.rangeBand()).attr("cy",function(n,i,r){return t(d(n,i,r))}).attr("r","3");at.exit().remove();rt=r.copy();ut=t.copy()}),h.renderEnd("nv-boxplot immediate"),l}var nt,tt,b,it,rt,ut,u={top:0,right:0,bottom:0,left:0},ft=960,et=500,ht=Math.floor(1e4*Math.random()),r=d3.scale.ordinal(),t=d3.scale.linear(),s=function(n){return n.label},a=function(n){return n.values.Q1},v=function(n){return n.values.Q2},c=function(n){return n.values.Q3},o=function(n){return n.values.whisker_low},y=function(n){return n.values.whisker_high},f=function(n){return n.color},k=function(n){return n.values.outliers},d=function(n){return n},g=function(n){return n},p=function(){return void 0},i=n.utils.defaultColor(),ot=null,e=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=250,st=null,h=n.utils.renderWatch(e,w);return l.dispatch=e,l.options=n.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return ft},set:function(n){ft=n}},height:{get:function(){return et},set:function(n){et=n}},maxBoxWidth:{get:function(){return st},set:function(n){st=n}},x:{get:function(){return s},set:function(n){s=n}},q1:{get:function(){return a},set:function(n){a=n}},q2:{get:function(){return v},set:function(n){v=n}},q3:{get:function(){return c},set:function(n){c=n}},wl:{get:function(){return o},set:function(n){o=n}},wh:{get:function(){return y},set:function(n){y=n}},itemColor:{get:function(){return f},set:function(n){f=n}},outliers:{get:function(){return k},set:function(n){k=n}},outlierValue:{get:function(){return d},set:function(n){d=n}},outlierLabel:{get:function(){return g},set:function(n){g=n}},outlierColor:{get:function(){return p},set:function(n){p=n}},xScale:{get:function(){return r},set:function(n){r=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return nt},set:function(n){nt=n}},yDomain:{get:function(){return b},set:function(n){b=n}},xRange:{get:function(){return tt},set:function(n){tt=n}},yRange:{get:function(){return it},set:function(n){it=n}},id:{get:function(){return ht},set:function(n){ht=n}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},color:{get:function(){return i},set:function(t){i=n.utils.getColor(t)}},duration:{get:function(){return w},set:function(n){w=n;h.reset(w)}}}),n.utils.initOptions(l),l};n.models.boxPlotChart=function(){"use strict";function i(e){return o.reset(),o.models(r),a&&o.models(s),v&&o.models(f),e.each(function(e){var b=d3.select(this),g,nt,it,ut,ft;if(n.utils.initSVG(b),g=(p||parseInt(b.style("width"))||960)-t.left-t.right,nt=(w||parseInt(b.style("height"))||400)-t.top-t.bottom,i.update=function(){d.beforeUpdate();b.transition().duration(u).call(i)},i.container=this,!e||!e.length)return it=b.selectAll(".nv-noData").data([k]),it.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),it.attr("x",t.left+g/2).attr("y",t.top+nt/2).text(function(n){return n}),i;b.selectAll(".nv-noData").remove();l=r.xScale();h=r.yScale().clamp(!0);var rt=b.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([e]),tt=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),et=tt.append("defs"),o=rt.select("g");tt.append("g").attr("class","nv-x nv-axis");tt.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");tt.append("g").attr("class","nv-barsWrap");o.attr("transform","translate("+t.left+","+t.top+")");y&&o.select(".nv-y.nv-axis").attr("transform","translate("+g+",0)");r.width(g).height(nt);ut=o.select(".nv-barsWrap").datum(e.filter(function(n){return!n.disabled}));(ut.transition().call(r),et.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),o.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",l.rangeBand()*(c?2:1)).attr("height",16).attr("x",-l.rangeBand()/(c?1:2)),a)&&(s.scale(l).ticks(n.utils.calcTicksX(g/100,e)).tickSize(-nt,0),o.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")"),o.select(".nv-x.nv-axis").call(s),ft=o.select(".nv-x.nv-axis").selectAll("g"),c&&ft.selectAll("text").attr("transform",function(n,t,i){return"translate(0,"+(i%2==0?"5":"17")+")"}));v&&(f.scale(h).ticks(Math.floor(nt/36)).tickSize(-g,0),o.select(".nv-y.nv-axis").call(f));o.select(".nv-zeroLine line").attr("x1",0).attr("x2",g).attr("y1",h(0)).attr("y2",h(0))}),o.renderEnd("nv-boxplot chart immediate"),i}var l,h,r=n.models.boxPlot(),s=n.models.axis(),f=n.models.axis(),t={top:15,right:10,bottom:50,left:60},p=null,w=null,b=n.utils.getColor(),a=!0,v=!0,y=!1,c=!1,e=n.models.tooltip(),k="No Data Available.",d=d3.dispatch("beforeUpdate","renderEnd"),u=250,o;return s.orient("bottom").showMaxMin(!1).tickFormat(function(n){return n}),f.orient(y?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0),o=n.utils.renderWatch(d,u),r.dispatch.on("elementMouseover.tooltip",function(n){e.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(n){e.data(n).hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){e()}),i.dispatch=d,i.boxplot=r,i.xAxis=s,i.yAxis=f,i.tooltip=e,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return p},set:function(n){p=n}},height:{get:function(){return w},set:function(n){w=n}},staggerLabels:{get:function(){return c},set:function(n){c=n}},showXAxis:{get:function(){return a},set:function(n){a=n}},showYAxis:{get:function(){return v},set:function(n){v=n}},tooltipContent:{get:function(){return e},set:function(n){e=n}},noData:{get:function(){return k},set:function(n){k=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},duration:{get:function(){return u},set:function(n){u=n;o.reset(u);r.duration(u);s.duration(u);f.duration(u)}},color:{get:function(){return b},set:function(t){b=n.utils.getColor(t);r.color(b)}},rightAlignYAxis:{get:function(){return y},set:function(n){y=n;f.orient(n?"right":"left")}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.bullet=function(){"use strict";function f(n,t){var i=n.slice();n.sort(function(n,r){var u=i.indexOf(n),f=i.indexOf(r);return d3.descending(t[u],t[f])})}function r(e){return e.each(function(r,e){var kt=l-t.left-t.right,ft=a-t.top-t.bottom,w,lt,at,et,wt,bt;v=d3.select(this);n.utils.initSVG(v);var ut=o.call(this,r,e).slice(),vt=s.call(this,r,e).slice(),yt=k.call(this,r,e).slice(),rt=h.call(this,r,e).slice(),pt=d.call(this,r,e).slice(),dt=g.call(this,r,e).slice(),gt=nt.call(this,r,e).slice(),ot=tt.call(this,r,e).slice();f(pt,ut);f(dt,vt);f(gt,yt);f(ot,rt);ut.sort(d3.descending);vt.sort(d3.descending);yt.sort(d3.descending);rt.sort(d3.descending);w=d3.scale.linear().domain(d3.extent(d3.merge([c,ut]))).range(p?[kt,0]:[0,kt]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(w.range());this.__chart__=w;for(var st=(d3.min(ut),d3.max(ut),ut[1],v.selectAll("g.nv-wrap.nv-bullet").data([r])),ii=st.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),ht=ii.append("g"),ct=st.select("g"),e=0,ni=ut.length;ni>e;e++)lt="nv-range nv-range"+e,2>=e&&(lt=lt+" nv-range"+it[e]),ht.append("rect").attr("class",lt);ht.append("rect").attr("class","nv-measure");st.attr("transform","translate("+t.left+","+t.top+")");for(var ri=function(n){return Math.abs(w(n)-w(0))},ti=function(n){return w(0>n?n:0)},e=0,ni=ut.length;ni>e;e++)at=ut[e],ct.select("rect.nv-range"+e).datum(at).attr("height",ft).transition().duration(u).attr("width",ri(at)).attr("x",ti(at));ct.select("rect.nv-measure").style("fill",y).attr("height",ft/3).attr("y",ft/3).on("mouseover",function(){i.elementMouseover({value:rt[0],label:ot[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){i.elementMousemove({value:rt[0],label:ot[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){i.elementMouseout({value:rt[0],label:ot[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(u).attr("width",0>rt?w(0)-w(rt[0]):w(rt[0])-w(0)).attr("x",ti(rt));et=ft/6;wt=vt.map(function(n,t){return{value:n,label:dt[t]}});ht.selectAll("path.nv-markerTriangle").data(wt).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+et+"L"+et+","+-et+" "+-et+","+-et+"Z").on("mouseover",function(n){i.elementMouseover({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill"),pos:[w(n.value),ft/2]})}).on("mousemove",function(n){i.elementMousemove({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(n){i.elementMouseout({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})});ct.selectAll("path.nv-markerTriangle").data(wt).transition().duration(u).attr("transform",function(n){return"translate("+w(n.value)+","+ft/2+")"});bt=yt.map(function(n,t){return{value:n,label:gt[t]}});ht.selectAll("line.nv-markerLine").data(bt).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(n){return w(n.value)}).attr("y1","2").attr("x2",function(n){return w(n.value)}).attr("y2",ft-2).on("mouseover",function(n){i.elementMouseover({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill"),pos:[w(n.value),ft/2]})}).on("mousemove",function(n){i.elementMousemove({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(n){i.elementMouseout({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})});ct.selectAll("line.nv-markerLine").data(bt).transition().duration(u).attr("x1",function(n){return w(n.value)}).attr("x2",function(n){return w(n.value)});st.selectAll(".nv-range").on("mouseover",function(n,t){var r=pt[t]||b[t];i.elementMouseover({value:n,label:r,color:d3.select(this).style("fill")})}).on("mousemove",function(){i.elementMousemove({value:rt[0],label:ot[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){var r=pt[t]||b[t];i.elementMouseout({value:n,label:r,color:d3.select(this).style("fill")})})}),r}var t={top:0,right:0,bottom:0,left:0},e="left",p=!1,o=function(n){return n.ranges},s=function(n){return n.markers?n.markers:[]},k=function(n){return n.markerLines?n.markerLines:[0]},h=function(n){return n.measures},d=function(n){return n.rangeLabels?n.rangeLabels:[]},g=function(n){return n.markerLabels?n.markerLabels:[]},nt=function(n){return n.markerLineLabels?n.markerLineLabels:[]},tt=function(n){return n.measureLabels?n.measureLabels:[]},c=[0],l=380,a=30,v=null,w=null,y=n.utils.getColor(["#1f77b4"]),i=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),b=["Maximum","Mean","Minimum"],it=["Max","Avg","Min"],u=1e3;return r.dispatch=i,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{ranges:{get:function(){return o},set:function(n){o=n}},markers:{get:function(){return s},set:function(n){s=n}},measures:{get:function(){return h},set:function(n){h=n}},forceX:{get:function(){return c},set:function(n){c=n}},width:{get:function(){return l},set:function(n){l=n}},height:{get:function(){return a},set:function(n){a=n}},tickFormat:{get:function(){return w},set:function(n){w=n}},duration:{get:function(){return u},set:function(n){u=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},orient:{get:function(){return e},set:function(n){e=n;p="right"==e||"bottom"==e}},color:{get:function(){return y},set:function(t){y=n.utils.getColor(t)}}}),n.utils.initOptions(r),r};n.models.bulletChart=function(){"use strict";function i(u){return u.each(function(f,y){var k=d3.select(this),b,p,w,ut,nt,ft,it;if(n.utils.initSVG(k),b=n.utils.availableWidth(l,k,t),p=o-t.top-t.bottom,i.update=function(){i(u)},i.container=this,!f||!e.call(this,f,y))return n.utils.noData(i,k),i;k.selectAll(".nv-noData").remove();var st=e.call(this,f,y).slice().sort(d3.descending),ht=h.call(this,f,y).slice().sort(d3.descending),ct=c.call(this,f,y).slice().sort(d3.descending),d=k.selectAll("g.nv-wrap.nv-bulletChart").data([f]),lt=d.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),g=lt.append("g"),rt=d.select("g");g.append("g").attr("class","nv-bulletWrap");g.append("g").attr("class","nv-titles");d.attr("transform","translate("+t.left+","+t.top+")");w=d3.scale.linear().domain([0,Math.max(st[0],ht[0]||0,ct[0])]).range(v?[b,0]:[0,b]);ut=this.__chart__||d3.scale.linear().domain([0,1/0]).range(w.range());this.__chart__=w;nt=g.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(o-t.top-t.bottom)/2+")");nt.append("text").attr("class","nv-title").text(function(n){return n.title});nt.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(n){return n.subtitle});r.width(b).height(p);ft=rt.select(".nv-bulletWrap");d3.transition(ft).call(r);var et=a||w.tickFormat(b/100),tt=rt.selectAll("g.nv-tick").data(w.ticks(s?s:b/50),function(n){return this.textContent||et(n)}),ot=tt.enter().append("g").attr("class","nv-tick").attr("transform",function(n){return"translate("+ut(n)+",0)"}).style("opacity",1e-6);ot.append("line").attr("y1",p).attr("y2",7*p/6);ot.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*p/6).text(et);it=d3.transition(tt).transition().duration(r.duration()).attr("transform",function(n){return"translate("+w(n)+",0)"}).style("opacity",1);it.select("line").attr("y1",p).attr("y2",7*p/6);it.select("text").attr("y",7*p/6);d3.transition(tt.exit()).transition().duration(r.duration()).attr("transform",function(n){return"translate("+w(n)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),i}var r=n.models.bullet(),u=n.models.tooltip(),f="left",v=!1,t={top:5,right:40,bottom:20,left:120},e=function(n){return n.ranges},h=function(n){return n.markers?n.markers:[]},c=function(n){return n.measures},l=null,o=55,a=null,s=null,y=null,p=d3.dispatch();return u.duration(0).headerEnabled(!1),r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:n.label,value:n.value,color:n.color};u.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){u()}),i.bullet=r,i.dispatch=p,i.tooltip=u,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{ranges:{get:function(){return e},set:function(n){e=n}},markers:{get:function(){return h},set:function(n){h=n}},measures:{get:function(){return c},set:function(n){c=n}},width:{get:function(){return l},set:function(n){l=n}},height:{get:function(){return o},set:function(n){o=n}},tickFormat:{get:function(){return a},set:function(n){a=n}},ticks:{get:function(){return s},set:function(n){s=n}},noData:{get:function(){return y},set:function(n){y=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},orient:{get:function(){return f},set:function(n){f=n;v="right"==f||"bottom"==f}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.candlestickBar=function(){"use strict";function u(it){return it.each(function(u){var rt,ot,it,ft,st;o=d3.select(this);rt=n.utils.availableWidth(k,o,r);ot=n.utils.availableHeight(d,o,r);n.utils.initSVG(o);it=rt/u[0].values.length*.45;i.domain(p||d3.extent(u[0].values.map(s).concat(g)));nt?i.range(a||[.5*rt/u[0].values.length,rt*(u[0].values.length-.5)/u[0].values.length]):i.range(a||[5+it/2,rt-it/2-5]);t.domain(w||[d3.min(u[0].values.map(l).concat(y)),d3.max(u[0].values.map(c).concat(y))]).range(b||[ot,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));var et=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([u[0].values]),ht=et.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),ct=ht.append("defs"),lt=ht.append("g"),at=et.select("g");lt.append("g").attr("class","nv-ticks");et.attr("transform","translate("+r.left+","+r.top+")");o.on("click",function(n,t){ut.chartClick({data:n,index:t,pos:d3.event,id:h})});ct.append("clipPath").attr("id","nv-chart-clip-path-"+h).append("rect");et.select("#nv-chart-clip-path-"+h+" rect").attr("width",rt).attr("height",ot);at.attr("clip-path",tt?"url(#nv-chart-clip-path-"+h+")":"");ft=et.select(".nv-ticks").selectAll(".nv-tick").data(function(n){return n});ft.exit().remove();st=ft.enter().append("g");ft.attr("class",function(n,t,i){return(f(n,t)>e(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t});st.append("line").attr("class","nv-candlestick-lines").attr("transform",function(n,t){return"translate("+i(s(n,t))+",0)"}).attr("x1",0).attr("y1",function(n,i){return t(c(n,i))}).attr("x2",0).attr("y2",function(n,i){return t(l(n,i))});st.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(n,r){return"translate("+(i(s(n,r))-it/2)+","+(t(v(n,r))-(f(n,r)>e(n,r)?t(e(n,r))-t(f(n,r)):0))+")"}).attr("x",0).attr("y",0).attr("width",it).attr("height",function(n,i){var r=f(n,i),u=e(n,i);return r>u?t(u)-t(r):t(r)-t(u)});ft.select(".nv-candlestick-lines").transition().attr("transform",function(n,t){return"translate("+i(s(n,t))+",0)"}).attr("x1",0).attr("y1",function(n,i){return t(c(n,i))}).attr("x2",0).attr("y2",function(n,i){return t(l(n,i))});ft.select(".nv-candlestick-rects").transition().attr("transform",function(n,r){return"translate("+(i(s(n,r))-it/2)+","+(t(v(n,r))-(f(n,r)>e(n,r)?t(e(n,r))-t(f(n,r)):0))+")"}).attr("x",0).attr("y",0).attr("width",it).attr("height",function(n,i){var r=f(n,i),u=e(n,i);return r>u?t(u)-t(r):t(r)-t(u)})}),u}var o,p,w,a,b,r={top:0,right:0,bottom:0,left:0},k=null,d=null,h=Math.floor(1e4*Math.random()),i=d3.scale.linear(),t=d3.scale.linear(),s=function(n){return n.x},v=function(n){return n.y},f=function(n){return n.open},e=function(n){return n.close},c=function(n){return n.high},l=function(n){return n.low},g=[],y=[],nt=!1,tt=!0,it=n.utils.defaultColor(),rt=!1,ut=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return u.highlightPoint=function(n,t){u.clearHighlights();o.select(".nv-candlestickBar .nv-tick-0-"+n).classed("hover",t)},u.clearHighlights=function(){o.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},u.dispatch=ut,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return k},set:function(n){k=n}},height:{get:function(){return d},set:function(n){d=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return p},set:function(n){p=n}},yDomain:{get:function(){return w},set:function(n){w=n}},xRange:{get:function(){return a},set:function(n){a=n}},yRange:{get:function(){return b},set:function(n){b=n}},forceX:{get:function(){return g},set:function(n){g=n}},forceY:{get:function(){return y},set:function(n){y=n}},padData:{get:function(){return nt},set:function(n){nt=n}},clipEdge:{get:function(){return tt},set:function(n){tt=n}},id:{get:function(){return h},set:function(n){h=n}},interactive:{get:function(){return rt},set:function(n){rt=n}},x:{get:function(){return s},set:function(n){s=n}},y:{get:function(){return v},set:function(n){v=n}},open:{get:function(){return f()},set:function(n){f=n}},close:{get:function(){return e()},set:function(n){e=n}},high:{get:function(){return c},set:function(n){c=n}},low:{get:function(){return l},set:function(n){l=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!=n.top?n.top:r.top;r.right=void 0!=n.right?n.right:r.right;r.bottom=void 0!=n.bottom?n.bottom:r.bottom;r.left=void 0!=n.left?n.left:r.left}},color:{get:function(){return it},set:function(t){it=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.cumulativeLineChart=function(){"use strict";function t(g){return p.reset(),p.models(u),it&&p.models(h),rt&&p.models(o),g.each(function(p){function hi(){d3.select(t.container).style("cursor","ew-resize")}function ci(){r.x=d3.event.x;r.i=Math.round(y.invert(r.x));ri()}function li(){d3.select(t.container).style("cursor","auto");i.index=r.i;c.stateChange(i)}function ri(){ti.data([r]);var n=t.duration();t.duration(0);t.update();t.duration(n)}var lt=d3.select(this),nt,yt,ni,oi,p,si,ui,fi,ti;if(n.utils.initSVG(lt),lt.classed("nv-chart-"+wt,!0),nt=n.utils.availableWidth(st,lt,f),yt=n.utils.availableHeight(tt,lt,f),t.update=function(){0===s?lt.call(t):lt.transition().duration(s).call(t)},t.container=this,i.setter(kt(p),t.update).getter(bt(p)).update(),i.disabled=p.map(function(n){return!!n.disabled}),!v){v={};for(ni in i)v[ni]=i[ni]instanceof Array?i[ni].slice(0):i[ni]}if(oi=d3.behavior.drag().on("dragstart",hi).on("drag",ci).on("dragend",li),!(p&&p.length&&p.filter(function(n){return n.values.length}).length))return n.utils.noData(t,lt),t;lt.selectAll(".nv-noData").remove();ot=u.xScale();w=u.yScale();y.domain([0,p[0].values.length-1]).range([0,nt]).clamp(!0);p=pt(r.i,p);"undefined"==typeof et&&(et=at(p));e?u.yDomain(null):(u.yDomain(et),u.clipEdge(!0));var ai=ft?"none":"all",gt=lt.selectAll("g.nv-wrap.nv-cumulativeLine").data([p]),dt=gt.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),g=gt.select("g");(dt.append("g").attr("class","nv-interactive"),dt.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),dt.append("g").attr("class","nv-y nv-axis"),dt.append("g").attr("class","nv-background"),dt.append("g").attr("class","nv-linesWrap").style("pointer-events",ai),dt.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),dt.append("g").attr("class","nv-legendWrap"),dt.append("g").attr("class","nv-controlsWrap"),ht?(l.width(nt),g.select(".nv-legendWrap").datum(p).call(l),vt||l.height()===f.top||(f.top=l.height(),yt=n.utils.availableHeight(tt,lt,f)),g.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")):g.select(".nv-legendWrap").selectAll("*").remove(),ct)?(si=[{key:"Re-scale y-axis",disabled:!e}],b.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),g.select(".nv-controlsWrap").datum(si).attr("transform","translate(0,"+-f.top+")").call(b)):g.select(".nv-controlsWrap").selectAll("*").remove();gt.attr("transform","translate("+f.left+","+f.top+")");ut&&g.select(".nv-y.nv-axis").attr("transform","translate("+nt+",0)");ui=p.filter(function(n){return n.tempDisabled});gt.select(".tempDisabled").remove();ui.length&&gt.append("text").attr("class","tempDisabled").attr("x",nt/2).attr("y","-.71em").style("text-anchor","end").text(ui.map(function(n){return n.key}).join(", ")+" values cannot be calculated for this time period.");ft&&(a.width(nt).height(yt).margin({left:f.left,top:f.top}).svgContainer(lt).xScale(ot),gt.select(".nv-interactive").call(a));dt.select(".nv-background").append("rect");g.select(".nv-background rect").attr("width",nt).attr("height",yt);u.y(function(n){return n.display.y}).width(nt).height(yt).color(p.map(function(n,t){return n.color||k(n,t)}).filter(function(n,t){return!p[t].disabled&&!p[t].tempDisabled}));fi=g.select(".nv-linesWrap").datum(p.filter(function(n){return!n.disabled&&!n.tempDisabled}));fi.call(u);p.forEach(function(n,t){n.seriesIndex=t});var vi=p.filter(function(n){return!n.disabled&&!!d(n)}),ei=g.select(".nv-avgLinesWrap").selectAll("line").data(vi,function(n){return n.key}),ii=function(n){var t=w(d(n));return 0>t?0:t>yt?yt:t};ei.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(n){return u.color()(n,n.seriesIndex)}).attr("x1",0).attr("x2",nt).attr("y1",ii).attr("y2",ii);ei.style("stroke-opacity",function(n){var t=w(d(n));return 0>t||t>yt?0:1}).attr("x1",0).attr("x2",nt).attr("y1",ii).attr("y2",ii);ei.exit().remove();ti=fi.selectAll(".nv-indexLine").data([r]);ti.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(oi);ti.attr("transform",function(n){return"translate("+y(n.i)+",0)"}).attr("height",yt);it&&(h.scale(ot)._ticks(n.utils.calcTicksX(nt/70,p)).tickSize(-yt,0),g.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")"),g.select(".nv-x.nv-axis").call(h));rt&&(o.scale(w)._ticks(n.utils.calcTicksY(yt/36,p)).tickSize(-nt,0),g.select(".nv-y.nv-axis").call(o));g.select(".nv-background rect").on("click",function(){r.x=d3.mouse(this)[0];r.i=Math.round(y.invert(r.x));i.index=r.i;c.stateChange(i);ri()});u.dispatch.on("elementClick",function(n){r.i=n.pointIndex;r.x=y(r.i);i.index=r.i;c.stateChange(i);ri()});b.dispatch.on("legendClick",function(n){n.disabled=!n.disabled;e=!n.disabled;i.rescaleY=e;e||(et=at(p));c.stateChange(i);t.update()});l.dispatch.on("stateChange",function(n){for(var r in n)i[r]=n[r];c.stateChange(i);t.update()});a.dispatch.on("elementMousemove",function(i){var e,r,s,f,l;if(u.clearHighlights(),f=[],p.filter(function(n,t){return n.seriesIndex=t,!(n.disabled||n.tempDisabled)}).forEach(function(o,h){r=n.interactiveBisect(o.values,i.pointXValue,t.x());u.highlightPoint(h,r,!0);var c=o.values[r];"undefined"!=typeof c&&("undefined"==typeof e&&(e=c),"undefined"==typeof s&&(s=t.xScale()(t.x()(c,r))),f.push({key:o.key,value:t.y()(c,r),color:k(o,o.seriesIndex)}))}),f.length>2){var v=t.yScale().invert(i.mouseY),y=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),w=.03*y,c=n.nearestValueIndex(f.map(function(n){return n.value}),v,w);null!==c&&(f[c].highlight=!0)}l=h.tickFormat()(t.x()(e,r),r);a.tooltip.valueFormatter(function(n){return o.tickFormat()(n)}).data({value:l,series:f})();a.renderGuideLine(s)});a.dispatch.on("elementMouseout",function(){u.clearHighlights()});c.on("changeState",function(n){"undefined"!=typeof n.disabled&&(p.forEach(function(t,i){t.disabled=n.disabled[i]}),i.disabled=n.disabled);"undefined"!=typeof n.index&&(r.i=n.index,r.x=y(r.i),i.index=n.index,ti.data([r]));"undefined"!=typeof n.rescaleY&&(e=n.rescaleY);t.update()})}),p.renderEnd("cumulativeLineChart immediate"),t}function pt(n,t){return g||(g=u.y()),t.map(function(t){var r,i;return t.values?(r=t.values[n],null==r)?t:(i=g(r,n),Math.abs(i)<1e-5&&!lt?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(n,t){return n.display={y:(g(n,t)-i)/i},n}),t)):t})}function at(n){var t=n.filter(function(n){return!(n.disabled||n.tempDisabled)}).map(function(n){return d3.extent(n.values,function(n){return n.display.y})});return[d3.min(t,function(n){return n[0]}),d3.max(t,function(n){return n[1]})]}var ot,w,u=n.models.line(),h=n.models.axis(),o=n.models.axis(),l=n.models.legend(),b=n.models.legend(),a=n.interactiveGuideline(),nt=n.models.tooltip(),f={top:30,right:30,bottom:50,left:60},vt=null,k=n.utils.defaultColor(),st=null,tt=null,ht=!0,it=!0,rt=!0,ut=!1,ct=!0,ft=!1,e=!0,wt=u.id(),i=n.utils.state(),v=null,yt=null,d=function(n){return n.average},c=d3.dispatch("stateChange","changeState","renderEnd"),s=250,lt=!1,g;i.index=0;i.rescaleY=e;h.orient("bottom").tickPadding(7);o.orient(ut?"right":"left");nt.valueFormatter(function(n,t){return o.tickFormat()(n,t)}).headerFormatter(function(n,t){return h.tickFormat()(n,t)});b.updateState(!1);var et,y=d3.scale.linear(),r={i:0,x:0},p=n.utils.renderWatch(c,s),bt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),index:r.i,rescaleY:e}}},kt=function(n){return function(t){void 0!==t.index&&(r.i=t.index);void 0!==t.rescaleY&&(e=t.rescaleY);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return u.dispatch.on("elementMouseover.tooltip",function(n){var i={x:t.x()(n.point),y:t.y()(n.point),color:n.point.color};n.point=i;nt.data(n).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){nt.hidden(!0)}),g=null,t.dispatch=c,t.lines=u,t.legend=l,t.controls=b,t.xAxis=h,t.yAxis=o,t.interactiveLayer=a,t.state=i,t.tooltip=nt,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return st},set:function(n){st=n}},height:{get:function(){return tt},set:function(n){tt=n}},showControls:{get:function(){return ct},set:function(n){ct=n}},showLegend:{get:function(){return ht},set:function(n){ht=n}},average:{get:function(){return d},set:function(n){d=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return yt},set:function(n){yt=n}},showXAxis:{get:function(){return it},set:function(n){it=n}},showYAxis:{get:function(){return rt},set:function(n){rt=n}},noErrorCheck:{get:function(){return lt},set:function(n){lt=n}},rescaleY:{get:function(){return e},set:function(n){e=n;t.state.rescaleY=n}},margin:{get:function(){return f},set:function(n){void 0!==n.top&&(f.top=n.top,vt=n.top);f.right=void 0!==n.right?n.right:f.right;f.bottom=void 0!==n.bottom?n.bottom:f.bottom;f.left=void 0!==n.left?n.left:f.left}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t);l.color(k)}},useInteractiveGuideline:{get:function(){return ft},set:function(n){ft=n;n===!0&&(t.interactive(!1),t.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return ut},set:function(n){ut=n;o.orient(n?"right":"left")}},duration:{get:function(){return s},set:function(n){s=n;u.duration(s);h.duration(s);o.duration(s);p.reset(s)}}}),n.utils.inheritOptions(t,u),n.utils.initOptions(t),t};n.models.discreteBar=function(){"use strict";function e(y){return f.reset(),y.each(function(e){var st=d-i.left-i.right,ot=g-i.top-i.bottom,ft,rt,y,et;p=d3.select(this);n.utils.initSVG(p);e.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});ft=h&&c?[]:e.map(function(n){return n.values.map(function(n,t){return{x:s(n,t),y:u(n,t),y0:n.y0}})});r.domain(h||d3.merge(ft).map(function(n){return n.x})).rangeBands(w||[0,st],.1);t.domain(c||d3.extent(d3.merge(ft).map(function(n){return n.y}).concat(nt)));v?t.range(l||[ot-(t.domain()[0]<0?12:0),t.domain()[1]>0?12:0]):t.range(l||[ot,0]);b=b||r;k=k||t.copy().range([t(0),t(0)]);var ut=p.selectAll("g.nv-wrap.nv-discretebar").data([e]),ht=ut.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),ct=ht.append("g");ut.select("g");ct.append("g").attr("class","nv-groups");ut.attr("transform","translate("+i.left+","+i.top+")");rt=ut.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});rt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);rt.exit().watchTransition(f,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();rt.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover});rt.watchTransition(f,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);y=rt.selectAll("g.nv-bar").data(function(n){return n.values});y.exit().remove();et=y.enter().append("g").attr("transform",function(n,i){return"translate("+(r(s(n,i))+.05*r.rangeBand())+", "+t(0)+")"}).on("mouseover",function(n,t){d3.select(this).classed("hover",!0);o.elementMouseover({data:n,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);o.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(n,t){o.elementMousemove({data:n,index:t,color:d3.select(this).style("fill")})}).on("click",function(n,t){var i=this;o.elementClick({data:n,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i});d3.event.stopPropagation()}).on("dblclick",function(n,t){o.elementDblClick({data:n,index:t,color:d3.select(this).style("fill")});d3.event.stopPropagation()});et.append("rect").attr("height",0).attr("width",.9*r.rangeBand()/e.length);v?(et.append("text").attr("text-anchor","middle"),y.select("text").text(function(n,t){return tt(u(n,t))}).watchTransition(f,"discreteBar: bars text").attr("x",.9*r.rangeBand()/2).attr("y",function(n,i){return u(n,i)<0?t(u(n,i))-t(0)+12:-4})):y.selectAll("text").remove();y.attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(n,t){return n.color||a(n,t)}).style("stroke",function(n,t){return n.color||a(n,t)}).select("rect").attr("class",it).watchTransition(f,"discreteBar: bars rect").attr("width",.9*r.rangeBand()/e.length);y.watchTransition(f,"discreteBar: bars").attr("transform",function(n,i){var f=r(s(n,i))+.05*r.rangeBand(),e=u(n,i)<0?t(0):t(0)-t(u(n,i))<1?t(0)-1:t(u(n,i));return"translate("+f+", "+e+")"}).select("rect").attr("height",function(n,i){return Math.max(Math.abs(t(u(n,i))-t(0)),1)});b=r.copy();k=t.copy()}),f.renderEnd("discreteBar immediate"),e}var p,h,c,w,l,b,k,i={top:0,right:0,bottom:0,left:0},d=960,g=500,rt=Math.floor(1e4*Math.random()),r=d3.scale.ordinal(),t=d3.scale.linear(),s=function(n){return n.x},u=function(n){return n.y},nt=[0],a=n.utils.defaultColor(),v=!1,tt=d3.format(",.2f"),o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),it="discreteBar",y=250,f=n.utils.renderWatch(o,y);return e.dispatch=o,e.options=n.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return g},set:function(n){g=n}},forceY:{get:function(){return nt},set:function(n){nt=n}},showValues:{get:function(){return v},set:function(n){v=n}},x:{get:function(){return s},set:function(n){s=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return r},set:function(n){r=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return h},set:function(n){h=n}},yDomain:{get:function(){return c},set:function(n){c=n}},xRange:{get:function(){return w},set:function(n){w=n}},yRange:{get:function(){return l},set:function(n){l=n}},valueFormat:{get:function(){return tt},set:function(n){tt=n}},id:{get:function(){return rt},set:function(n){rt=n}},rectClass:{get:function(){return it},set:function(n){it=n}},margin:{get:function(){return i},set:function(n){i.top=void 0!==n.top?n.top:i.top;i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}},duration:{get:function(){return y},set:function(n){y=n;f.reset(y)}}}),n.utils.initOptions(e),e};n.models.discreteBarChart=function(){"use strict";function t(c){return o.reset(),o.models(r),b&&o.models(e),k&&o.models(u),c.each(function(o){var w=d3.select(this),rt,ut,st,ot;if(n.utils.initSVG(w),rt=n.utils.availableWidth(d,w,i),ut=n.utils.availableHeight(p,w,i),t.update=function(){tt.beforeUpdate();w.transition().duration(f).call(t)},t.container=this,!(o&&o.length&&o.filter(function(n){return n.values.length}).length))return n.utils.noData(t,w),t;w.selectAll(".nv-noData").remove();y=r.xScale();s=r.yScale().clamp(!0);var et=w.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([o]),ft=et.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),ht=ft.append("defs"),c=et.select("g");ft.append("g").attr("class","nv-x nv-axis");ft.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");ft.append("g").attr("class","nv-barsWrap");ft.append("g").attr("class","nv-legendWrap");c.attr("transform","translate("+i.left+","+i.top+")");g?(h.width(rt),c.select(".nv-legendWrap").datum(o).call(h),it||h.height()===i.top||(i.top=h.height(),ut=n.utils.availableHeight(p,w,i)),et.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")):c.select(".nv-legendWrap").selectAll("*").remove();l&&c.select(".nv-y.nv-axis").attr("transform","translate("+rt+",0)");r.width(rt).height(ut);st=c.select(".nv-barsWrap").datum(o.filter(function(n){return!n.disabled}));(st.transition().call(r),ht.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),c.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",y.rangeBand()*(a?2:1)).attr("height",16).attr("x",-y.rangeBand()/(a?1:2)),b)&&(e.scale(y)._ticks(n.utils.calcTicksX(rt/100,o)).tickSize(-ut,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+(s.range()[0]+(r.showValues()&&s.domain()[0]<0?16:0))+")"),c.select(".nv-x.nv-axis").call(e),ot=c.select(".nv-x.nv-axis").selectAll("g"),a&&ot.selectAll("text").attr("transform",function(n,t,i){return"translate(0,"+(i%2==0?"5":"17")+")"}),v&&ot.selectAll(".tick text").attr("transform","rotate("+v+" 0,0)").style("text-anchor",v>0?"start":"end"),nt&&c.selectAll(".tick text").call(n.utils.wrapTicks,t.xAxis.rangeBand()));k&&(u.scale(s)._ticks(n.utils.calcTicksY(ut/36,o)).tickSize(-rt,0),c.select(".nv-y.nv-axis").call(u));c.select(".nv-zeroLine line").attr("x1",0).attr("x2",l?-rt:rt).attr("y1",s(0)).attr("y2",s(0))}),o.renderEnd("discreteBar chart immediate"),t}var y,s,r=n.models.discreteBar(),e=n.models.axis(),u=n.models.axis(),h=n.models.legend(),c=n.models.tooltip(),i={top:15,right:10,bottom:50,left:60},it=null,d=null,p=null,w=n.utils.getColor(),g=!1,b=!0,k=!0,l=!1,a=!1,nt=!1,v=0,rt=null,tt=d3.dispatch("beforeUpdate","renderEnd"),f=250,o;return e.orient("bottom").showMaxMin(!1).tickFormat(function(n){return n}),u.orient(l?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).headerEnabled(!1).valueFormatter(function(n,t){return u.tickFormat()(n,t)}).keyFormatter(function(n,t){return e.tickFormat()(n,t)}),o=n.utils.renderWatch(tt,f),r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:t.x()(n.data),value:t.y()(n.data),color:n.color};c.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){c.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){c()}),t.dispatch=tt,t.discretebar=r,t.legend=h,t.xAxis=e,t.yAxis=u,t.tooltip=c,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return g},set:function(n){g=n}},staggerLabels:{get:function(){return a},set:function(n){a=n}},rotateLabels:{get:function(){return v},set:function(n){v=n}},wrapLabels:{get:function(){return nt},set:function(n){nt=!!n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return k},set:function(n){k=n}},noData:{get:function(){return rt},set:function(n){rt=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,it=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},duration:{get:function(){return f},set:function(n){f=n;o.reset(f);r.duration(f);e.duration(f);u.duration(f)}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t);r.color(w);h.color(w)}},rightAlignYAxis:{get:function(){return l},set:function(n){l=n;u.orient(n?"right":"left")}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.distribution=function(){"use strict";function t(s){return o.reset(),s.each(function(t){var y=(h-("x"===r?i.left+i.right:i.top+i.bottom),"x"==r?"y":"x"),p=d3.select(this),s,a;n.utils.initSVG(p);e=e||f;var v=p.selectAll("g.nv-distribution").data([t]),w=v.enter().append("g").attr("class","nvd3 nv-distribution"),b=(w.append("g"),v.select("g"));v.attr("transform","translate("+i.left+","+i.top+")");s=b.selectAll("g.nv-dist").data(function(n){return n},function(n){return n.key});s.enter().append("g");s.attr("class",function(n,t){return"nv-dist nv-series-"+t}).style("stroke",function(n,t){return l(n,t)});a=s.selectAll("line.nv-dist"+r).data(function(n){return n.values});a.enter().append("line").attr(r+"1",function(n,t){return e(u(n,t))}).attr(r+"2",function(n,t){return e(u(n,t))});o.transition(s.exit().selectAll("line.nv-dist"+r),"dist exit").attr(r+"1",function(n,t){return f(u(n,t))}).attr(r+"2",function(n,t){return f(u(n,t))}).style("stroke-opacity",0).remove();a.attr("class",function(n,t){return"nv-dist"+r+" nv-dist"+r+"-"+t}).attr(y+"1",0).attr(y+"2",c);o.transition(a,"dist").attr(r+"1",function(n,t){return f(u(n,t))}).attr(r+"2",function(n,t){return f(u(n,t))});e=f.copy()}),o.renderEnd("distribution immediate"),t}var e,i={top:0,right:0,bottom:0,left:0},h=400,c=8,r="x",u=function(n){return n[r]},l=n.utils.defaultColor(),f=d3.scale.linear(),s=250,a=d3.dispatch("renderEnd"),o=n.utils.renderWatch(a,s);return t.options=n.utils.optionsFunc.bind(t),t.dispatch=a,t.margin=function(n){return arguments.length?(i.top="undefined"!=typeof n.top?n.top:i.top,i.right="undefined"!=typeof n.right?n.right:i.right,i.bottom="undefined"!=typeof n.bottom?n.bottom:i.bottom,i.left="undefined"!=typeof n.left?n.left:i.left,t):i},t.width=function(n){return arguments.length?(h=n,t):h},t.axis=function(n){return arguments.length?(r=n,t):r},t.size=function(n){return arguments.length?(c=n,t):c},t.getData=function(n){return arguments.length?(u=d3.functor(n),t):u},t.scale=function(n){return arguments.length?(f=n,t):f},t.color=function(i){return arguments.length?(l=n.utils.getColor(i),t):l},t.duration=function(n){return arguments.length?(s=n,o.reset(s),t):s},t};n.models.focus=function(t){"use strict";function i(g){return c.reset(),c.models(t),y&&c.models(h),p&&c.models(o),g.each(function(c){function ct(n){var r=+("e"==n),i=r?1:-1,t=g/3;return"M"+.5*i+","+t+"A6,6 0 0 "+r+" "+6.5*i+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+r+" "+.5*i+","+2*t+"ZM"+2.5*i+","+(t+8)+"V"+(2*t-8)+"M"+4.5*i+","+(t+8)+"V"+(2*t-8)}function lt(){r.empty()||r.extent(s);ft.data([r.empty()?f.domain():s]).each(function(n){var t=f(n[0])-f.range()[0],i=tt-f(n[1]);d3.select(this).select(".left").attr("width",0>t?0:t);d3.select(this).select(".right").attr("x",f(n[1])).attr("width",0>i?0:i)})}function st(n){s=r.empty()?null:r.extent();var t=r.empty()?f.domain():r.extent();l.brush({extent:t,brush:r});lt();n&&l.onBrush(t)}var rt=d3.select(this),tt,g,ht,ft,et,ot;n.utils.initSVG(rt);tt=n.utils.availableWidth(k,rt,u);g=d-u.top-u.bottom;i.update=function(){0===e?rt.call(i):rt.transition().duration(e).call(i)};i.container=this;f=t.xScale();a=t.yScale();var ut=rt.selectAll("g.nv-focus").data([c]),it=ut.enter().append("g").attr("class","nvd3 nv-focus").append("g"),nt=ut.select("g");ut.attr("transform","translate("+u.left+","+u.top+")");it.append("g").attr("class","nv-background").append("rect");it.append("g").attr("class","nv-x nv-axis");it.append("g").attr("class","nv-y nv-axis");it.append("g").attr("class","nv-contentWrap");it.append("g").attr("class","nv-brushBackground");it.append("g").attr("class","nv-x nv-brush");w&&nt.select(".nv-y.nv-axis").attr("transform","translate("+tt+",0)");nt.select(".nv-background rect").attr("width",tt).attr("height",g);t.width(tt).height(g).color(c.map(function(n,t){return n.color||v(n,t)}).filter(function(n,t){return!c[t].disabled}));ht=nt.select(".nv-contentWrap").datum(c.filter(function(n){return!n.disabled}));d3.transition(ht).call(t);r.x(f).on("brush",function(){st(b)});r.on("brushend",function(){b||l.onBrush(r.empty()?f.domain():r.extent())});s&&r.extent(s);ft=nt.select(".nv-brushBackground").selectAll("g").data([s||r.extent()]);et=ft.enter().append("g");et.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",g);et.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",g);ot=nt.select(".nv-x.nv-brush").call(r);ot.selectAll("rect").attr("height",g);ot.selectAll(".resize").append("path").attr("d",ct);st(!0);nt.select(".nv-background rect").attr("width",tt).attr("height",g);y&&(h.scale(f)._ticks(n.utils.calcTicksX(tt/100,c)).tickSize(-g,0),nt.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),d3.transition(nt.select(".nv-x.nv-axis")).call(h));p&&(o.scale(a)._ticks(n.utils.calcTicksY(g/36,c)).tickSize(-tt,0),d3.transition(nt.select(".nv-y.nv-axis")).call(o));nt.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")")}),c.renderEnd("focus immediate"),i}var f,a,t=t||n.models.line(),h=n.models.axis(),o=n.models.axis(),r=d3.svg.brush(),u={top:10,right:0,bottom:30,left:0},v=n.utils.defaultColor(),k=null,d=70,y=!0,p=!1,w=!1,s=null,e=250,l=d3.dispatch("brush","onBrush","renderEnd"),b=!0,c;return t.interactive(!1),t.pointActive(function(){return!1}),c=n.utils.renderWatch(l,e),i.dispatch=l,i.content=t,i.brush=r,i.xAxis=h,i.yAxis=o,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return k},set:function(n){k=n}},height:{get:function(){return d},set:function(n){d=n}},showXAxis:{get:function(){return y},set:function(n){y=n}},showYAxis:{get:function(){return p},set:function(n){p=n}},brushExtent:{get:function(){return s},set:function(n){s=n}},syncBrushing:{get:function(){return b},set:function(n){b=n}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return e},set:function(n){e=n;c.reset(e);t.duration(e);h.duration(e);o.duration(e)}},color:{get:function(){return v},set:function(i){v=n.utils.getColor(i);t.color(v)}},interpolate:{get:function(){return t.interpolate()},set:function(n){t.interpolate(n)}},xTickFormat:{get:function(){return h.tickFormat()},set:function(n){h.tickFormat(n)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(n){o.tickFormat(n)}},x:{get:function(){return t.x()},set:function(n){t.x(n)}},y:{get:function(){return t.y()},set:function(n){t.y(n)}},rightAlignYAxis:{get:function(){return w},set:function(n){w=n;o.orient(w?"right":"left")}}}),n.utils.inheritOptions(i,t),n.utils.initOptions(i),i};n.models.forceDirectedGraph=function(){"use strict";function r(k){return tt.reset(),k.each(function(k){var d,g,nt;if(t=d3.select(this),n.utils.initSVG(t),d=n.utils.availableWidth(e,t,i),g=n.utils.availableHeight(o,t,i),t.attr("width",d).attr("height",g),!(k&&k.links&&k.nodes))return n.utils.noData(r,t),r;t.selectAll(".nv-noData").remove();t.selectAll("*").remove();nt=new Set;k.nodes.forEach(function(n){var t=Object.keys(n);t.forEach(function(n){nt.add(n)})});var it=d3.layout.force().nodes(k.nodes).links(k.links).size([d,g]).linkStrength(s).friction(h).linkDistance(c).charge(l).gravity(a).theta(v).alpha(y).start(),rt=t.selectAll(".link").data(k.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(n){return Math.sqrt(n.value)}),tt=t.selectAll(".node").data(k.nodes).enter().append("g").attr("class","nv-force-node").call(it.drag);tt.append("circle").attr("r",p).style("fill",function(n){return u(n)}).on("mouseover",function(n){t.select(".nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",n.py);t.select(".nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",n.px);var i=u(n);n.series=[];nt.forEach(function(t){n.series.push({color:i,key:t,value:n[t]})});f.data(n).hidden(!1)}).on("mouseout",function(){f.hidden(!0)});f.headerFormatter(function(){return"Node"});b(rt);w(tt);it.on("tick",function(){rt.attr("x1",function(n){return n.source.x}).attr("y1",function(n){return n.source.y}).attr("x2",function(n){return n.target.x}).attr("y2",function(n){return n.target.y});tt.attr("transform",function(n){return"translate("+n.x+", "+n.y+")"})})}),r}var i={top:2,right:0,bottom:2,left:0},e=400,o=32,t=null,k=d3.dispatch("renderEnd"),u=n.utils.getColor(["#000"]),f=n.models.tooltip(),d=null,s=.1,h=.9,c=30,l=-120,a=.1,v=.8,y=.1,p=5,w=function(){},b=function(){},g=d3.functor(0),nt=d3.functor(0),tt=n.utils.renderWatch(k);return r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return e},set:function(n){e=n}},height:{get:function(){return o},set:function(n){o=n}},linkStrength:{get:function(){return s},set:function(n){s=n}},friction:{get:function(){return h},set:function(n){h=n}},linkDist:{get:function(){return c},set:function(n){c=n}},charge:{get:function(){return l},set:function(n){l=n}},gravity:{get:function(){return a},set:function(n){a=n}},theta:{get:function(){return v},set:function(n){v=n}},alpha:{get:function(){return y},set:function(n){y=n}},radius:{get:function(){return p},set:function(n){p=n}},x:{get:function(){return g},set:function(n){g=d3.functor(n)}},y:{get:function(){return nt},set:function(n){nt=d3.functor(n)}},margin:{get:function(){return i},set:function(n){i.top=void 0!==n.top?n.top:i.top;i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return u},set:function(t){u=n.utils.getColor(t)}},noData:{get:function(){return d},set:function(n){d=n}},nodeExtras:{get:function(){return w},set:function(n){w=n}},linkExtras:{get:function(){return b},set:function(n){b=n}}}),r.dispatch=k,r.tooltip=f,n.utils.initOptions(r),r};n.models.furiousLegend=function(){"use strict";function u(b){function k(n,t){return"furious"!=i?"#000":r?n.disengaged?o(n,t):"#fff":r?void 0:n.disabled?o(n,t):"#fff"}function d(n,t){return r&&"furious"==i?n.disengaged?"#fff":o(n,t):n.disabled?"#fff":o(n,t)}return b.each(function(u){var pt=h-t.left-t.right,wt=d3.select(this),st,rt,ht,b,ut,bt,at,ft,nt,tt;n.utils.initSVG(wt);st=wt.selectAll("g.nv-legend").data([u]);rt=(st.enter().append("g").attr("class","nvd3 nv-legend").append("g"),st.select("g"));st.attr("transform","translate("+t.left+","+t.top+")");b=rt.selectAll(".nv-series").data(function(n){return"furious"!=i?n:n.filter(function(n){return r?!0:!n.disengaged})});ut=b.enter().append("g").attr("class","nv-series");"classic"==i?(ut.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),ht=b.select("circle")):"furious"==i&&(ut.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),ht=b.select("rect"),ut.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"><\/path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"><\/path>').attr("transform","translate(-10,-8)scale(0.5)"),bt=b.select(".nv-check-box"),bt.each(function(n,t){d3.select(this).selectAll("path").attr("stroke",k(n,t))}));ut.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");at=b.select("text.nv-legend-text");b.on("mouseover",function(n,t){s.legendMouseover(n,t)}).on("mouseout",function(n,t){s.legendMouseout(n,t)}).on("click",function(n,t){var u,f;s.legendClick(n,t);u=b.data();v&&("classic"==i?w?(u.forEach(function(n){n.disabled=!0}),n.disabled=!1):(n.disabled=!n.disabled,u.every(function(n){return n.disabled})&&u.forEach(function(n){n.disabled=!1})):"furious"==i&&(r?(n.disengaged=!n.disengaged,n.userDisabled=void 0==n.userDisabled?!!n.disabled:n.userDisabled,n.disabled=n.disengaged||n.userDisabled):r||(n.disabled=!n.disabled,n.userDisabled=n.disabled,f=u.filter(function(n){return!n.disengaged}),f.every(function(n){return n.userDisabled})&&u.forEach(function(n){n.disabled=n.userDisabled=!1}))),s.stateChange({disabled:u.map(function(n){return!!n.disabled}),disengaged:u.map(function(n){return!!n.disengaged})}))}).on("dblclick",function(n,t){if(("furious"!=i||!r)&&(s.legendDblclick(n,t),v)){var u=b.data();u.forEach(function(n){n.disabled=!0;"furious"==i&&(n.userDisabled=n.disabled)});n.disabled=!1;"furious"==i&&(n.userDisabled=n.disabled);s.stateChange({disabled:u.map(function(n){return!!n.disabled})})}});b.classed("nv-disabled",function(n){return n.userDisabled});b.exit().remove();at.attr("fill",k).text(function(n){return e(f(n))});switch(i){case"furious":ft=23;break;case"classic":ft=20}if(y){nt=[];b.each(function(t){var i,u,r;e(f(t))&&e(f(t)).length>l?(u=e(f(t)).substring(0,l),i=d3.select(this).select("text").text(u+"..."),d3.select(this).append("svg:title").text(e(f(t)))):i=d3.select(this).select("text");try{if(r=i.node().getComputedTextLength(),0>=r)throw Error();}catch(o){r=n.utils.calcApproxTextWidth(i)}nt.push(r+a)});for(var g=0,et=0,it=[];pt>et&&g<nt.length;)it[g]=nt[g],et+=nt[g++];for(0===g&&(g=1);et>pt&&g>1;){for(it=[],g--,tt=0;tt<nt.length;tt++)nt[tt]>(it[tt%g]||0)&&(it[tt%g]=nt[tt]);et=it.reduce(function(n,t){return n+t})}for(var kt=[],ct=0,dt=0;g>ct;ct++)kt[ct]=dt,dt+=it[ct];b.attr("transform",function(n,t){return"translate("+kt[t%g]+","+(5+Math.floor(t/g)*ft)+")"});p?rt.attr("transform","translate("+(h-t.right-et)+","+t.top+")"):rt.attr("transform","translate(0,"+t.top+")");c=t.top+t.bottom+Math.ceil(nt.length/g)*ft}else{var lt,vt=5,ot=5,yt=0;b.attr("transform",function(){var n=d3.select(this).select("text").node().getComputedTextLength()+a;return lt=ot,h<t.left+t.right+lt+n&&(ot=lt=5,vt+=ft),ot+=n,ot>yt&&(yt=ot),"translate("+lt+","+vt+")"});rt.attr("transform","translate("+(h-t.right-yt)+","+t.top+")");c=t.top+t.bottom+vt+15}"furious"==i&&ht.attr("width",function(n,t){return at[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);ht.style("fill",d).style("stroke",function(n,t){return n.color||o(n,t)})}),u}var t={top:5,right:0,bottom:5,left:0},h=400,c=20,f=function(n){return n.key},e=function(n){return n},o=n.utils.getColor(),l=20,y=!0,a=28,p=!0,v=!0,w=!1,r=!1,s=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),i="classic";return u.dispatch=s,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return h},set:function(n){h=n}},height:{get:function(){return c},set:function(n){c=n}},key:{get:function(){return f},set:function(n){f=n}},keyFormatter:{get:function(){return e},set:function(n){e=n}},align:{get:function(){return y},set:function(n){y=n}},rightAlign:{get:function(){return p},set:function(n){p=n}},maxKeyLength:{get:function(){return l},set:function(n){l=n}},padding:{get:function(){return a},set:function(n){a=n}},updateState:{get:function(){return v},set:function(n){v=n}},radioButtonMode:{get:function(){return w},set:function(n){w=n}},expanded:{get:function(){return r},set:function(n){r=n}},vers:{get:function(){return i},set:function(n){i=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},color:{get:function(){return o},set:function(t){o=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.historicalBar=function(){"use strict";function f(it){return it.each(function(f){var it,ft,ut;a.reset();o=d3.select(this);it=n.utils.availableWidth(w,o,r);ft=n.utils.availableHeight(b,o,r);n.utils.initSVG(o);i.domain(v||d3.extent(f[0].values.map(c).concat(k)));g?i.range(l||[.5*it/f[0].values.length,it*(f[0].values.length-.5)/f[0].values.length]):i.range(l||[0,it]);t.domain(y||d3.extent(f[0].values.map(u).concat(d))).range(p||[ft,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));var rt=o.selectAll("g.nv-wrap.nv-historicalBar-"+e).data([f[0].values]),et=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+e),ot=et.append("defs"),st=et.append("g"),ht=rt.select("g");st.append("g").attr("class","nv-bars");rt.attr("transform","translate("+r.left+","+r.top+")");o.on("click",function(n,t){s.chartClick({data:n,index:t,pos:d3.event,id:e})});ot.append("clipPath").attr("id","nv-chart-clip-path-"+e).append("rect");rt.select("#nv-chart-clip-path-"+e+" rect").attr("width",it).attr("height",ft);ht.attr("clip-path",nt?"url(#nv-chart-clip-path-"+e+")":"");ut=rt.select(".nv-bars").selectAll(".nv-bar").data(function(n){return n},function(n,t){return c(n,t)});ut.exit().remove();ut.enter().append("rect").attr("x",0).attr("y",function(i,r){return n.utils.NaNtoZero(t(Math.max(0,u(i,r))))}).attr("height",function(i,r){return n.utils.NaNtoZero(Math.abs(t(u(i,r))-t(0)))}).attr("transform",function(n,t){return"translate("+(i(c(n,t))-it/f[0].values.length*.45)+",0)"}).on("mouseover",function(n,t){h&&(d3.select(this).classed("hover",!0),s.elementMouseover({data:n,index:t,color:d3.select(this).style("fill")}))}).on("mouseout",function(n,t){h&&(d3.select(this).classed("hover",!1),s.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")}))}).on("mousemove",function(n,t){h&&s.elementMousemove({data:n,index:t,color:d3.select(this).style("fill")})}).on("click",function(n,t){if(h){var i=this;s.elementClick({data:n,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i});d3.event.stopPropagation()}}).on("dblclick",function(n,t){h&&(s.elementDblClick({data:n,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())});ut.attr("fill",function(n,t){return tt(n,t)}).attr("class",function(n,t,i){return(u(n,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+i+"-"+t}).watchTransition(a,"bars").attr("transform",function(n,t){return"translate("+(i(c(n,t))-it/f[0].values.length*.45)+",0)"}).attr("width",it/f[0].values.length*.9);ut.watchTransition(a,"bars").attr("y",function(i,r){var f=u(i,r)<0?t(0):t(0)-t(u(i,r))<1?t(0)-1:t(u(i,r));return n.utils.NaNtoZero(f)}).attr("height",function(i,r){return n.utils.NaNtoZero(Math.max(Math.abs(t(u(i,r))-t(0)),1))})}),a.renderEnd("historicalBar immediate"),f}var v,y,l,p,r={top:0,right:0,bottom:0,left:0},w=null,b=null,e=Math.floor(1e4*Math.random()),o=null,i=d3.scale.linear(),t=d3.scale.linear(),c=function(n){return n.x},u=function(n){return n.y},k=[],d=[0],g=!1,nt=!0,tt=n.utils.defaultColor(),s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),h=!0,a=n.utils.renderWatch(s,0);return f.highlightPoint=function(n,t){o.select(".nv-bars .nv-bar-0-"+n).classed("hover",t)},f.clearHighlights=function(){o.select(".nv-bars .nv-bar.hover").classed("hover",!1)},f.dispatch=s,f.options=n.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return w},set:function(n){w=n}},height:{get:function(){return b},set:function(n){b=n}},forceX:{get:function(){return k},set:function(n){k=n}},forceY:{get:function(){return d},set:function(n){d=n}},padData:{get:function(){return g},set:function(n){g=n}},x:{get:function(){return c},set:function(n){c=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return v},set:function(n){v=n}},yDomain:{get:function(){return y},set:function(n){y=n}},xRange:{get:function(){return l},set:function(n){l=n}},yRange:{get:function(){return p},set:function(n){p=n}},clipEdge:{get:function(){return nt},set:function(n){nt=n}},id:{get:function(){return e},set:function(n){e=n}},interactive:{get:function(){return h},set:function(n){h=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return tt},set:function(t){tt=n.utils.getColor(t)}}}),n.utils.initOptions(f),f};n.models.historicalBarChart=function(t){"use strict";function i(t){return t.each(function(p){var ft,et,st,ct,at;if(c.reset(),c.models(u),b&&c.models(o),k&&c.models(e),ft=d3.select(this),n.utils.initSVG(ft),et=n.utils.availableWidth(tt,ft,r),st=n.utils.availableHeight(w,ft,r),i.update=function(){ft.transition().duration(y).call(i)},i.container=this,f.disabled=p.map(function(n){return!!n.disabled}),!a){a={};for(ct in f)a[ct]=f[ct]instanceof Array?f[ct].slice(0):f[ct]}if(!(p&&p.length&&p.filter(function(n){return n.values.length}).length))return n.utils.noData(i,ft),i;ft.selectAll(".nv-noData").remove();g=u.xScale();nt=u.yScale();var ht=ft.selectAll("g.nv-wrap.nv-historicalBarChart").data([p]),lt=ht.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),ot=ht.select("g");lt.append("g").attr("class","nv-x nv-axis");lt.append("g").attr("class","nv-y nv-axis");lt.append("g").attr("class","nv-barsWrap");lt.append("g").attr("class","nv-legendWrap");lt.append("g").attr("class","nv-interactive");it?(s.width(et),ot.select(".nv-legendWrap").datum(p).call(s),ut||s.height()===r.top||(r.top=s.height(),st=n.utils.availableHeight(w,ft,r)),ht.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")):ot.select(".nv-legendWrap").selectAll("*").remove();ht.attr("transform","translate("+r.left+","+r.top+")");d&&ot.select(".nv-y.nv-axis").attr("transform","translate("+et+",0)");rt&&(h.width(et).height(st).margin({left:r.left,top:r.top}).svgContainer(ft).xScale(g),ht.select(".nv-interactive").call(h));u.width(et).height(st).color(p.map(function(n,t){return n.color||l(n,t)}).filter(function(n,t){return!p[t].disabled}));at=ot.select(".nv-barsWrap").datum(p.filter(function(n){return!n.disabled}));at.transition().call(u);b&&(o.scale(g)._ticks(n.utils.calcTicksX(et/100,p)).tickSize(-st,0),ot.select(".nv-x.nv-axis").attr("transform","translate(0,"+nt.range()[0]+")"),ot.select(".nv-x.nv-axis").transition().call(o));k&&(e.scale(nt)._ticks(n.utils.calcTicksY(st/36,p)).tickSize(-et,0),ot.select(".nv-y.nv-axis").transition().call(e));h.dispatch.on("elementMousemove",function(t){var f,r,s,c,a;u.clearHighlights();c=[];p.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(e){r=n.interactiveBisect(e.values,t.pointXValue,i.x());u.highlightPoint(r,!0);var o=e.values[r];void 0!==o&&(void 0===f&&(f=o),void 0===s&&(s=i.xScale()(i.x()(o,r))),c.push({key:e.key,value:i.y()(o,r),color:l(e,e.seriesIndex),data:e.values[r]}))});a=o.tickFormat()(i.x()(f,r));h.tooltip.valueFormatter(function(n){return e.tickFormat()(n)}).data({value:a,index:r,series:c})();h.renderGuideLine(s)});h.dispatch.on("elementMouseout",function(){v.tooltipHide();u.clearHighlights()});s.dispatch.on("legendClick",function(n){n.disabled=!n.disabled;p.filter(function(n){return!n.disabled}).length||p.map(function(n){return n.disabled=!1,ht.selectAll(".nv-series").classed("disabled",!1),n});f.disabled=p.map(function(n){return!!n.disabled});v.stateChange(f);t.transition().call(i)});s.dispatch.on("legendDblclick",function(n){p.forEach(function(n){n.disabled=!0});n.disabled=!1;f.disabled=p.map(function(n){return!!n.disabled});v.stateChange(f);i.update()});v.on("changeState",function(n){"undefined"!=typeof n.disabled&&(p.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);i.update()})}),c.renderEnd("historicalBarChart immediate"),i}var g,nt,u=t||n.models.historicalBar(),o=n.models.axis(),e=n.models.axis(),s=n.models.legend(),h=n.interactiveGuideline(),p=n.models.tooltip(),r={top:30,right:90,bottom:50,left:90},ut=null,l=n.utils.defaultColor(),tt=null,w=null,it=!1,b=!0,k=!0,d=!1,rt=!1,f={},a=null,ft=null,v=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),y=250,c;return o.orient("bottom").tickPadding(7),e.orient(d?"right":"left"),p.duration(0).headerEnabled(!1).valueFormatter(function(n,t){return e.tickFormat()(n,t)}).headerFormatter(function(n,t){return o.tickFormat()(n,t)}),c=n.utils.renderWatch(v,0),u.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:i.x()(n.data),value:i.y()(n.data),color:n.color};p.data(n).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){p.hidden(!0)}),u.dispatch.on("elementMousemove.tooltip",function(){p()}),i.dispatch=v,i.bars=u,i.legend=s,i.xAxis=o,i.yAxis=e,i.interactiveLayer=h,i.tooltip=p,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return w},set:function(n){w=n}},showLegend:{get:function(){return it},set:function(n){it=n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return k},set:function(n){k=n}},defaultState:{get:function(){return a},set:function(n){a=n}},noData:{get:function(){return ft},set:function(n){ft=n}},margin:{get:function(){return r},set:function(n){void 0!==n.top&&(r.top=n.top,ut=n.top);r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t);s.color(l);u.color(l)}},duration:{get:function(){return y},set:function(n){y=n;c.reset(y);e.duration(y);o.duration(y)}},rightAlignYAxis:{get:function(){return d},set:function(n){d=n;e.orient(n?"right":"left")}},useInteractiveGuideline:{get:function(){return rt},set:function(n){rt=n;n===!0&&i.interactive(!1)}}}),n.utils.inheritOptions(i,u),n.utils.initOptions(i),i};n.models.ohlcBarChart=function(){var t=n.models.historicalBarChart(n.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(n){var i=n.series[0].data,r=i.open<i.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+n.value+"<\/h3><table><tr><td>open:<\/td><td>"+t.yAxis.tickFormat()(i.open)+"<\/td><\/tr><tr><td>close:<\/td><td>"+t.yAxis.tickFormat()(i.close)+"<\/td><\/tr><tr><td>high<\/td><td>"+t.yAxis.tickFormat()(i.high)+"<\/td><\/tr><tr><td>low:<\/td><td>"+t.yAxis.tickFormat()(i.low)+"<\/td><\/tr><\/table>"}),t};n.models.candlestickBarChart=function(){var t=n.models.historicalBarChart(n.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(n){var i=n.series[0].data,r=i.open<i.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+n.value+"<\/h3><table><tr><td>open:<\/td><td>"+t.yAxis.tickFormat()(i.open)+"<\/td><\/tr><tr><td>close:<\/td><td>"+t.yAxis.tickFormat()(i.close)+"<\/td><\/tr><tr><td>high<\/td><td>"+t.yAxis.tickFormat()(i.high)+"<\/td><\/tr><tr><td>low:<\/td><td>"+t.yAxis.tickFormat()(i.low)+"<\/td><\/tr><\/table>"}),t};n.models.legend=function(){"use strict";function u(k){function d(n,t){return"furious"!=i?"#000":r?n.disengaged?"#000":"#fff":r?void 0:(n.color||(n.color=c(n,t)),n.disabled?n.color:"#fff")}function g(n,t){return r&&"furious"==i&&n.disengaged?"#eee":n.color||c(n,t)}function nt(n){return r&&"furious"==i?1:n.disabled?0:1}return k.each(function(u){var wt=s-t.left-t.right,bt=d3.select(this),at,rt,k,st,kt,yt,tt,it,c,ut,ft,ni;n.utils.initSVG(bt);var lt=bt.selectAll("g.nv-legend").data([u]),ti=lt.enter().append("g").attr("class","nvd3 nv-legend").append("g"),ot=lt.select("g");v?lt.attr("transform","translate("+-t.right+","+t.top+")"):lt.attr("transform","translate("+t.left+","+t.top+")");k=ot.selectAll(".nv-series").data(function(n){return"furious"!=i?n:n.filter(function(n){return r?!0:!n.disengaged})});st=k.enter().append("g").attr("class","nv-series");switch(i){case"furious":rt=23;break;case"classic":rt=20}if("classic"==i?(st.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),at=k.select(".nv-legend-symbol")):"furious"==i&&(st.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),at=k.select(".nv-legend-symbol"),st.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"><\/path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"><\/path>').attr("transform","translate(-10,-8)scale(0.5)"),kt=k.select(".nv-check-box"),kt.each(function(n,t){d3.select(this).selectAll("path").attr("stroke",d(n,t))})),st.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),yt=k.select("text.nv-legend-text"),k.on("mouseover",function(n,t){o.legendMouseover(n,t)}).on("mouseout",function(n,t){o.legendMouseout(n,t)}).on("click",function(n,t){var u,f;o.legendClick(n,t);u=k.data();y&&("classic"==i?b?(u.forEach(function(n){n.disabled=!0}),n.disabled=!1):(n.disabled=!n.disabled,u.every(function(n){return n.disabled})&&u.forEach(function(n){n.disabled=!1})):"furious"==i&&(r?(n.disengaged=!n.disengaged,n.userDisabled=void 0==n.userDisabled?!!n.disabled:n.userDisabled,n.disabled=n.disengaged||n.userDisabled):r||(n.disabled=!n.disabled,n.userDisabled=n.disabled,f=u.filter(function(n){return!n.disengaged}),f.every(function(n){return n.userDisabled})&&u.forEach(function(n){n.disabled=n.userDisabled=!1}))),o.stateChange({disabled:u.map(function(n){return!!n.disabled}),disengaged:u.map(function(n){return!!n.disengaged})}))}).on("dblclick",function(n,t){if(w){if("furious"==i&&r)return;if(o.legendDblclick(n,t),y){var u=k.data();u.forEach(function(n){n.disabled=!0;"furious"==i&&(n.userDisabled=n.disabled)});n.disabled=!1;"furious"==i&&(n.userDisabled=n.disabled);o.stateChange({disabled:u.map(function(n){return!!n.disabled})})}}}),k.classed("nv-disabled",function(n){return n.userDisabled}),k.exit().remove(),yt.attr("fill",d).text(function(n){return e(f(n))}),tt=0,p){for(it=[],k.each(function(t){var i,u,r;e(f(t))&&e(f(t)).length>l?(u=e(f(t)).substring(0,l),i=d3.select(this).select("text").text(u+"..."),d3.select(this).append("svg:title").text(e(f(t)))):i=d3.select(this).select("text");try{if(r=i.node().getComputedTextLength(),0>=r)throw Error();}catch(o){r=n.utils.calcApproxTextWidth(i)}it.push(r+a)}),c=0,ut=[],tt=0;wt>tt&&c<it.length;)ut[c]=it[c],tt+=it[c++];for(0===c&&(c=1);tt>wt&&c>1;){for(ut=[],c--,ft=0;ft<it.length;ft++)it[ft]>(ut[ft%c]||0)&&(ut[ft%c]=it[ft]);tt=ut.reduce(function(n,t){return n+t})}for(var dt=[],vt=0,gt=0;c>vt;vt++)dt[vt]=gt,gt+=ut[vt];k.attr("transform",function(n,t){return"translate("+dt[t%c]+","+(5+Math.floor(t/c)*rt)+")"});v?ot.attr("transform","translate("+(s-t.right-tt)+","+t.top+")"):ot.attr("transform","translate(0,"+t.top+")");h=t.top+t.bottom+Math.ceil(it.length/c)*rt}else{var et,pt=5,ht=5,ct=0;k.attr("transform",function(){var n=d3.select(this).select("text").node().getComputedTextLength()+a;return et=ht,s<t.left+t.right+et+n&&(ht=et=5,pt+=rt),ht+=n,ht>ct&&(ct=ht),et+ct>tt&&(tt=et+ct),"translate("+et+","+pt+")"});ot.attr("transform","translate("+(s-t.right-ct)+","+t.top+")");h=t.top+t.bottom+pt+15}"furious"==i&&(at.attr("width",function(n,t){return yt[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),ti.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),ni=ot.select(".nv-legend-bg"),ni.transition().duration(300).attr("x",-rt).attr("width",tt+rt-12).attr("height",h+10).attr("y",-t.top-10).attr("opacity",r?1:0));at.style("fill",g).style("fill-opacity",nt).style("stroke",g)}),u}var t={top:5,right:0,bottom:5,left:0},s=400,h=20,f=function(n){return n.key},e=function(n){return n},c=n.utils.getColor(),l=20,p=!0,a=32,v=!0,y=!0,w=!0,b=!1,r=!1,o=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),i="classic";return u.dispatch=o,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return s},set:function(n){s=n}},height:{get:function(){return h},set:function(n){h=n}},key:{get:function(){return f},set:function(n){f=n}},keyFormatter:{get:function(){return e},set:function(n){e=n}},align:{get:function(){return p},set:function(n){p=n}},maxKeyLength:{get:function(){return l},set:function(n){l=n}},rightAlign:{get:function(){return v},set:function(n){v=n}},padding:{get:function(){return a},set:function(n){a=n}},updateState:{get:function(){return y},set:function(n){y=n}},enableDoubleClick:{get:function(){return w},set:function(n){w=n}},radioButtonMode:{get:function(){return b},set:function(n){b=n}},expanded:{get:function(){return r},set:function(n){r=n}},vers:{get:function(){return i},set:function(n){i=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},color:{get:function(){return c},set:function(t){c=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.line=function(){"use strict";function u(y){return e.reset(),e.models(t),y.each(function(u){var it,tt,rt,y,ut,ft;a=d3.select(this);it=n.utils.availableWidth(k,a,r);tt=n.utils.availableHeight(d,a,r);n.utils.initSVG(a);l=t.xScale();i=t.yScale();w=w||l;c=c||i;var p=a.selectAll("g.nv-wrap.nv-line").data([u]),et=p.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),st=et.append("defs"),ot=et.append("g"),ht=p.select("g");ot.append("g").attr("class","nv-groups");ot.append("g").attr("class","nv-scatterWrap");p.attr("transform","translate("+r.left+","+r.top+")");t.width(it).height(tt);rt=p.select(".nv-scatterWrap");rt.call(t);st.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect");p.select("#nv-edge-clip-"+t.id()+" rect").attr("width",it).attr("height",tt>0?tt:0);ht.attr("clip-path",b?"url(#nv-edge-clip-"+t.id()+")":"");rt.attr("clip-path",b?"url(#nv-edge-clip-"+t.id()+")":"");y=p.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});y.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(n){return n.strokeWidth||nt}).style("fill-opacity",1e-6);y.exit().remove();y.attr("class",function(n,t){return(n.classed||"")+" nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return v(n,t)}).style("stroke",function(n,t){return v(n,t)});y.watchTransition(e,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(n){return n.fillOpacity||.5});ut=y.selectAll("path.nv-area").data(function(n){return g(n)?[n]:[]});ut.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(w(o(t,i)))}).y0(function(t,i){return n.utils.NaNtoZero(c(f(t,i)))}).y1(function(){return c(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])});y.exit().selectAll("path.nv-area").remove();ut.watchTransition(e,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(l(o(t,i)))}).y0(function(t,r){return n.utils.NaNtoZero(i(f(t,r)))}).y1(function(){return i(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])});ft=y.selectAll("path.nv-line").data(function(n){return[n.values]});ft.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(w(o(t,i)))}).y(function(t,i){return n.utils.NaNtoZero(c(f(t,i)))}));ft.watchTransition(e,"line: linePaths").attr("d",d3.svg.line().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(l(o(t,i)))}).y(function(t,r){return n.utils.NaNtoZero(i(f(t,r)))}));w=l.copy();c=i.copy()}),e.renderEnd("line immediate"),u}var l,i,t=n.models.scatter(),r={top:0,right:0,bottom:0,left:0},k=960,d=500,a=null,nt=1.5,v=n.utils.defaultColor(),o=function(n){return n.x},f=function(n){return n.y},s=function(n,t){return!isNaN(f(n,t))&&null!==f(n,t)},g=function(n){return n.area},b=!1,h="linear",y=250,p=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd"),w,c,e;return t.pointSize(16).pointDomain([16,256]),e=n.utils.renderWatch(p,y),u.dispatch=p,u.scatter=t,t.dispatch.on("elementClick",function(){p.elementClick.apply(this,arguments)}),t.dispatch.on("elementMouseover",function(){p.elementMouseover.apply(this,arguments)}),t.dispatch.on("elementMouseout",function(){p.elementMouseout.apply(this,arguments)}),u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return k},set:function(n){k=n}},height:{get:function(){return d},set:function(n){d=n}},defined:{get:function(){return s},set:function(n){s=n}},interpolate:{get:function(){return h},set:function(n){h=n}},clipEdge:{get:function(){return b},set:function(n){b=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return y},set:function(n){y=n;e.reset(y);t.duration(y)}},isArea:{get:function(){return g},set:function(n){g=d3.functor(n)}},x:{get:function(){return o},set:function(n){o=n;t.x(n)}},y:{get:function(){return f},set:function(n){f=n;t.y(n)}},color:{get:function(){return v},set:function(i){v=n.utils.getColor(i);t.color(v)}}}),n.utils.inheritOptions(u,t),n.utils.initOptions(u),u};n.models.lineChart=function(){"use strict";function t(nt){return y.reset(),y.models(r),w&&y.models(e),b&&y.models(o),nt.each(function(y){function bt(){w&&ct.select(".nv-focus .nv-x.nv-axis").transition().duration(f).call(e)}function kt(){b&&ct.select(".nv-focus .nv-y.nv-axis").transition().duration(f).call(o)}function dt(n){var t=ct.select(".nv-focus .nv-linesWrap").datum(y.filter(function(n){return!n.disabled}).map(function(t){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,i){return r.x()(t,i)>=n[0]&&r.x()(t,i)<=n[1]}),disableTooltip:t.disableTooltip}}));t.transition().duration(f).call(r);bt();kt()}var nt=d3.select(this),lt,ot,vt,at,gt,wt;if(n.utils.initSVG(nt),lt=n.utils.availableWidth(rt,nt,u),ot=n.utils.availableHeight(p,nt,u)-(a?i.height():0),t.update=function(){0===f?nt.call(t):nt.transition().duration(f).call(t)},t.container=this,h.setter(ht(y),t.update).getter(st(y)).update(),h.disabled=y.map(function(n){return!!n.disabled}),!v){v={};for(vt in h)v[vt]=h[vt]instanceof Array?h[vt].slice(0):h[vt]}if(!(y&&y.length&&y.filter(function(n){return n.values.length}).length))return n.utils.noData(t,nt),t;nt.selectAll(".nv-noData").remove();i.dispatch.on("onBrush",function(n){dt(n)});g=r.xScale();ft=r.yScale();var yt=nt.selectAll("g.nv-wrap.nv-lineChart").data([y]),pt=yt.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),ct=yt.select("g");pt.append("g").attr("class","nv-legendWrap");at=pt.append("g").attr("class","nv-focus");at.append("g").attr("class","nv-background").append("rect");at.append("g").attr("class","nv-x nv-axis");at.append("g").attr("class","nv-y nv-axis");at.append("g").attr("class","nv-linesWrap");at.append("g").attr("class","nv-interactive");pt.append("g").attr("class","nv-focusWrap");ut?(c.width(lt),ct.select(".nv-legendWrap").datum(y).call(c),"bottom"===tt?(u.bottom=e.height()+c.height(),ot=n.utils.availableHeight(p,nt,u),ct.select(".nv-legendWrap").attr("transform","translate(0,"+(ot+e.height())+")")):"top"===tt&&(et||c.height()===u.top||(u.top=c.height(),ot=n.utils.availableHeight(p,nt,u)-(a?i.height():0)),yt.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")"))):ct.select(".nv-legendWrap").selectAll("*").remove();yt.attr("transform","translate("+u.left+","+u.top+")");k&&ct.select(".nv-y.nv-axis").attr("transform","translate("+lt+",0)");it&&(s.width(lt).height(ot).margin({left:u.left,top:u.top}).svgContainer(nt).xScale(g),yt.select(".nv-interactive").call(s));ct.select(".nv-focus .nv-background rect").attr("width",lt).attr("height",ot);r.width(lt).height(ot).color(y.map(function(n,t){return n.color||l(n,t)}).filter(function(n,t){return!y[t].disabled}));gt=ct.select(".nv-linesWrap").datum(y.filter(function(n){return!n.disabled}));(w&&e.scale(g)._ticks(n.utils.calcTicksX(lt/100,y)).tickSize(-ot,0),b&&o.scale(ft)._ticks(n.utils.calcTicksY(ot/36,y)).tickSize(-lt,0),ct.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+ot+")"),a||null!==i.brush.extent())?(i.width(lt),ct.select(".nv-focusWrap").style("display",a?"initial":"none").attr("transform","translate(0,"+(ot+u.bottom+i.margin().top)+")").call(i),wt=i.brush.empty()?i.xDomain():i.brush.extent(),null!==wt&&dt(wt)):(gt.call(r),bt(),kt());c.dispatch.on("stateChange",function(n){for(var i in n)h[i]=n[i];d.stateChange(h);t.update()});s.dispatch.on("elementMousemove",function(u){var h,f,c,e,v;if(r.clearHighlights(),e=[],y.filter(function(n,t){return n.seriesIndex=t,!n.disabled&&!n.disableTooltip}).forEach(function(o,s){var a=null!==i.brush.extent()?i.brush.empty()?i.xScale().domain():i.brush.extent():g.domain(),p=o.values.filter(function(n,t){return a[0]<=a[1]?r.x()(n,t)>=a[0]&&r.x()(n,t)<=a[1]:r.x()(n,t)>=a[1]&&r.x()(n,t)<=a[0]}),v,y;f=n.interactiveBisect(p,u.pointXValue,r.x());v=p[f];y=t.y()(v,f);null!==y&&r.highlightPoint(s,f,!0);void 0!==v&&(void 0===h&&(h=v),void 0===c&&(c=t.xScale()(t.x()(v,f))),e.push({key:o.key,value:y,color:l(o,o.seriesIndex),data:v}))}),e.length>2){var p=t.yScale().invert(u.mouseY),w=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),b=.03*w,a=n.nearestValueIndex(e.map(function(n){return n.value}),p,b);null!==a&&(e[a].highlight=!0)}v=function(n){return null==n?"N/A":o.tickFormat()(n)};s.tooltip.valueFormatter(s.tooltip.valueFormatter()||v).data({value:t.x()(h,f),index:f,series:e})();s.renderGuideLine(c)});s.dispatch.on("elementClick",function(i){var u,f=[];y.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(r){var e=n.interactiveBisect(r.values,i.pointXValue,t.x()),o=r.values[e],s;"undefined"!=typeof o&&("undefined"==typeof u&&(u=t.xScale()(t.x()(o,e))),s=t.yScale()(t.y()(o,e)),f.push({point:o,pointIndex:e,pos:[u,s],seriesIndex:r.seriesIndex,series:r}))});r.dispatch.elementClick(f)});s.dispatch.on("elementMouseout",function(){r.clearHighlights()});d.on("changeState",function(n){"undefined"!=typeof n.disabled&&y.length===n.disabled.length&&(y.forEach(function(t,i){t.disabled=n.disabled[i]}),h.disabled=n.disabled);t.update()})}),y.renderEnd("lineChart immediate"),t}var g,ft,r=n.models.line(),e=n.models.axis(),o=n.models.axis(),c=n.models.legend(),s=n.interactiveGuideline(),nt=n.models.tooltip(),i=n.models.focus(n.models.line()),u={top:30,right:20,bottom:50,left:60},et=null,l=n.utils.defaultColor(),rt=null,p=null,ut=!0,tt="top",w=!0,b=!0,k=!1,it=!1,a=!1,h=n.utils.state(),v=null,ot=null,d=d3.dispatch("stateChange","changeState","renderEnd"),f=250;e.orient("bottom").tickPadding(7);o.orient(k?"right":"left");r.clipEdge(!0).duration(0);nt.valueFormatter(function(n,t){return o.tickFormat()(n,t)}).headerFormatter(function(n,t){return e.tickFormat()(n,t)});s.tooltip.valueFormatter(function(n,t){return o.tickFormat()(n,t)}).headerFormatter(function(n,t){return e.tickFormat()(n,t)});var y=n.utils.renderWatch(d,f),st=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},ht=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return r.dispatch.on("elementMouseover.tooltip",function(n){n.series.disableTooltip||nt.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){nt.hidden(!0)}),t.dispatch=d,t.lines=r,t.legend=c,t.focus=i,t.xAxis=e,t.x2Axis=i.xAxis,t.yAxis=o,t.y2Axis=i.yAxis,t.interactiveLayer=s,t.tooltip=nt,t.state=h,t.dispatch=d,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return rt},set:function(n){rt=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return ut},set:function(n){ut=n}},legendPosition:{get:function(){return tt},set:function(n){tt=n}},showXAxis:{get:function(){return w},set:function(n){w=n}},showYAxis:{get:function(){return b},set:function(n){b=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return ot},set:function(n){ot=n}},focusEnable:{get:function(){return a},set:function(n){a=n}},focusHeight:{get:function(){return i.height()},set:function(n){i.height(n)}},focusShowAxisX:{get:function(){return i.showXAxis()},set:function(n){i.showXAxis(n)}},focusShowAxisY:{get:function(){return i.showYAxis()},set:function(n){i.showYAxis(n)}},brushExtent:{get:function(){return i.brushExtent()},set:function(n){i.brushExtent(n)}},focusMargin:{get:function(){return i.margin},set:function(n){void 0!==n.top&&(u.top=n.top,et=n.top);i.margin.right=void 0!==n.right?n.right:i.margin.right;i.margin.bottom=void 0!==n.bottom?n.bottom:i.margin.bottom;i.margin.left=void 0!==n.left?n.left:i.margin.left}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return f},set:function(n){f=n;y.reset(f);r.duration(f);i.duration(f);e.duration(f);o.duration(f)}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t);c.color(l);r.color(l);i.color(l)}},interpolate:{get:function(){return r.interpolate()},set:function(n){r.interpolate(n);i.interpolate(n)}},xTickFormat:{get:function(){return e.tickFormat()},set:function(n){e.tickFormat(n);i.xTickFormat(n)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(n){o.tickFormat(n);i.yTickFormat(n)}},x:{get:function(){return r.x()},set:function(n){r.x(n);i.x(n)}},y:{get:function(){return r.y()},set:function(n){r.y(n);i.y(n)}},rightAlignYAxis:{get:function(){return k},set:function(n){k=n;o.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return it},set:function(n){it=n;it&&(r.interactive(!1),r.useVoronoi(!1))}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.lineWithFocusChart=function(){return n.models.lineChart().margin({bottom:30}).focusEnable(!0)};n.models.linePlusBarChart=function(){"use strict";function t(g){return g.each(function(g){function fr(n){var r=+("e"==n),i=r?1:-1,t=oi/3;return"M"+.5*i+","+t+"A6,6 0 0 "+r+" "+6.5*i+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+r+" "+.5*i+","+2*t+"ZM"+2.5*i+","+(t+8)+"V"+(2*t-8)+"M"+4.5*i+","+(t+8)+"V"+(2*t-8)}function er(){o.empty()||o.extent(b);bi.data([o.empty()?e.domain():b]).each(function(n){var t=e(n[0])-e.range()[0],i=e.range()[1]-e(n[1]);d3.select(this).select(".left").attr("width",0>t?0:t);d3.select(this).select(".right").attr("x",e(n[1])).attr("width",0>i?0:i)})}function gi(){var t,i;b=o.empty()?null:o.extent();w=o.empty()?e.domain():o.extent();ht.brush({extent:w,brush:o});er();f.width(ri).height(li).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&g[t].bar}));u.width(ri).height(li).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&!g[t].bar}));t=ii.select(".nv-focus .nv-barsWrap").datum(ui.length?ui.map(function(n){return{key:n.key,values:n.values.filter(function(n,t){return f.x()(n,t)>=w[0]&&f.x()(n,t)<=w[1]})}}):[{values:[]}]);i=ii.select(".nv-focus .nv-linesWrap").datum(dt(si)?[{values:[]}]:si.filter(function(n){return!n.disabled}).map(function(n){return{area:n.area,fillOpacity:n.fillOpacity,strokeWidth:n.strokeWidth,key:n.key,values:n.values.filter(function(n,t){return u.x()(n,t)>=w[0]&&u.x()(n,t)<=w[1]})}}));it=ui.length&&!r?f.xScale():u.xScale();tt.scale(it)._ticks(n.utils.calcTicksX(ri/100,g)).tickSize(-li,0);tt.domain([Math.ceil(w[0]),Math.floor(w[1])]);ii.select(".nv-x.nv-axis").transition().duration(k).call(tt);t.transition().duration(k).call(f);i.transition().duration(k).call(u);ii.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+vt.range()[0]+")");l.scale(vt)._ticks(n.utils.calcTicksY(li/36,g)).tickSize(-ri,0);h.scale(gt)._ticks(n.utils.calcTicksY(li/36,g));r?h.tickSize(si.length?0:-ri,0):h.tickSize(ui.length?0:-ri,0);var s=ui.length?1:0,c=si.length&&!dt(si)?1:0,a=r?c:s,v=r?s:c;ii.select(".nv-focus .nv-y1.nv-axis").style("opacity",a);ii.select(".nv-focus .nv-y2.nv-axis").style("opacity",v).attr("transform","translate("+it.range()[1]+",0)");ii.select(".nv-focus .nv-y1.nv-axis").transition().duration(k).call(l);ii.select(".nv-focus .nv-y2.nv-axis").transition().duration(k).call(h)}var hi=d3.select(this),vi,ui,si,nr,tr,ai,ci,wi,ir,rr,ur,bi,ki,di;n.utils.initSVG(hi);var ri=n.utils.availableWidth(pt,hi,i),li=n.utils.availableHeight(ft,hi,i)-(st?ut:0),oi=ut-s.top-s.bottom;if(t.update=function(){hi.transition().duration(k).call(t)},t.container=this,p.setter(ei(g),t.update).getter(fi(g)).update(),p.disabled=g.map(function(n){return!!n.disabled}),!ct){ct={};for(vi in p)ct[vi]=p[vi]instanceof Array?p[vi].slice(0):p[vi]}if(!(g&&g.length&&g.filter(function(n){return n.values.length}).length))return n.utils.noData(t,hi),t;hi.selectAll(".nv-noData").remove();ui=g.filter(function(n){return!n.disabled&&n.bar});si=g.filter(function(n){return!n.bar});it=ui.length&&!r?f.xScale():u.xScale();e=rt.scale();vt=r?u.yScale():f.yScale();gt=r?f.yScale():u.yScale();yt=r?c.yScale():d.yScale();ni=r?d.yScale():c.yScale();nr=g.filter(function(n){return!n.disabled&&(r?!n.bar:n.bar)}).map(function(n){return n.values.map(function(n,t){return{x:et(n,t),y:ot(n,t)}})});tr=g.filter(function(n){return!n.disabled&&(r?n.bar:!n.bar)}).map(function(n){return n.values.map(function(n,t){return{x:et(n,t),y:ot(n,t)}})});it.range([0,ri]);e.domain(d3.extent(d3.merge(nr.concat(tr)),function(n){return n.x})).range([0,ri]);var yi=hi.selectAll("g.nv-wrap.nv-linePlusBar").data([g]),pi=yi.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ii=yi.select("g");pi.append("g").attr("class","nv-legendWrap");ai=pi.append("g").attr("class","nv-focus");ai.append("g").attr("class","nv-x nv-axis");ai.append("g").attr("class","nv-y1 nv-axis");ai.append("g").attr("class","nv-y2 nv-axis");ai.append("g").attr("class","nv-barsWrap");ai.append("g").attr("class","nv-linesWrap");ci=pi.append("g").attr("class","nv-context");(ci.append("g").attr("class","nv-x nv-axis"),ci.append("g").attr("class","nv-y1 nv-axis"),ci.append("g").attr("class","nv-y2 nv-axis"),ci.append("g").attr("class","nv-barsWrap"),ci.append("g").attr("class","nv-linesWrap"),ci.append("g").attr("class","nv-brushBackground"),ci.append("g").attr("class","nv-x nv-brush"),wt)?(wi=y.align()?ri/2:ri,ir=y.align()?wi:0,y.width(wi),ii.select(".nv-legendWrap").datum(g.map(function(n){return n.originalKey=void 0===n.originalKey?n.key:n.originalKey,n.key=r?n.originalKey+(n.bar?at:lt):n.originalKey+(n.bar?lt:at),n})).call(y),ti||y.height()===i.top||(i.top=y.height(),li=n.utils.availableHeight(ft,hi,i)-ut),ii.select(".nv-legendWrap").attr("transform","translate("+ir+","+-i.top+")")):ii.select(".nv-legendWrap").selectAll("*").remove();yi.attr("transform","translate("+i.left+","+i.top+")");ii.select(".nv-context").style("display",st?"initial":"none");d.width(ri).height(oi).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&g[t].bar}));c.width(ri).height(oi).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&!g[t].bar}));rr=ii.select(".nv-context .nv-barsWrap").datum(ui.length?ui:[{values:[]}]);ur=ii.select(".nv-context .nv-linesWrap").datum(dt(si)?[{values:[]}]:si.filter(function(n){return!n.disabled}));ii.select(".nv-context").attr("transform","translate(0,"+(li+i.bottom+s.top)+")");rr.transition().call(d);ur.transition().call(c);kt&&(rt._ticks(n.utils.calcTicksX(ri/100,g)).tickSize(-oi,0),ii.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+yt.range()[0]+")"),ii.select(".nv-context .nv-x.nv-axis").transition().call(rt));bt&&(a.scale(yt)._ticks(oi/36).tickSize(-ri,0),v.scale(ni)._ticks(oi/36).tickSize(ui.length?0:-ri,0),ii.select(".nv-context .nv-y3.nv-axis").style("opacity",ui.length?1:0).attr("transform","translate(0,"+e.range()[0]+")"),ii.select(".nv-context .nv-y2.nv-axis").style("opacity",si.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),ii.select(".nv-context .nv-y1.nv-axis").transition().call(a),ii.select(".nv-context .nv-y2.nv-axis").transition().call(v));o.x(e).on("brush",gi);b&&o.extent(b);bi=ii.select(".nv-brushBackground").selectAll("g").data([b||o.extent()]);ki=bi.enter().append("g");ki.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",oi);ki.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",oi);di=ii.select(".nv-x.nv-brush").call(o);di.selectAll("rect").attr("height",oi);di.selectAll(".resize").append("path").attr("d",fr);y.dispatch.on("stateChange",function(n){for(var i in n)p[i]=n[i];ht.stateChange(p);t.update()});ht.on("changeState",function(n){"undefined"!=typeof n.disabled&&(g.forEach(function(t,i){t.disabled=n.disabled[i]}),p.disabled=n.disabled);t.update()});gi()}),t}var w,it,e,vt,gt,yt,ni,u=n.models.line(),c=n.models.line(),f=n.models.historicalBar(),d=n.models.historicalBar(),tt=n.models.axis(),rt=n.models.axis(),l=n.models.axis(),h=n.models.axis(),a=n.models.axis(),v=n.models.axis(),y=n.models.legend(),o=d3.svg.brush(),g=n.models.tooltip(),i={top:30,right:30,bottom:30,left:60},ti=null,s={top:0,right:30,bottom:20,left:60},pt=null,ft=null,et=function(n){return n.x},ot=function(n){return n.y},nt=n.utils.defaultColor(),wt=!0,st=!0,bt=!1,kt=!0,ut=50,b=null,ii=null,ht=d3.dispatch("brush","stateChange","changeState"),k=0,p=n.utils.state(),ct=null,lt=" (left axis)",at=" (right axis)",r=!1;u.clipEdge(!0);c.interactive(!1);c.pointActive(function(){return!1});tt.orient("bottom").tickPadding(5);l.orient("left");h.orient("right");rt.orient("bottom").tickPadding(5);a.orient("left");v.orient("right");g.headerEnabled(!0).headerFormatter(function(n,t){return tt.tickFormat()(n,t)});var ri=function(){return r?{main:h,focus:v}:{main:l,focus:a}},ui=function(){return r?{main:l,focus:a}:{main:h,focus:v}},fi=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},ei=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}},dt=function(n){return n.every(function(n){return n.disabled})};return u.dispatch.on("elementMouseover.tooltip",function(n){g.duration(100).valueFormatter(function(n,t){return ui().main.tickFormat()(n,t)}).data(n).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){g.hidden(!0)}),f.dispatch.on("elementMouseover.tooltip",function(n){n.value=t.x()(n.data);n.series={value:t.y()(n.data),color:n.color};g.duration(0).valueFormatter(function(n,t){return ri().main.tickFormat()(n,t)}).data(n).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){g.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){g()}),t.dispatch=ht,t.legend=y,t.lines=u,t.lines2=c,t.bars=f,t.bars2=d,t.xAxis=tt,t.x2Axis=rt,t.y1Axis=l,t.y2Axis=h,t.y3Axis=a,t.y4Axis=v,t.tooltip=g,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return pt},set:function(n){pt=n}},height:{get:function(){return ft},set:function(n){ft=n}},showLegend:{get:function(){return wt},set:function(n){wt=n}},brushExtent:{get:function(){return b},set:function(n){b=n}},noData:{get:function(){return ii},set:function(n){ii=n}},focusEnable:{get:function(){return st},set:function(n){st=n}},focusHeight:{get:function(){return ut},set:function(n){ut=n}},focusShowAxisX:{get:function(){return kt},set:function(n){kt=n}},focusShowAxisY:{get:function(){return bt},set:function(n){bt=n}},legendLeftAxisHint:{get:function(){return lt},set:function(n){lt=n}},legendRightAxisHint:{get:function(){return at},set:function(n){at=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,ti=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},focusMargin:{get:function(){return s},set:function(n){s.top=void 0!==n.top?n.top:s.top;s.right=void 0!==n.right?n.right:s.right;s.bottom=void 0!==n.bottom?n.bottom:s.bottom;s.left=void 0!==n.left?n.left:s.left}},duration:{get:function(){return k},set:function(n){k=n}},color:{get:function(){return nt},set:function(t){nt=n.utils.getColor(t);y.color(nt)}},x:{get:function(){return et},set:function(n){et=n;u.x(n);c.x(n);f.x(n);d.x(n)}},y:{get:function(){return ot},set:function(n){ot=n;u.y(n);c.y(n);f.y(n);d.y(n)}},switchYAxisOrder:{get:function(){return r},set:function(n){var t,i;r!==n&&(t=l,l=h,h=t,i=a,a=v,v=i);r=n;l.orient("left");h.orient("right");a.orient("left");v.orient("right")}}}),n.utils.inheritOptions(t,u),n.utils.initOptions(t),t};n.models.multiBar=function(){"use strict";function h(ct){return w.reset(),ct.each(function(h){var kt=tt-r.left-r.right,dt=it-r.top-r.bottom,ct,lt,pt,vt,wt,at,bt;rt=d3.select(this);n.utils.initSVG(rt);ct=0;(o&&h.length&&(o=[{values:h[0].values.map(function(n){return{x:n.x,y:0,series:n.series,size:.01}})}]),f)&&(lt=d3.layout.stack().offset(et).values(function(n){return n.values}).y(u)(!h.length&&o?o:h),lt.forEach(function(n,t){n.nonStackable?(h[t].nonStackableSeries=ct++,lt[t]=h[t]):t>0&&lt[t-1].nonStackable&&lt[t].values.map(function(n,i){n.y0-=lt[t-1].values[i].y;n.y1=n.y0+n.y})}),h=lt);h.forEach(function(n,t){n.values.forEach(function(i){i.series=t;i.key=n.key})});f&&h.length>0&&h[0].values.map(function(n,t){var i=0,r=0;h.map(function(n,u){if(!h[u].nonStackable){var f=n.values[t];f.size=Math.abs(f.y);f.y<0?(f.y1=r,r-=f.size):(f.y1=f.size+i,i+=f.size)}})});pt=b&&k?[]:h.map(function(n,t){return n.values.map(function(n,i){return{x:y(n,i),y:u(n,i),y0:n.y0,y1:n.y1,idx:t}})});i.domain(b||d3.merge(pt).map(function(n){return n.x})).rangeBands(d||[0,kt],ot);t.domain(k||d3.extent(d3.merge(pt).map(function(n){var t=n.y;return f&&!h[n.idx].nonStackable&&(t=n.y>0?n.y1:n.y1+n.y),t}).concat(ut))).range(g||[dt,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));nt=nt||i;l=l||t;var yt=rt.selectAll("g.nv-wrap.nv-multibar").data([h]),gt=yt.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),ni=gt.append("defs"),ti=gt.append("g"),ii=yt.select("g");ti.append("g").attr("class","nv-groups");yt.attr("transform","translate("+r.left+","+r.top+")");ni.append("clipPath").attr("id","nv-edge-clip-"+v).append("rect");yt.select("#nv-edge-clip-"+v+" rect").attr("width",kt).attr("height",dt);ii.attr("clip-path",ft?"url(#nv-edge-clip-"+v+")":"");vt=yt.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n,t){return t});vt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);wt=w.transition(vt.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,s)).attr("y",function(n){var t=l(0)||0;return f&&h[n.series]&&!h[n.series].nonStackable&&(t=l(n.y0)),t}).attr("height",0).remove();wt.delay&&wt.delay(function(n,t){return t*(s/(ht+1))-t});vt.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return a(n,t)}).style("stroke",function(n,t){return a(n,t)});vt.style("stroke-opacity",1).style("fill-opacity",st);at=vt.selectAll("rect.nv-bar").data(function(n){return o&&!h.length?o.values:n.values});at.exit().remove();at.enter().append("rect").attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(n,t,r){return f&&!h[r].nonStackable?0:r*i.rangeBand()/h.length}).attr("y",function(n,t,i){return l(f&&!h[i].nonStackable?n.y0:0)||0}).attr("height",0).attr("width",function(n,t,r){return i.rangeBand()/(f&&!h[r].nonStackable?1:h.length)}).attr("transform",function(n,t){return"translate("+i(y(n,t))+",0)"});at.style("fill",function(n,t,i){return a(n,i,t)}).style("stroke",function(n,t,i){return a(n,i,t)}).on("mouseover",function(n,t,i){d3.select(this).classed("hover",!0);c.elementMouseover({data:n,index:t,series:h[i],color:d3.select(this).style("fill")})}).on("mouseout",function(n,t,i){d3.select(this).classed("hover",!1);c.elementMouseout({data:n,index:t,series:h[i],color:d3.select(this).style("fill")})}).on("mousemove",function(n,t,i){c.elementMousemove({data:n,index:t,series:h[i],color:d3.select(this).style("fill")})}).on("click",function(n,t,i){var r=this;c.elementClick({data:n,index:t,series:h[i],color:d3.select(this).style("fill"),event:d3.event,element:r});d3.event.stopPropagation()}).on("dblclick",function(n,t,i){c.elementDblClick({data:n,index:t,series:h[i],color:d3.select(this).style("fill")});d3.event.stopPropagation()});at.attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(n,t){return"translate("+i(y(n,t))+",0)"});p&&(e||(e=h.map(function(){return!0})),at.style("fill",function(n,t,i){return d3.rgb(p(n,t)).darker(e.map(function(n,t){return t}).filter(function(n,t){return!e[t]})[i]).toString()}).style("stroke",function(n,t,i){return d3.rgb(p(n,t)).darker(e.map(function(n,t){return t}).filter(function(n,t){return!e[t]})[i]).toString()}));bt=at.watchTransition(w,"multibar",Math.min(250,s)).delay(function(n,t){return t*s/h[0].values.length});f?bt.attr("y",function(n,i,r){return h[r].nonStackable?u(n,i)<0?t(0):t(0)-t(u(n,i))<-1?t(0)-1:t(u(n,i))||0:t(n.y1)}).attr("height",function(n,i,r){return h[r].nonStackable?Math.max(Math.abs(t(u(n,i))-t(0)),0)||0:Math.max(Math.abs(t(n.y+n.y0)-t(n.y0)),0)}).attr("x",function(n,t,r){var u=0;return h[r].nonStackable&&(u=n.series*i.rangeBand()/h.length,h.length!==ct&&(u=h[r].nonStackableSeries*i.rangeBand()/(2*ct))),u}).attr("width",function(n,t,r){if(h[r].nonStackable){var u=i.rangeBand()/ct;return h.length!==ct&&(u=i.rangeBand()/(2*ct)),u}return i.rangeBand()}):bt.attr("x",function(n){return n.series*i.rangeBand()/h.length}).attr("width",i.rangeBand()/h.length).attr("y",function(n,i){return u(n,i)<0?t(0):t(0)-t(u(n,i))<1?t(0)-1:t(u(n,i))||0}).attr("height",function(n,i){return Math.max(Math.abs(t(u(n,i))-t(0)),1)||0});nt=i.copy();l=t.copy();h[0]&&h[0].values&&(ht=h[0].values.length)}),w.renderEnd("multibar immediate"),h}var e,b,k,d,g,nt,l,r={top:0,right:0,bottom:0,left:0},tt=960,it=500,i=d3.scale.ordinal(),t=d3.scale.linear(),v=Math.floor(1e4*Math.random()),rt=null,y=function(n){return n.x},u=function(n){return n.y},ut=[0],ft=!0,f=!1,et="zero",a=n.utils.defaultColor(),o=!1,p=null,s=500,ot=.1,st=.75,c=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=n.utils.renderWatch(c,s),ht=0;return h.dispatch=c,h.options=n.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return it},set:function(n){it=n}},x:{get:function(){return y},set:function(n){y=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return b},set:function(n){b=n}},yDomain:{get:function(){return k},set:function(n){k=n}},xRange:{get:function(){return d},set:function(n){d=n}},yRange:{get:function(){return g},set:function(n){g=n}},forceY:{get:function(){return ut},set:function(n){ut=n}},stacked:{get:function(){return f},set:function(n){f=n}},stackOffset:{get:function(){return et},set:function(n){et=n}},clipEdge:{get:function(){return ft},set:function(n){ft=n}},disabled:{get:function(){return e},set:function(n){e=n}},id:{get:function(){return v},set:function(n){v=n}},hideable:{get:function(){return o},set:function(n){o=n}},groupSpacing:{get:function(){return ot},set:function(n){ot=n}},fillOpacity:{get:function(){return st},set:function(n){st=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return s},set:function(n){s=n;w.reset(s)}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}},barColor:{get:function(){return p},set:function(t){p=t?n.utils.getColor(t):null}}}),n.utils.initOptions(h),h};n.models.multiBarChart=function(){"use strict";function t(yt){return a.reset(),a.models(r),tt&&a.models(f),it&&a.models(e),yt.each(function(a){var bt=d3.select(this),kt,dt,ni,ri,ui,ti,si;if(n.utils.initSVG(bt),kt=n.utils.availableWidth(ft,bt,i),dt=n.utils.availableHeight(p,bt,i),t.update=function(){0===h?bt.call(t):bt.transition().duration(h).call(t)},t.container=this,u.setter(wt(a),t.update).getter(pt(a)).update(),u.disabled=a.map(function(n){return!!n.disabled}),!l){l={};for(ni in u)l[ni]=u[ni]instanceof Array?u[ni].slice(0):u[ni]}if(!(a&&a.length&&a.filter(function(n){return n.values.length}).length))return n.utils.noData(t,bt),t;bt.selectAll(".nv-noData").remove();g=r.xScale();ut=r.yScale();var ii=bt.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([a]),gt=ii.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),yt=ii.select("g");if((gt.append("g").attr("class","nv-x nv-axis"),gt.append("g").attr("class","nv-y nv-axis"),gt.append("g").attr("class","nv-barsWrap"),gt.append("g").attr("class","nv-legendWrap"),gt.append("g").attr("class","nv-controlsWrap"),gt.append("g").attr("class","nv-interactive"),et?"bottom"===ot?(s.width(kt-i.right),yt.select(".nv-legendWrap").datum(a).call(s),i.bottom=f.height()+s.height(),dt=n.utils.availableHeight(p,bt,i),yt.select(".nv-legendWrap").attr("transform","translate(0,"+(dt+f.height())+")")):(s.width(kt-lt()),yt.select(".nv-legendWrap").datum(a).call(s),vt||s.height()===i.top||(i.top=s.height(),dt=n.utils.availableHeight(p,bt,i)),yt.select(".nv-legendWrap").attr("transform","translate("+lt()+","+-i.top+")")):yt.select(".nv-legendWrap").selectAll("*").remove(),nt)?(ri=[{key:c.grouped||"Grouped",disabled:r.stacked()},{key:c.stacked||"Stacked",disabled:!r.stacked()}],v.width(lt()).color(["#444","#444","#444"]),yt.select(".nv-controlsWrap").datum(ri).attr("transform","translate(0,"+-i.top+")").call(v)):yt.select(".nv-controlsWrap").selectAll("*").remove(),ii.attr("transform","translate("+i.left+","+i.top+")"),b&&yt.select(".nv-y.nv-axis").attr("transform","translate("+kt+",0)"),r.disabled(a.map(function(n){return n.disabled})).width(kt).height(dt).color(a.map(function(n,t){return n.color||w(n,t)}).filter(function(n,t){return!a[t].disabled})),ui=yt.select(".nv-barsWrap").datum(a.filter(function(n){return!n.disabled})),ui.call(r),tt){if(f.scale(g)._ticks(n.utils.calcTicksX(kt/100,a)).tickSize(-dt,0),yt.select(".nv-x.nv-axis").attr("transform","translate(0,"+ut.range()[0]+")"),yt.select(".nv-x.nv-axis").call(f),ti=yt.select(".nv-x.nv-axis > g").selectAll("g"),ti.selectAll("line, text").style("opacity",1),ht){var fi=function(n,t){return"translate("+n+","+t+")"},ei=5,oi=17;ti.selectAll("text").attr("transform",function(n,t,i){return fi(0,i%2==0?ei:oi)});si=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;yt.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(n,t){return fi(0,0===t||si%2!=0?oi:ei)})}ct&&yt.selectAll(".tick text").call(n.utils.wrapTicks,t.xAxis.rangeBand());st&&ti.filter(function(n,t){return t%Math.ceil(a[0].values.length/(kt/100))!=0}).selectAll("text, line").style("opacity",0);k&&ti.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",k>0?"start":"end");yt.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}it&&(e.scale(ut)._ticks(n.utils.calcTicksY(dt/36,a)).tickSize(-kt,0),yt.select(".nv-y.nv-axis").call(e));rt&&(o.width(kt).height(dt).margin({left:i.left,top:i.top}).svgContainer(bt).xScale(g),ii.select(".nv-interactive").call(o));s.dispatch.on("stateChange",function(n){for(var i in n)u[i]=n[i];d.stateChange(u);t.update()});v.dispatch.on("legendClick",function(n){if(n.disabled){switch(ri=ri.map(function(n){return n.disabled=!0,n}),n.disabled=!1,n.key){case"Grouped":case c.grouped:r.stacked(!1);break;case"Stacked":case c.stacked:r.stacked(!0)}u.stacked=r.stacked();d.stateChange(u);t.update()}});d.on("changeState",function(n){"undefined"!=typeof n.disabled&&(a.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);"undefined"!=typeof n.stacked&&(r.stacked(n.stacked),u.stacked=n.stacked,at=n.stacked);t.update()});rt?(o.dispatch.on("elementMousemove",function(n){if(void 0!=n.pointXValue){var u,i,r,f,e=[];a.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(o){i=g.domain().indexOf(n.pointXValue);var s=o.values[i];void 0!==s&&(f=s.x,void 0===u&&(u=s),void 0===r&&(r=n.mouseX),e.push({key:o.key,value:t.y()(s,i),color:w(o,o.seriesIndex),data:o.values[i]}))});o.tooltip.data({value:f,index:i,series:e})();o.renderGuideLine(r)}}),o.dispatch.on("elementMouseout",function(){o.tooltip.hidden(!0)})):(r.dispatch.on("elementMouseover.tooltip",function(n){n.value=t.x()(n.data);n.series={key:n.data.key,value:t.y()(n.data),color:n.color};y.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){y.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){y()}))}),a.renderEnd("multibarchart immediate"),t}var g,ut,r=n.models.multiBar(),f=n.models.axis(),e=n.models.axis(),o=n.interactiveGuideline(),s=n.models.legend(),v=n.models.legend(),y=n.models.tooltip(),i={top:30,right:20,bottom:50,left:60},vt=null,ft=null,p=null,w=n.utils.defaultColor(),nt=!0,c={},et=!0,ot=null,tt=!0,it=!0,b=!1,st=!0,ht=!1,ct=!1,k=0,u=n.utils.state(),l=null,yt=null,d=d3.dispatch("stateChange","changeState","renderEnd"),lt=function(){return nt?180:0},h=250,rt=!1;u.stacked=!1;r.stacked(!1);f.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(n){return n});e.orient(b?"right":"left").tickFormat(d3.format(",.1f"));y.duration(0).valueFormatter(function(n,t){return e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});o.tooltip.valueFormatter(function(n,t){return null==n?"N/A":e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});o.tooltip.valueFormatter(function(n,t){return null==n?"N/A":e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});o.tooltip.duration(0).valueFormatter(function(n,t){return e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});v.updateState(!1);var a=n.utils.renderWatch(d),at=!1,pt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),stacked:at}}},wt=function(n){return function(t){void 0!==t.stacked&&(at=t.stacked);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return t.dispatch=d,t.multibar=r,t.legend=s,t.controls=v,t.xAxis=f,t.yAxis=e,t.state=u,t.tooltip=y,t.interactiveLayer=o,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ft},set:function(n){ft=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return et},set:function(n){et=n}},legendPosition:{get:function(){return ot},set:function(n){ot=n}},showControls:{get:function(){return nt},set:function(n){nt=n}},controlLabels:{get:function(){return c},set:function(n){c=n}},showXAxis:{get:function(){return tt},set:function(n){tt=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return l},set:function(n){l=n}},noData:{get:function(){return yt},set:function(n){yt=n}},reduceXTicks:{get:function(){return st},set:function(n){st=n}},rotateLabels:{get:function(){return k},set:function(n){k=n}},staggerLabels:{get:function(){return ht},set:function(n){ht=n}},wrapLabels:{get:function(){return ct},set:function(n){ct=!!n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,vt=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},duration:{get:function(){return h},set:function(n){h=n;r.duration(h);f.duration(h);e.duration(h);a.reset(h)}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t);s.color(w)}},rightAlignYAxis:{get:function(){return b},set:function(n){b=n;e.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return rt},set:function(n){rt=n}},barColor:{get:function(){return r.barColor},set:function(n){r.barColor(n);s.color(function(n,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.multiBarHorizontal=function(){"use strict";function h(nt){return e.reset(),nt.each(function(h){var yt=rt-u.left-u.right,wt=ut-u.top-u.bottom,vt,st,nt,lt;ht=d3.select(this);n.utils.initSVG(ht);f&&(h=d3.layout.stack().offset("zero").values(function(n){return n.values}).y(i)(h));h.forEach(function(n,t){n.values.forEach(function(i){i.series=t;i.key=n.key})});f&&h[0].values.map(function(n,t){var i=0,r=0;h.map(function(n){var u=n.values[t];u.size=Math.abs(u.y);u.y<0?(u.y1=r-u.size,r-=u.size):(u.y1=i,i+=u.size)})});vt=y&&p?[]:h.map(function(n){return n.values.map(function(n,t){return{x:c(n,t),y:i(n,t),y0:n.y0,y1:n.y1}})});r.domain(y||d3.merge(vt).map(function(n){return n.x})).rangeBands(tt||[0,wt],et);t.domain(p||d3.extent(d3.merge(vt).map(function(n){return f?n.y>0?n.y1+n.y:n.y1:n.y}).concat(ft)));d&&!f?t.range(w||[t.domain()[0]<0?g:0,yt-(t.domain()[1]>0?g:0)]):t.range(w||[0,yt]);it=it||r;b=b||d3.scale.linear().domain(t.domain()).range([t(0),t(0)]);var at=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([h]),pt=at.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),bt=(pt.append("defs"),pt.append("g"));at.select("g");bt.append("g").attr("class","nv-groups");at.attr("transform","translate("+u.left+","+u.top+")");st=at.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n,t){return t});st.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);st.exit().watchTransition(e,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();st.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return k(n,t)}).style("stroke",function(n,t){return k(n,t)});st.watchTransition(e,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",ot);nt=st.selectAll("g.nv-bar").data(function(n){return n.values});nt.exit().remove();lt=nt.enter().append("g").attr("transform",function(n,t,i){return"translate("+b(f?n.y0:0)+","+(f?0:i*r.rangeBand()/h.length+r(c(n,t)))+")"});lt.append("rect").attr("width",0).attr("height",r.rangeBand()/(f?1:h.length));nt.on("mouseover",function(n,t){d3.select(this).classed("hover",!0);s.elementMouseover({data:n,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);s.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){s.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(n,t){s.elementMousemove({data:n,index:t,color:d3.select(this).style("fill")})}).on("click",function(n,t){var i=this;s.elementClick({data:n,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i});d3.event.stopPropagation()}).on("dblclick",function(n,t){s.elementDblClick({data:n,index:t,color:d3.select(this).style("fill")});d3.event.stopPropagation()});a(h[0],0)&&(lt.append("polyline"),nt.select("polyline").attr("fill","none").attr("points",function(n,u){var e=a(n,u),o=.8*r.rangeBand()/(2*(f?1:h.length)),s;return e=e.length?e:[-Math.abs(e),Math.abs(e)],e=e.map(function(r){return t(r+(i(n,u)<0?0:i(n,u)))-t(0)}),s=[[e[0],-o],[e[0],o],[e[0],0],[e[1],0],[e[1],-o],[e[1],o]],s.map(function(n){return n.join(",")}).join(" ")}).attr("transform",function(){var n=r.rangeBand()/(2*(f?1:h.length));return"translate(0, "+n+")"}));lt.append("text");d&&!f?(nt.select("text").attr("text-anchor",function(n,t){return i(n,t)<0?"end":"start"}).attr("y",r.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(n,t){var u=l(i(n,t)),r=a(n,t);return void 0===r?u:r.length?u+"+"+l(Math.abs(r[1]))+"-"+l(Math.abs(r[0])):u+"±"+l(Math.abs(r))}),nt.watchTransition(e,"multibarhorizontal: bars").select("text").attr("x",function(n,r){return i(n,r)<0?-4:t(i(n,r))-t(0)+4})):nt.selectAll("text").text("");ct&&!f?(lt.append("text").classed("nv-bar-label",!0),nt.select("text.nv-bar-label").attr("text-anchor",function(n,t){return i(n,t)<0?"start":"end"}).attr("y",r.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(n,t){return c(n,t)}),nt.watchTransition(e,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(n,r){return i(n,r)<0?t(0)-t(i(n,r))+4:-4})):nt.selectAll("text.nv-bar-label").text("");nt.attr("class",function(n,t){return i(n,t)<0?"nv-bar negative":"nv-bar positive"});v&&(o||(o=h.map(function(){return!0})),nt.style("fill",function(n,t,i){return d3.rgb(v(n,t)).darker(o.map(function(n,t){return t}).filter(function(n,t){return!o[t]})[i]).toString()}).style("stroke",function(n,t,i){return d3.rgb(v(n,t)).darker(o.map(function(n,t){return t}).filter(function(n,t){return!o[t]})[i]).toString()}));f?nt.watchTransition(e,"multibarhorizontal: bars").attr("transform",function(n,i){return"translate("+t(n.y1)+","+r(c(n,i))+")"}).select("rect").attr("width",function(n,r){return Math.abs(t(i(n,r)+n.y0)-t(n.y0))||0}).attr("height",r.rangeBand()):nt.watchTransition(e,"multibarhorizontal: bars").attr("transform",function(n,u){return"translate("+t(i(n,u)<0?i(n,u):0)+","+(n.series*r.rangeBand()/h.length+r(c(n,u)))+")"}).select("rect").attr("height",r.rangeBand()/h.length).attr("width",function(n,r){return Math.max(Math.abs(t(i(n,r))-t(0)),1)||0});it=r.copy();b=t.copy()}),e.renderEnd("multibarHorizontal immediate"),h}var o,y,p,tt,w,it,b,u={top:0,right:0,bottom:0,left:0},rt=960,ut=500,st=Math.floor(1e4*Math.random()),ht=null,r=d3.scale.ordinal(),t=d3.scale.linear(),c=function(n){return n.x},i=function(n){return n.y},a=function(n){return n.yErr},ft=[0],k=n.utils.defaultColor(),v=null,f=!1,d=!1,ct=!1,g=60,et=.1,ot=.75,l=d3.format(",.2f"),nt=250,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),e=n.utils.renderWatch(s,nt);return h.dispatch=s,h.options=n.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return rt},set:function(n){rt=n}},height:{get:function(){return ut},set:function(n){ut=n}},x:{get:function(){return c},set:function(n){c=n}},y:{get:function(){return i},set:function(n){i=n}},yErr:{get:function(){return a},set:function(n){a=n}},xScale:{get:function(){return r},set:function(n){r=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return y},set:function(n){y=n}},yDomain:{get:function(){return p},set:function(n){p=n}},xRange:{get:function(){return tt},set:function(n){tt=n}},yRange:{get:function(){return w},set:function(n){w=n}},forceY:{get:function(){return ft},set:function(n){ft=n}},stacked:{get:function(){return f},set:function(n){f=n}},showValues:{get:function(){return d},set:function(n){d=n}},disabled:{get:function(){return o},set:function(n){o=n}},id:{get:function(){return st},set:function(n){st=n}},valueFormat:{get:function(){return l},set:function(n){l=n}},valuePadding:{get:function(){return g},set:function(n){g=n}},groupSpacing:{get:function(){return et},set:function(n){et=n}},fillOpacity:{get:function(){return ot},set:function(n){ot=n}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return nt},set:function(n){nt=n;e.reset(nt)}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t)}},barColor:{get:function(){return v},set:function(t){v=t?n.utils.getColor(t):null}}}),n.utils.initOptions(h),h};n.models.multiBarHorizontalChart=function(){"use strict";function t(p){return y.reset(),y.models(i),tt&&y.models(f),it&&y.models(s),p.each(function(y){var lt=d3.select(this),at,st,vt,pt,bt,kt;if(n.utils.initSVG(lt),at=n.utils.availableWidth(ut,lt,r),st=n.utils.availableHeight(c,lt,r),t.update=function(){lt.transition().duration(o).call(t)},t.container=this,a=i.stacked(),u.setter(ct(y),t.update).getter(ht(y)).update(),u.disabled=y.map(function(n){return!!n.disabled}),!v){v={};for(vt in u)v[vt]=u[vt]instanceof Array?u[vt].slice(0):u[vt]}if(!(y&&y.length&&y.filter(function(n){return n.values.length}).length))return n.utils.noData(t,lt),t;lt.selectAll(".nv-noData").remove();et=i.xScale();b=i.yScale().clamp(!0);var wt=lt.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([y]),yt=wt.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),p=wt.select("g");(yt.append("g").attr("class","nv-x nv-axis"),yt.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),yt.append("g").attr("class","nv-barsWrap"),yt.append("g").attr("class","nv-legendWrap"),yt.append("g").attr("class","nv-controlsWrap"),ft?(e.width(at-rt()),p.select(".nv-legendWrap").datum(y).call(e),"bottom"===nt?(r.bottom=f.height()+e.height(),st=n.utils.availableHeight(c,lt,r),p.select(".nv-legendWrap").attr("transform","translate("+rt()+","+(st+f.height())+")")):"top"===nt&&(ot||e.height()===r.top||(r.top=e.height(),st=n.utils.availableHeight(c,lt,r)),p.select(".nv-legendWrap").attr("transform","translate("+rt()+","+-r.top+")"))):p.select(".nv-legendWrap").selectAll("*").remove(),d)?(pt=[{key:l.grouped||"Grouped",disabled:i.stacked()},{key:l.stacked||"Stacked",disabled:!i.stacked()}],h.width(rt()).color(["#444","#444","#444"]),"bottom"===g?(r.bottom=f.height()+e.height(),st=n.utils.availableHeight(c,lt,r),p.select(".nv-controlsWrap").datum(pt).attr("transform","translate(0,"+(st+f.height())+")").call(h)):"top"===g&&p.select(".nv-controlsWrap").datum(pt).attr("transform","translate(0,"+-r.top+")").call(h)):p.select(".nv-controlsWrap").selectAll("*").remove();wt.attr("transform","translate("+r.left+","+r.top+")");i.disabled(y.map(function(n){return n.disabled})).width(at).height(st).color(y.map(function(n,t){return n.color||k(n,t)}).filter(function(n,t){return!y[t].disabled}));bt=p.select(".nv-barsWrap").datum(y.filter(function(n){return!n.disabled}));(bt.transition().call(i),tt)&&(f.scale(et)._ticks(n.utils.calcTicksY(st/24,y)).tickSize(-at,0),p.select(".nv-x.nv-axis").call(f),kt=p.select(".nv-x.nv-axis").selectAll("g"),kt.selectAll("line, text"));it&&(s.scale(b)._ticks(n.utils.calcTicksX(at/100,y)).tickSize(-st,0),p.select(".nv-y.nv-axis").attr("transform","translate(0,"+st+")"),p.select(".nv-y.nv-axis").call(s));p.select(".nv-zeroLine line").attr("x1",b(0)).attr("x2",b(0)).attr("y1",0).attr("y2",-st);e.dispatch.on("stateChange",function(n){for(var i in n)u[i]=n[i];w.stateChange(u);t.update()});h.dispatch.on("legendClick",function(n){if(n.disabled){switch(pt=pt.map(function(n){return n.disabled=!0,n}),n.disabled=!1,n.key){case"Grouped":case l.grouped:i.stacked(!1);break;case"Stacked":case l.stacked:i.stacked(!0)}u.stacked=i.stacked();w.stateChange(u);a=i.stacked();t.update()}});w.on("changeState",function(n){"undefined"!=typeof n.disabled&&(y.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);"undefined"!=typeof n.stacked&&(i.stacked(n.stacked),u.stacked=n.stacked,a=n.stacked);t.update()})}),y.renderEnd("multibar horizontal chart immediate"),t}var et,b,i=n.models.multiBarHorizontal(),f=n.models.axis(),s=n.models.axis(),e=n.models.legend().height(30),h=n.models.legend().height(30),p=n.models.tooltip(),r={top:30,right:20,bottom:50,left:60},ot=null,ut=null,c=null,k=n.utils.defaultColor(),d=!0,g="top",l={},ft=!0,nt="top",tt=!0,it=!0,a=!1,u=n.utils.state(),v=null,st=null,w=d3.dispatch("stateChange","changeState","renderEnd"),rt=function(){return d?180:0},o=250;u.stacked=!1;i.stacked(a);f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(n){return n});s.orient("bottom").tickFormat(d3.format(",.1f"));p.duration(0).valueFormatter(function(n,t){return s.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});h.updateState(!1);var ht=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),stacked:a}}},ct=function(n){return function(t){void 0!==t.stacked&&(a=t.stacked);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}},y=n.utils.renderWatch(w,o);return i.dispatch.on("elementMouseover.tooltip",function(n){n.value=t.x()(n.data);n.series={key:n.data.key,value:t.y()(n.data),color:n.color};p.data(n).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(){p.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(){p()}),t.dispatch=w,t.multibar=i,t.legend=e,t.controls=h,t.xAxis=f,t.yAxis=s,t.state=u,t.tooltip=p,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ut},set:function(n){ut=n}},height:{get:function(){return c},set:function(n){c=n}},showLegend:{get:function(){return ft},set:function(n){ft=n}},legendPosition:{get:function(){return nt},set:function(n){nt=n}},controlsPosition:{get:function(){return g},set:function(n){g=n}},showControls:{get:function(){return d},set:function(n){d=n}},controlLabels:{get:function(){return l},set:function(n){l=n}},showXAxis:{get:function(){return tt},set:function(n){tt=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return st},set:function(n){st=n}},margin:{get:function(){return r},set:function(n){void 0!==n.top&&(r.top=n.top,ot=n.top);r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return o},set:function(n){o=n;y.reset(o);i.duration(o);f.duration(o);s.duration(o)}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t);e.color(k)}},barColor:{get:function(){return i.barColor},set:function(n){i.barColor(n);e.color(function(n,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),n.utils.inheritOptions(t,i),n.utils.initOptions(t),t};n.models.multiChart=function(){"use strict";function t(f){return f.each(function(f){function ei(n){var t=2===n.series.yAxis?b:w;n.value=n.point.x;n.series={value:n.point.y,color:n.point.color,key:n.series.key};u.duration(0).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function oi(n){var t=2===n.series.yAxis?b:w;n.value=n.point.x;n.series={value:n.point.y,color:n.point.color,key:n.series.key};u.duration(100).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function si(n){var t=2===n.series.yAxis?b:w;n.point.x=r.x()(n.point);n.point.y=r.y()(n.point);u.duration(0).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function hi(n){var t=2===n.series.yAxis?b:w;n.value=s.x()(n.data);n.series={value:s.y()(n.data),color:n.color,key:n.data.key};u.duration(0).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function ci(){for(var i,n=0,t=et.length;t>n;n++){i=et[n];try{i.clearHighlights()}catch(r){}}}function ki(n,t,i){for(var f,r=0,u=et.length;u>r;r++){f=et[r];try{f.highlightPoint(n,t,i)}catch(e){}}}var kt=d3.select(this),ii,ri,ui,wt,vt,bt,fi,bi,gt,dt;n.utils.initSVG(kt);t.update=function(){kt.transition().call(t)};t.container=this;var pt=n.utils.availableWidth(ht,kt,i),yt=n.utils.availableHeight(rt,kt,i),li=f.filter(function(n){return"line"==n.type&&1==n.yAxis}),ai=f.filter(function(n){return"line"==n.type&&2==n.yAxis}),vi=f.filter(function(n){return"scatter"==n.type&&1==n.yAxis}),yi=f.filter(function(n){return"scatter"==n.type&&2==n.yAxis}),ni=f.filter(function(n){return"bar"==n.type&&1==n.yAxis}),ti=f.filter(function(n){return"bar"==n.type&&2==n.yAxis}),pi=f.filter(function(n){return"area"==n.type&&1==n.yAxis}),wi=f.filter(function(n){return"area"==n.type&&2==n.yAxis});if(!(f&&f.length&&f.filter(function(n){return n.values.length}).length))return n.utils.noData(t,kt),t;kt.selectAll(".nv-noData").remove();ii=f.filter(function(n){return!n.disabled&&1==n.yAxis}).map(function(n){return n.values.map(function(n){return{x:ut(n),y:ft(n)}})});ri=f.filter(function(n){return!n.disabled&&2==n.yAxis}).map(function(n){return n.values.map(function(n){return{x:ut(n),y:ft(n)}})});g.domain(d3.extent(d3.merge(ii.concat(ri)),function(n){return n.x})).range([0,pt]);ui=kt.selectAll("g.wrap.multiChart").data([f]);wt=ui.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");wt.append("g").attr("class","nv-x nv-axis");wt.append("g").attr("class","nv-y1 nv-axis");wt.append("g").attr("class","nv-y2 nv-axis");wt.append("g").attr("class","stack1Wrap");wt.append("g").attr("class","stack2Wrap");wt.append("g").attr("class","bars1Wrap");wt.append("g").attr("class","bars2Wrap");wt.append("g").attr("class","scatters1Wrap");wt.append("g").attr("class","scatters2Wrap");wt.append("g").attr("class","lines1Wrap");wt.append("g").attr("class","lines2Wrap");wt.append("g").attr("class","legendWrap");wt.append("g").attr("class","nv-interactive");vt=ui.select("g");bt=f.map(function(n,t){return f[t].color||it(n,t)});ct?(fi=k.align()?pt/2:pt,bi=k.align()?fi:0,k.width(fi),k.color(bt),vt.select(".legendWrap").datum(f.map(function(n){return n.originalKey=void 0===n.originalKey?n.key:n.originalKey,n.key=n.originalKey+(1==n.yAxis?"":lt),n})).call(k),at||k.height()===i.top||(i.top=k.height(),yt=n.utils.availableHeight(rt,kt,i)),vt.select(".legendWrap").attr("transform","translate("+bi+","+-i.top+")")):vt.select(".legendWrap").selectAll("*").remove();e.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"line"==f[t].type}));o.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"line"==f[t].type}));c.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"scatter"==f[t].type}));l.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"scatter"==f[t].type}));s.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"bar"==f[t].type}));a.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"bar"==f[t].type}));r.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"area"==f[t].type}));h.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"area"==f[t].type}));vt.attr("transform","translate("+i.left+","+i.top+")");var di=vt.select(".lines1Wrap").datum(li.filter(function(n){return!n.disabled})),gi=vt.select(".scatters1Wrap").datum(vi.filter(function(n){return!n.disabled})),nr=vt.select(".bars1Wrap").datum(ni.filter(function(n){return!n.disabled})),tr=vt.select(".stack1Wrap").datum(pi.filter(function(n){return!n.disabled})),ir=vt.select(".lines2Wrap").datum(ai.filter(function(n){return!n.disabled})),rr=vt.select(".scatters2Wrap").datum(yi.filter(function(n){return!n.disabled})),ur=vt.select(".bars2Wrap").datum(ti.filter(function(n){return!n.disabled})),fr=vt.select(".stack2Wrap").datum(wi.filter(function(n){return!n.disabled})),gt=[];s.stacked()&&ni.length&&(gt=ni.filter(function(n){return!n.disabled}).map(function(n){return n.values}),gt.length>0&&(gt=gt.reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})})));ni.length&&gt.push({x:0,y:0});dt=[];a.stacked()&&ti.length&&(dt=ti.filter(function(n){return!n.disabled}).map(function(n){return n.values}),dt.length>0&&(dt=dt.reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})})));ti.length&&dt.push({x:0,y:0});v.domain(ot||d3.extent(d3.merge(ii).concat(gt),function(n){return n.y})).range([0,yt]);y.domain(st||d3.extent(d3.merge(ri).concat(dt),function(n){return n.y})).range([0,yt]);e.yDomain(v.domain());c.yDomain(v.domain());s.yDomain(v.domain());r.yDomain(v.domain());o.yDomain(y.domain());l.yDomain(y.domain());a.yDomain(y.domain());h.yDomain(y.domain());pi.length&&d3.transition(tr).call(r);wi.length&&d3.transition(fr).call(h);ni.length&&d3.transition(nr).call(s);ti.length&&d3.transition(ur).call(a);li.length&&d3.transition(di).call(e);ai.length&&d3.transition(ir).call(o);vi.length&&d3.transition(gi).call(c);yi.length&&d3.transition(rr).call(l);p._ticks(n.utils.calcTicksX(pt/100,f)).tickSize(-yt,0);vt.select(".nv-x.nv-axis").attr("transform","translate(0,"+yt+")");d3.transition(vt.select(".nv-x.nv-axis")).call(p);w._ticks(n.utils.calcTicksY(yt/36,f)).tickSize(-pt,0);d3.transition(vt.select(".nv-y1.nv-axis")).call(w);b._ticks(n.utils.calcTicksY(yt/36,f)).tickSize(-pt,0);d3.transition(vt.select(".nv-y2.nv-axis")).call(b);vt.select(".nv-y1.nv-axis").classed("nv-disabled",ii.length?!1:!0).attr("transform","translate("+g.range()[0]+",0)");vt.select(".nv-y2.nv-axis").classed("nv-disabled",ri.length?!1:!0).attr("transform","translate("+g.range()[1]+",0)");k.dispatch.on("stateChange",function(){t.update()});tt&&(d.width(pt).height(yt).margin({left:i.left,top:i.top}).svgContainer(kt).xScale(g),ui.select(".nv-interactive").call(d));tt?(d.dispatch.on("elementMousemove",function(i){var e,r,o,u,s;ci();u=[];f.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(f,s){var l=g.domain(),a=f.values.filter(function(n,i){return t.x()(n,i)>=l[0]&&t.x()(n,i)<=l[1]}),h,c;r=n.interactiveBisect(a,i.pointXValue,t.x());h=a[r];c=t.y()(h,r);null!==c&&ki(s,r,!0);void 0!==h&&(void 0===e&&(e=h),void 0===o&&(o=g(t.x()(h,r))),u.push({key:f.key,value:c,color:it(f,f.seriesIndex),data:h,yAxis:2==f.yAxis?b:w}))});s=function(n,t){var i=u[t].yAxis;return null==n?"N/A":i.tickFormat()(n)};d.tooltip.headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(d.tooltip.valueFormatter()||s).data({value:t.x()(e,r),index:r,series:u})();d.renderGuideLine(o)}),d.dispatch.on("elementMouseout",function(){ci()})):(e.dispatch.on("elementMouseover.tooltip",ei),o.dispatch.on("elementMouseover.tooltip",ei),e.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),o.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),c.dispatch.on("elementMouseover.tooltip",oi),l.dispatch.on("elementMouseover.tooltip",oi),c.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),l.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),r.dispatch.on("elementMouseover.tooltip",si),h.dispatch.on("elementMouseover.tooltip",si),r.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),h.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),s.dispatch.on("elementMouseover.tooltip",hi),a.dispatch.on("elementMouseover.tooltip",hi),s.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),a.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),s.dispatch.on("elementMousemove.tooltip",function(){u()}),a.dispatch.on("elementMousemove.tooltip",function(){u()}))}),t}var ot,st,i={top:30,right:20,bottom:50,left:60},at=null,it=n.utils.defaultColor(),ht=null,rt=null,ct=!0,vt=null,ut=function(n){return n.x},ft=function(n){return n.y},nt="linear",yt=!0,d=n.interactiveGuideline(),tt=!1,lt=" (right axis)",f=250,g=d3.scale.linear(),v=d3.scale.linear(),y=d3.scale.linear(),e=n.models.line().yScale(v).duration(f),o=n.models.line().yScale(y).duration(f),c=n.models.scatter().yScale(v).duration(f),l=n.models.scatter().yScale(y).duration(f),s=n.models.multiBar().stacked(!1).yScale(v).duration(f),a=n.models.multiBar().stacked(!1).yScale(y).duration(f),r=n.models.stackedArea().yScale(v).duration(f),h=n.models.stackedArea().yScale(y).duration(f),p=n.models.axis().scale(g).orient("bottom").tickPadding(5).duration(f),w=n.models.axis().scale(v).orient("left").duration(f),b=n.models.axis().scale(y).orient("right").duration(f),k=n.models.legend().height(30),u=n.models.tooltip(),pt=d3.dispatch(),et=[e,o,c,l,s,a,r,h];return t.dispatch=pt,t.legend=k,t.lines1=e,t.lines2=o,t.scatters1=c,t.scatters2=l,t.bars1=s,t.bars2=a,t.stack1=r,t.stack2=h,t.xAxis=p,t.yAxis1=w,t.yAxis2=b,t.tooltip=u,t.interactiveLayer=d,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ht},set:function(n){ht=n}},height:{get:function(){return rt},set:function(n){rt=n}},showLegend:{get:function(){return ct},set:function(n){ct=n}},yDomain1:{get:function(){return ot},set:function(n){ot=n}},yDomain2:{get:function(){return st},set:function(n){st=n}},noData:{get:function(){return vt},set:function(n){vt=n}},interpolate:{get:function(){return nt},set:function(n){nt=n}},legendRightAxisHint:{get:function(){return lt},set:function(n){lt=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,at=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return it},set:function(t){it=n.utils.getColor(t)}},x:{get:function(){return ut},set:function(n){ut=n;e.x(n);o.x(n);c.x(n);l.x(n);s.x(n);a.x(n);r.x(n);h.x(n)}},y:{get:function(){return ft},set:function(n){ft=n;e.y(n);o.y(n);c.y(n);l.y(n);r.y(n);h.y(n);s.y(n);a.y(n)}},useVoronoi:{get:function(){return yt},set:function(n){yt=n;e.useVoronoi(n);o.useVoronoi(n);r.useVoronoi(n);h.useVoronoi(n)}},useInteractiveGuideline:{get:function(){return tt},set:function(n){tt=n;tt&&(e.interactive(!1),e.useVoronoi(!1),o.interactive(!1),o.useVoronoi(!1),r.interactive(!1),r.useVoronoi(!1),h.interactive(!1),h.useVoronoi(!1),c.interactive(!1),l.interactive(!1))}},duration:{get:function(){return f},set:function(n){f=n;[e,o,r,h,c,l,p,w,b].forEach(function(n){n.duration(f)})}}}),n.utils.initOptions(t),t};n.models.ohlcBar=function(){"use strict";function u(rt){return rt.each(function(u){var rt,st,ft,ot;e=d3.select(this);rt=n.utils.availableWidth(d,e,r);st=n.utils.availableHeight(g,e,r);n.utils.initSVG(e);ft=rt/u[0].values.length*.9;i.domain(w||d3.extent(u[0].values.map(l).concat(nt)));tt?i.range(a||[.5*rt/u[0].values.length,rt*(u[0].values.length-.5)/u[0].values.length]):i.range(a||[5+ft/2,rt-ft/2-5]);t.domain(b||[d3.min(u[0].values.map(s).concat(y)),d3.max(u[0].values.map(o).concat(y))]).range(k||[st,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));var et=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([u[0].values]),ht=et.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),ct=ht.append("defs"),lt=ht.append("g"),at=et.select("g");lt.append("g").attr("class","nv-ticks");et.attr("transform","translate("+r.left+","+r.top+")");e.on("click",function(n,t){ut.chartClick({data:n,index:t,pos:d3.event,id:h})});ct.append("clipPath").attr("id","nv-chart-clip-path-"+h).append("rect");et.select("#nv-chart-clip-path-"+h+" rect").attr("width",rt).attr("height",st);at.attr("clip-path",it?"url(#nv-chart-clip-path-"+h+")":"");ot=et.select(".nv-ticks").selectAll(".nv-tick").data(function(n){return n});ot.exit().remove();ot.enter().append("path").attr("class",function(n,t,i){return(f(n,t)>c(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t}).attr("d",function(n,i){return"m0,0l0,"+(t(f(n,i))-t(o(n,i)))+"l"+-ft/2+",0l"+ft/2+",0l0,"+(t(s(n,i))-t(f(n,i)))+"l0,"+(t(c(n,i))-t(s(n,i)))+"l"+ft/2+",0l"+-ft/2+",0z"}).attr("transform",function(n,r){return"translate("+i(l(n,r))+","+t(o(n,r))+")"}).attr("fill",function(){return p[0]}).attr("stroke",function(){return p[0]}).attr("x",0).attr("y",function(n,i){return t(Math.max(0,v(n,i)))}).attr("height",function(n,i){return Math.abs(t(v(n,i))-t(0))});ot.attr("class",function(n,t,i){return(f(n,t)>c(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t});d3.transition(ot).attr("transform",function(n,r){return"translate("+i(l(n,r))+","+t(o(n,r))+")"}).attr("d",function(n,i){var r=rt/u[0].values.length*.9;return"m0,0l0,"+(t(f(n,i))-t(o(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(t(s(n,i))-t(f(n,i)))+"l0,"+(t(c(n,i))-t(s(n,i)))+"l"+r/2+",0l"+-r/2+",0z"})}),u}var w,b,a,k,r={top:0,right:0,bottom:0,left:0},d=null,g=null,h=Math.floor(1e4*Math.random()),e=null,i=d3.scale.linear(),t=d3.scale.linear(),l=function(n){return n.x},v=function(n){return n.y},f=function(n){return n.open},c=function(n){return n.close},o=function(n){return n.high},s=function(n){return n.low},nt=[],y=[],tt=!1,it=!0,p=n.utils.defaultColor(),rt=!1,ut=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return u.highlightPoint=function(n,t){u.clearHighlights();e.select(".nv-ohlcBar .nv-tick-0-"+n).classed("hover",t)},u.clearHighlights=function(){e.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},u.dispatch=ut,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return g},set:function(n){g=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return w},set:function(n){w=n}},yDomain:{get:function(){return b},set:function(n){b=n}},xRange:{get:function(){return a},set:function(n){a=n}},yRange:{get:function(){return k},set:function(n){k=n}},forceX:{get:function(){return nt},set:function(n){nt=n}},forceY:{get:function(){return y},set:function(n){y=n}},padData:{get:function(){return tt},set:function(n){tt=n}},clipEdge:{get:function(){return it},set:function(n){it=n}},id:{get:function(){return h},set:function(n){h=n}},interactive:{get:function(){return rt},set:function(n){rt=n}},x:{get:function(){return l},set:function(n){l=n}},y:{get:function(){return v},set:function(n){v=n}},open:{get:function(){return f()},set:function(n){f=n}},close:{get:function(){return c()},set:function(n){c=n}},high:{get:function(){return o},set:function(n){o=n}},low:{get:function(){return s},set:function(n){s=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!=n.top?n.top:r.top;r.right=void 0!=n.right?n.right:r.right;r.bottom=void 0!=n.bottom?n.bottom:r.bottom;r.left=void 0!=n.left?n.left:r.left}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.parallelCoordinates=function(){"use strict";function l(et){return ft.reset(),et.each(function(l){function lt(n){return rt(h.map(function(i){var f;if(isNaN(n.values[i.key])||isNaN(parseFloat(n.values[i.key]))||bt){var r=t[i.key].domain(),e=t[i.key].range(),u=r[0]-(r[1]-r[0])/9;if(b.indexOf(i.key)<0&&(f=d3.scale.linear().domain([u,r[1]]).range([y-12,e[1]]),t[i.key].brush.y(f),b.push(i.key)),isNaN(n.values[i.key])||isNaN(parseFloat(n.values[i.key])))return[o(i.key),t[i.key](u)]}return void 0!==st&&(b.length>0||bt?(st.style("display","inline"),ht.style("display","inline")):(st.style("display","none"),ht.style("display","none"))),[o(i.key),t[i.key](n.values[i.key])]}))}function dt(n){s.forEach(function(i){var r=t[i.dimension].brush.y().domain();i.hasOnlyNaN&&(i.extent[1]=(t[i.dimension].domain()[1]-r[0])*(i.extent[1]-i.extent[0])/(ti[i.dimension]-i.extent[0])+r[0]);i.hasNaN&&(i.extent[0]=r[0]);n&&t[i.dimension].brush.extent(i.extent)});c.select(".nv-brushBackground").each(function(n){d3.select(this).call(t[n.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16);gt()}function ui(){a===!1&&(a=!0,dt(!0))}function fi(){ct=w.filter(function(n){return!t[n].brush.empty()});et=ct.map(function(n){return t[n].brush.extent()});s=[];ct.forEach(function(n,t){s[t]={dimension:n,extent:et[t],hasNaN:!1,hasOnlyNaN:!1}});u=[];e.style("display",function(n){var i=ct.every(function(i,r){return(isNaN(n.values[i])||isNaN(parseFloat(n.values[i])))&&et[r][0]==t[i].brush.y().domain()[0]?!0:et[r][0]<=n.values[i]&&n.values[i]<=et[r][1]&&!isNaN(parseFloat(n.values[i]))});return i&&u.push(n),i?null:"none"});gt();f.brush({filters:s,active:u})}function ei(){var n=ct.length>0?!0:!1;s.forEach(function(n){n.extent[0]===t[n.dimension].brush.y().domain()[0]&&b.indexOf(n.dimension)>=0&&(n.hasNaN=!0);n.extent[1]<t[n.dimension].domain()[0]&&(n.hasOnlyNaN=!0)});f.brushEnd(u,n)}function gt(){c.select(".nv-axis").each(function(n){var i=s.filter(function(t){return t.dimension==n.key});at[n.key]=t[n.key].domain();0!=i.length&&a&&(at[n.key]=[],i[0].extent[1]>t[n.key].domain()[0]&&(at[n.key]=[i[0].extent[1]]),i[0].extent[0]>=t[n.key].domain()[0]&&at[n.key].push(i[0].extent[0]));d3.select(this).call(ut.scale(t[n.key]).tickFormat(n.format).tickValues(at[n.key]))})}function oi(n){g[n.key]=this.parentNode.__origin__=o(n.key);v.attr("visibility","hidden")}function si(n){g[n.key]=Math.min(p,Math.max(0,this.parentNode.__origin__+=d3.event.x));e.attr("d",lt);h.sort(function(n,t){return pt(n.key)-pt(t.key)});h.forEach(function(n,t){return n.currentPosition=t});o.domain(h.map(function(n){return n.key}));c.attr("transform",function(n){return"translate("+pt(n.key)+")"})}function hi(n){delete this.parentNode.__origin__;delete g[n.key];d3.select(this.parentNode).attr("transform","translate("+o(n.key)+")");e.attr("d",lt);v.attr("d",lt).attr("visibility",null);f.dimensionsOrder(h)}function pt(n){var t=g[n];return null==t?o(n):t}var vt=d3.select(this),wt,ni,st,ht,ii,ft,ri,yt;(p=n.utils.availableWidth(nt,vt,r),y=n.utils.availableHeight(tt,vt,r),n.utils.initSVG(vt),void 0===l[0].values)&&(wt=[],l.forEach(function(n){var t={},i=Object.keys(n);i.forEach(function(i){"name"!==i&&(t[i]=n[i])});wt.push({key:n.name,values:t})}),l=wt);ni=l.map(function(n){return n.values});0===u.length&&(u=l);w=i.sort(function(n,t){return n.currentPosition-t.currentPosition}).map(function(n){return n.key});h=i.filter(function(n){return!n.disabled});o.rangePoints([0,p],1).domain(h.map(function(n){return n.key}));var ti={},bt=!1,at=[];w.forEach(function(n){var f=d3.extent(ni,function(t){return+t[n]}),u=f[0],i=f[1],e=!1,r;(isNaN(u)||isNaN(i))&&(e=!0,u=0,i=0);u===i&&(u-=1,i+=1);r=s.filter(function(t){return t.dimension==n});0!==r.length&&(e?(u=t[n].domain()[0],i=t[n].domain()[1]):!r[0].hasOnlyNaN&&a?(u=u>r[0].extent[0]?r[0].extent[0]:u,i=i<r[0].extent[1]?r[0].extent[1]:i):r[0].hasNaN&&(i=i<r[0].extent[1]?r[0].extent[1]:i,ti[n]=t[n].domain()[1],bt=!0));t[n]=d3.scale.linear().domain([u,i]).range([.9*(y-12),0]);b=[];t[n].brush=d3.svg.brush().y(t[n]).on("brushstart",ui).on("brush",fi).on("brushend",ei)});var ot=vt.selectAll("g.nv-wrap.nv-parallelCoordinates").data([l]),ci=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),kt=ci.append("g"),li=ot.select("g");kt.append("g").attr("class","nv-parallelCoordinates background");kt.append("g").attr("class","nv-parallelCoordinates foreground");kt.append("g").attr("class","nv-parallelCoordinates missingValuesline");ot.attr("transform","translate("+r.left+","+r.top+")");rt.interpolate("cardinal").tension(it);ut.orient("left");ii=d3.behavior.drag().on("dragstart",oi).on("drag",si).on("dragend",hi);ft=o.range()[1]-o.range()[0];(ft=isNaN(ft)?o.range()[0]:ft,isNaN(ft))||(ri=[0+ft/2,y-12,p-ft/2,y-12],st=ot.select(".missingValuesline").selectAll("line").data([ri]),st.enter().append("line"),st.exit().remove(),st.attr("x1",function(n){return n[0]}).attr("y1",function(n){return n[1]}).attr("x2",function(n){return n[2]}).attr("y2",function(n){return n[3]}),ht=ot.select(".missingValuesline").selectAll("text").data([k]),ht.append("text").data([k]),ht.enter().append("text"),ht.exit().remove(),ht.attr("y",y).attr("x",p-92-ft/2).text(function(n){return n}));v=ot.select(".background").selectAll("path").data(l);v.enter().append("path");v.exit().remove();v.attr("d",lt);e=ot.select(".foreground").selectAll("path").data(l);e.enter().append("path");e.exit().remove();e.attr("d",lt).style("stroke-width",function(n){return isNaN(n.strokeWidth)&&(n.strokeWidth=1),n.strokeWidth}).attr("stroke",function(n,t){return n.color||d(n,t)});e.on("mouseover",function(n,t){d3.select(this).classed("hover",!0).style("stroke-width",n.strokeWidth+2+"px").style("stroke-opacity",1);f.elementMouseover({label:n.name,color:n.color||d(n,t),values:n.values,dimensions:h})});e.on("mouseout",function(n,t){d3.select(this).classed("hover",!1).style("stroke-width",n.strokeWidth+"px").style("stroke-opacity",.7);f.elementMouseout({label:n.name,index:t})});e.on("mousemove",function(){f.elementMousemove()});e.on("click",function(n){f.elementClick({id:n.id})});c=li.selectAll(".dimension").data(h);yt=c.enter().append("g").attr("class","nv-parallelCoordinates dimension");c.attr("transform",function(n){return"translate("+o(n.key)+",0)"});yt.append("g").attr("class","nv-axis");yt.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(n){f.elementMouseover({label:n.tooltip||n.key,color:n.color})}).on("mouseout",function(n){f.elementMouseout({label:n.tooltip})}).on("mousemove",function(){f.elementMousemove()}).call(ii);yt.append("g").attr("class","nv-brushBackground");c.exit().remove();c.select(".nv-label").text(function(n){return n.key});dt(a);var ct=w.filter(function(n){return!t[n].brush.empty()}),et=ct.map(function(n){return t[n].brush.extent()}),ai=u.slice(0);u=[];e.style("display",function(n){var i=ct.every(function(i,r){return(isNaN(n.values[i])||isNaN(parseFloat(n.values[i])))&&et[r][0]==t[i].brush.y().domain()[0]?!0:et[r][0]<=n.values[i]&&n.values[i]<=et[r][1]&&!isNaN(parseFloat(n.values[i]))});return i&&u.push(n),i?null:"none"});(s.length>0||!n.utils.arrayEquals(u,ai))&&f.activeChanged(u)}),l}var e,v,c,r={top:30,right:0,bottom:10,left:0},nt=null,tt=null,p=null,y=null,o=d3.scale.ordinal(),t={},k="undefined values",i=[],h=[],w=[],a=!0,d=n.utils.defaultColor(),s=[],u=[],g=[],b=[],it=1,rt=d3.svg.line(),ut=d3.svg.axis(),f=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),ft=n.utils.renderWatch(f);return l.dispatch=f,l.options=n.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return nt},set:function(n){nt=n}},height:{get:function(){return tt},set:function(n){tt=n}},dimensionData:{get:function(){return i},set:function(n){i=n}},displayBrush:{get:function(){return a},set:function(n){a=n}},filters:{get:function(){return s},set:function(n){s=n}},active:{get:function(){return u},set:function(n){u=n}},lineTension:{get:function(){return it},set:function(n){it=n}},undefinedValuesLabel:{get:function(){return k},set:function(n){k=n}},dimensions:{get:function(){return i.map(function(n){return n.key})},set:function(t){n.deprecated("dimensions","use dimensionData instead");0===i.length?t.forEach(function(n){i.push({key:n})}):t.forEach(function(n,t){i[t].key=n})}},dimensionNames:{get:function(){return i.map(function(n){return n.key})},set:function(t){n.deprecated("dimensionNames","use dimensionData instead");w=[];0===i.length?t.forEach(function(n){i.push({key:n})}):t.forEach(function(n,t){i[t].key=n})}},dimensionFormats:{get:function(){return i.map(function(n){return n.format})},set:function(t){n.deprecated("dimensionFormats","use dimensionData instead");0===i.length?t.forEach(function(n){i.push({format:n})}):t.forEach(function(n,t){i[t].format=n})}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t)}}}),n.utils.initOptions(l),l};n.models.parallelCoordinatesChart=function(){"use strict";function t(h){return w.reset(),w.models(u),h.each(function(h){var a=d3.select(this),k,p,w,rt;if(n.utils.initSVG(a),k=n.utils.availableWidth(v,a,i),p=n.utils.availableHeight(l,a,i),t.update=function(){a.call(t)},t.container=this,f.setter(g(r),t.update).getter(d(r)).update(),f.disabled=r.map(function(n){return!!n.disabled}),r=r.map(function(n){return n.disabled=!!n.disabled,n}),r.forEach(function(n,t){n.originalPosition=isNaN(n.originalPosition)?t:n.originalPosition;n.currentPosition=isNaN(n.currentPosition)?t:n.currentPosition}),!o){o={};for(w in f)o[w]=f[w]instanceof Array?f[w].slice(0):f[w]}if(!h||!h.length)return n.utils.noData(t,a),t;a.selectAll(".nv-noData").remove();var nt=a.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([h]),it=nt.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),tt=nt.select("g");it.append("g").attr("class","nv-parallelCoordinatesWrap");it.append("g").attr("class","nv-legendWrap");tt.select("rect").attr("width",k).attr("height",p>0?p:0);y?(e.width(k).color(function(){return"rgb(188,190,192)"}),tt.select(".nv-legendWrap").datum(r.sort(function(n,t){return n.originalPosition-t.originalPosition})).call(e),b||e.height()===i.top||(i.top=e.height(),p=n.utils.availableHeight(l,a,i)),nt.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):tt.select(".nv-legendWrap").selectAll("*").remove();nt.attr("transform","translate("+i.left+","+i.top+")");u.width(k).height(p).dimensionData(r).displayBrush(c);rt=tt.select(".nv-parallelCoordinatesWrap ").datum(h);rt.transition().call(u);u.dispatch.on("brushEnd",function(n,t){t?(c=!0,s.brushEnd(n)):c=!1});e.dispatch.on("stateChange",function(n){for(var i in n)f[i]=n[i];s.stateChange(f);t.update()});u.dispatch.on("dimensionsOrder",function(){r.sort(function(n,t){return n.currentPosition-t.currentPosition});var n=!1;r.forEach(function(t,i){t.currentPosition=i;t.currentPosition!==t.originalPosition&&(n=!0)});s.dimensionsOrder(r,n)});s.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);t.update()})}),w.renderEnd("parraleleCoordinateChart immediate"),t}var u=n.models.parallelCoordinates(),e=n.models.legend(),h=n.models.tooltip(),i=(n.models.tooltip(),{top:0,right:0,bottom:0,left:0}),b=null,v=null,l=null,y=!0,a=n.utils.defaultColor(),f=n.utils.state(),r=[],c=!0,o=null,k=null,p="undefined",s=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),w=n.utils.renderWatch(s),d=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},g=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return h.contentGenerator(function(n){var t='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+n.color+'"><\/div><\/td><td><strong>'+n.key+"<\/strong><\/td><\/tr><\/thead>";return 0!==n.series.length&&(t+='<tbody><tr><td height ="10px"><\/td><\/tr>',n.series.forEach(function(n){t=t+'<tr><td class="legend-color-guide"><div style="background-color:'+n.color+'"><\/div><\/td><td class="key">'+n.key+'<\/td><td class="value">'+n.value+"<\/td><\/tr>"}),t+="<\/tbody>"),t+="<\/table>"}),u.dispatch.on("elementMouseover.tooltip",function(n){var t={key:n.label,color:n.color,series:[]};n.values&&(Object.keys(n.values).forEach(function(i){var r=n.dimensions.filter(function(n){return n.key===i})[0],u;r&&(u=isNaN(n.values[i])||isNaN(parseFloat(n.values[i]))?p:r.format(n.values[i]),t.series.push({idx:r.currentPosition,key:i,value:u,color:r.color}))}),t.series.sort(function(n,t){return n.idx-t.idx}));h.data(t).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){h.hidden(!0)}),u.dispatch.on("elementMousemove.tooltip",function(){h()}),t.dispatch=s,t.parallelCoordinates=u,t.legend=e,t.tooltip=h,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return v},set:function(n){v=n}},height:{get:function(){return l},set:function(n){l=n}},showLegend:{get:function(){return y},set:function(n){y=n}},defaultState:{get:function(){return o},set:function(n){o=n}},dimensionData:{get:function(){return r},set:function(n){r=n}},displayBrush:{get:function(){return c},set:function(n){c=n}},noData:{get:function(){return k},set:function(n){k=n}},nanValue:{get:function(){return p},set:function(n){p=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,b=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t);e.color(a);u.color(a)}}}),n.utils.inheritOptions(t,u),n.utils.initOptions(t),t};n.models.pie=function(){"use strict";function u(lt){return ut.reset(),lt.each(function(u){function li(n,t){n.endAngle=isNaN(n.endAngle)?0:n.endAngle;n.startAngle=isNaN(n.startAngle)?0:n.startAngle;e||(n.innerRadius=0);var i=d3.interpolate(this._current,n);return this._current=i(0),function(n){return h[t](i(n))}}var ii=ft-t.left-t.right,ri=et-t.top-t.bottom,at=Math.min(ii,ri)/2,pt=[],ni=[],vt,kt,ti,dt,gt,wt,yt,lt;if(g=d3.select(this),0===i.length)for(var ai=at-at/10,vi=a*at,lt=0;lt<u[0].length;lt++)pt.push(ai),ni.push(vi);else w?(pt=i.map(function(n){return(n.outer-n.outer/10)*at}),ni=i.map(function(n){return(n.inner-n.inner/10)*at}),a=d3.min(i.map(function(n){return n.inner-n.inner/10}))):(pt=i.map(function(n){return n.outer*at}),ni=i.map(function(n){return n.inner*at}),a=d3.min(i.map(function(n){return n.inner})));n.utils.initSVG(g);var bt=g.selectAll(".nv-wrap.nv-pie").data(u),yi=bt.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+d),fi=yi.append("g"),ei=bt.select("g"),pi=fi.append("g").attr("class","nv-pie");for(fi.append("g").attr("class","nv-pieLabels"),bt.attr("transform","translate("+t.left+","+t.top+")"),ei.select(".nv-pie").attr("transform","translate("+ii/2+","+ri/2+")"),ei.select(".nv-pieLabels").attr("transform","translate("+ii/2+","+ri/2+")"),g.on("click",function(n,t){r.chartClick({data:n,index:t,pos:d3.event,id:d})}),h=[],ct=[],lt=0;lt<u[0].length;lt++)vt=d3.svg.arc().outerRadius(pt[lt]),kt=d3.svg.arc().outerRadius(pt[lt]+5),o!==!1&&(vt.startAngle(o),kt.startAngle(o)),s!==!1&&(vt.endAngle(s),kt.endAngle(s)),e&&(vt.innerRadius(ni[lt]),kt.innerRadius(ni[lt])),vt.cornerRadius&&b&&(vt.cornerRadius(b),kt.cornerRadius(b)),h.push(vt),ct.push(kt);if(ti=d3.layout.pie().sort(null).value(function(n){return n.disabled?0:v(n)}),ti.padAngle&&it&&ti.padAngle(it),e&&p&&(pi.append("text").attr("class","nv-pie-title"),bt.select(".nv-pie-title").style("text-anchor","middle").text(function(){return p}).style("font-size",Math.min(ii,ri)*a*2/(p.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+ht+")"})),dt=bt.select(".nv-pie").selectAll(".nv-slice").data(ti),gt=bt.select(".nv-pieLabels").selectAll(".nv-label").data(ti),dt.exit().remove(),gt.exit().remove(),wt=dt.enter().append("g"),wt.attr("class","nv-slice"),wt.on("mouseover",function(n,t){d3.select(this).classed("hover",!0);w&&d3.select(this).select("path").transition().duration(70).attr("d",ct[t]);r.elementMouseover({data:n.data,index:t,color:d3.select(this).style("fill"),percent:(n.endAngle-n.startAngle)/(2*Math.PI)})}),wt.on("mouseout",function(n,t){d3.select(this).classed("hover",!1);w&&d3.select(this).select("path").transition().duration(50).attr("d",h[t]);r.elementMouseout({data:n.data,index:t})}),wt.on("mousemove",function(n,t){r.elementMousemove({data:n.data,index:t})}),wt.on("click",function(n,t){var i=this;r.elementClick({data:n.data,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i})}),wt.on("dblclick",function(n,t){r.elementDblClick({data:n.data,index:t,color:d3.select(this).style("fill")})}),dt.attr("fill",function(n,t){return nt(n.data,t)}),dt.attr("stroke",function(n,t){return nt(n.data,t)}),wt.append("path").each(function(n){this._current=n}),dt.select("path").transition().duration(rt).attr("d",function(n,t){return h[t](n)}).attrTween("d",li),ot){for(yt=[],lt=0;lt<u[0].length;lt++)yt.push(h[lt]),f?e&&(yt[lt]=d3.svg.arc().outerRadius(h[lt].outerRadius()),o!==!1&&yt[lt].startAngle(o),s!==!1&&yt[lt].endAngle(s)):e||yt[lt].innerRadius(0);gt.enter().append("g").classed("nv-label",!0).each(function(n){var t=d3.select(this);t.attr("transform",function(n,t){if(l){n.outerRadius=pt[t]+10;n.innerRadius=pt[t]+15;var i=(n.startAngle+n.endAngle)/2*(180/Math.PI);return(n.startAngle+n.endAngle)/2<Math.PI?i-=90:i+=90,"translate("+yt[t].centroid(n)+") rotate("+i+")"}return n.outerRadius=at+10,n.innerRadius=at+15,"translate("+yt[t].centroid(n)+")"});t.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);t.append("text").style("text-anchor",l?(n.startAngle+n.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var oi={},ui=14,si=140,hi=function(n){return Math.floor(n[0]/si)*si+","+Math.floor(n[1]/ui)*ui},ci=function(n){return(n.endAngle-n.startAngle)/(2*Math.PI)};gt.watchTransition(ut,"pie labels").attr("transform",function(n,t){var r,i,u,f;return l?(n.outerRadius=pt[t]+10,n.innerRadius=pt[t]+15,r=(n.startAngle+n.endAngle)/2*(180/Math.PI),(n.startAngle+n.endAngle)/2<Math.PI?r-=90:r+=90,"translate("+yt[t].centroid(n)+") rotate("+r+")"):(n.outerRadius=at+10,n.innerRadius=at+15,i=yt[t].centroid(n),u=ci(n),n.value&&u>=tt&&(f=hi(i),oi[f]&&(i[1]-=ui),oi[hi(i)]=!0),"translate("+i+")")});gt.select(".nv-label text").style("text-anchor",function(n){return l?(n.startAngle+n.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(n,t){var r=ci(n),i="";if(!n.value||tt>r)return"";if("function"==typeof y)i=y(n,t,{key:k(n.data),value:v(n.data),percent:c(r)});else switch(y){case"key":i=k(n.data);break;case"value":i=c(v(n.data));break;case"percent":i=d3.format("%")(r)}return i});st&&gt.each(function(t,i){if(this.getBBox){var u=this.getBBox(),f=yt[i].centroid(t),r={x:f[0]+u.x,y:f[1]+u.y},e={x:r.x+u.width,y:r.y},o={x:r.x,y:r.y+u.height},s={x:r.x+u.width,y:r.y+u.height};t.visible=n.utils.pointIsInArc(r,t,vt)&&n.utils.pointIsInArc(e,t,vt)&&n.utils.pointIsInArc(o,t,vt)&&n.utils.pointIsInArc(s,t,vt)}}).style("display",function(n){return n.visible?null:"none"})}}),ut.renderEnd("pie immediate"),u}var t={top:0,right:0,bottom:0,left:0},ft=500,et=500,k=function(n){return n.x},v=function(n){return n.y},d=Math.floor(1e4*Math.random()),g=null,nt=n.utils.defaultColor(),c=d3.format(",.2f"),ot=!0,f=!1,y="key",tt=.02,st=!1,e=!1,p=!1,w=!0,ht=0,l=!1,o=!1,it=!1,s=!1,b=0,a=.5,rt=250,i=[],r=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),h=[],ct=[],ut=n.utils.renderWatch(r);return u.dispatch=r,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{arcsRadius:{get:function(){return i},set:function(n){i=n}},width:{get:function(){return ft},set:function(n){ft=n}},height:{get:function(){return et},set:function(n){et=n}},showLabels:{get:function(){return ot},set:function(n){ot=n}},title:{get:function(){return p},set:function(n){p=n}},titleOffset:{get:function(){return ht},set:function(n){ht=n}},labelThreshold:{get:function(){return tt},set:function(n){tt=n}},hideOverlapLabels:{get:function(){return st},set:function(n){st=n}},valueFormat:{get:function(){return c},set:function(n){c=n}},x:{get:function(){return k},set:function(n){k=n}},id:{get:function(){return d},set:function(n){d=n}},endAngle:{get:function(){return s},set:function(n){s=n}},startAngle:{get:function(){return o},set:function(n){o=n}},padAngle:{get:function(){return it},set:function(n){it=n}},cornerRadius:{get:function(){return b},set:function(n){b=n}},donutRatio:{get:function(){return a},set:function(n){a=n}},labelsOutside:{get:function(){return f},set:function(n){f=n}},labelSunbeamLayout:{get:function(){return l},set:function(n){l=n}},donut:{get:function(){return e},set:function(n){e=n}},growOnHover:{get:function(){return w},set:function(n){w=n}},pieLabelsOutside:{get:function(){return f},set:function(t){f=t;n.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(t){f=t;n.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return c},set:function(t){c=t;n.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(n){t.top="undefined"!=typeof n.top?n.top:t.top;t.right="undefined"!=typeof n.right?n.right:t.right;t.bottom="undefined"!=typeof n.bottom?n.bottom:t.bottom;t.left="undefined"!=typeof n.left?n.left:t.left}},duration:{get:function(){return rt},set:function(n){rt=n;ut.reset(rt)}},y:{get:function(){return v},set:function(n){v=d3.functor(n)}},color:{get:function(){return nt},set:function(t){nt=n.utils.getColor(t)}},labelType:{get:function(){return y},set:function(n){y=n||"key"}}}),n.utils.initOptions(u),u};n.models.pieChart=function(){"use strict";function t(o){return v.reset(),v.models(r),o.each(function(o){var c=d3.select(this),l,p,k,nt,rt;if(n.utils.initSVG(c),l=n.utils.availableWidth(y,c,i),p=n.utils.availableHeight(s,c,i),t.update=function(){c.transition().call(t)},t.container=this,f.setter(g(o),t.update).getter(d(o)).update(),f.disabled=o.map(function(n){return!!n.disabled}),!e){e={};for(k in f)e[k]=f[k]instanceof Array?f[k].slice(0):f[k]}if(!o||!o.length)return n.utils.noData(t,c),t;c.selectAll(".nv-noData").remove();var v=c.selectAll("g.nv-wrap.nv-pieChart").data([o]),tt=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),it=v.select("g");(tt.append("g").attr("class","nv-pieWrap"),tt.append("g").attr("class","nv-legendWrap"),w)?"top"===h?(u.width(l).key(r.x()),v.select(".nv-legendWrap").datum(o).call(u),b||u.height()===i.top||(i.top=u.height(),p=n.utils.availableHeight(s,c,i)),v.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")):"right"===h?(nt=n.models.legend().width(),nt>l/2&&(nt=l/2),u.height(p).key(r.x()),u.width(nt),l-=u.width(),v.select(".nv-legendWrap").datum(o).call(u).attr("transform","translate("+l+",0)")):"bottom"===h&&(u.width(l).key(r.x()),v.select(".nv-legendWrap").datum(o).call(u),i.bottom=u.height(),p=n.utils.availableHeight(s,c,i),v.select(".nv-legendWrap").attr("transform","translate(0,"+p+")")):it.select(".nv-legendWrap").selectAll("*").remove();v.attr("transform","translate("+i.left+","+i.top+")");r.width(l).height(p);rt=it.select(".nv-pieWrap").datum([o]);d3.transition(rt).call(r);u.dispatch.on("stateChange",function(n){for(var i in n)f[i]=n[i];a.stateChange(f);t.update()});a.on("changeState",function(n){"undefined"!=typeof n.disabled&&(o.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);t.update()})}),v.renderEnd("pieChart immediate"),t}var r=n.models.pie(),u=n.models.legend(),o=n.models.tooltip(),i={top:30,right:20,bottom:20,left:20},b=null,y=null,s=null,p=!1,w=!0,h="top",c=n.utils.defaultColor(),f=n.utils.state(),e=null,k=null,l=250,a=d3.dispatch("stateChange","changeState","renderEnd");o.duration(0).headerEnabled(!1).valueFormatter(function(n,t){return r.valueFormat()(n,t)});var v=n.utils.renderWatch(a),d=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},g=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:t.x()(n.data),value:t.y()(n.data),color:n.color,percent:n.percent};p||(delete n.percent,delete n.series.percent);o.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){o()}),t.legend=u,t.dispatch=a,t.pie=r,t.tooltip=o,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return y},set:function(n){y=n}},height:{get:function(){return s},set:function(n){s=n}},noData:{get:function(){return k},set:function(n){k=n}},showTooltipPercent:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return w},set:function(n){w=n}},legendPosition:{get:function(){return h},set:function(n){h=n}},defaultState:{get:function(){return e},set:function(n){e=n}},color:{get:function(){return c},set:function(n){c=n;u.color(c);r.color(c)}},duration:{get:function(){return l},set:function(n){l=n;v.reset(l);r.duration(l)}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,b=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.sankey=function(){"use strict";function v(){t.forEach(function(n){n.sourceLinks=[];n.targetLinks=[]});s.forEach(function(n){var i=n.source,r=n.target;"number"==typeof i&&(i=n.source=t[n.source]);"number"==typeof r&&(r=n.target=t[n.target]);i.sourceLinks.push(n);r.targetLinks.push(n)})}function y(){t.forEach(function(n){n.value=Math.max(d3.sum(n.sourceLinks,r),d3.sum(n.targetLinks,r))})}function p(){for(var i,r=t,n=0;r.length&&n<t.length;)i=[],r.forEach(function(t){t.x=n;t.dx=o;t.sourceLinks.forEach(function(n){i.indexOf(n.target)<0&&i.push(n.target)})}),r=i,++n;c&&w(n);b((f[0]-o)/(n-1))}function w(n){t.forEach(function(t){t.sourceLinks.length||(t.x=n-1)})}function b(n){t.forEach(function(t){t.x*=n})}function k(n){function l(){var n=d3.min(u,function(n){return(f[1]-(n.length-1)*i)/d3.sum(n,r)});u.forEach(function(t){t.forEach(function(t,i){t.y=i;t.dy=t.value*n})});s.forEach(function(t){t.dy=t.value*n})}function a(n){function t(n){return(n.source.y+n.sy+n.dy/2)*n.value}u.forEach(function(i){i.forEach(function(i){if(i.targetLinks.length){var u=d3.sum(i.targetLinks,t)/d3.sum(i.targetLinks,r);i.y+=(u-h(i))*n}})})}function v(n){function t(n){return(n.target.y+n.ty+n.dy/2)*n.value}u.slice().reverse().forEach(function(i){i.forEach(function(i){if(i.sourceLinks.length){var u=d3.sum(i.sourceLinks,t)/d3.sum(i.sourceLinks,r);i.y+=(u-h(i))*n}})})}function o(){u.forEach(function(n){var t,r,u,e=0,o=n.length;for(n.sort(y),u=0;o>u;++u)t=n[u],r=e-t.y,r>0&&(t.y+=r),e=t.y+t.dy+i;if(r=e-i-f[1],r>0)for(e=t.y-=r,u=o-2;u>=0;--u)t=n[u],r=t.y+t.dy+i-e,r>0&&(t.y-=r),e=t.y})}function y(n,t){return n.y-t.y}var u=d3.nest().key(function(n){return n.x}).sortKeys(d3.ascending).entries(t).map(function(n){return n.values}),c;for(l(),o(),e(),c=1;n>0;--n)v(c*=.99),o(),e(),a(c),o(),e()}function e(){function n(n,t){return n.source.y-t.source.y}function i(n,t){return n.target.y-t.target.y}t.forEach(function(t){t.sourceLinks.sort(i);t.targetLinks.sort(n)});t.forEach(function(n){var t=0,i=0;n.sourceLinks.forEach(function(n){n.sy=t;t+=n.dy});n.targetLinks.forEach(function(n){n.ty=i;i+=n.dy})})}function r(n){return n.value}var u={},o=24,i=8,f=[1,1],t=[],s=[],c=!0,a=function(n){v();y();p();k(n)},d=function(){e()},l=function(){function t(t){var i=t.source.x+t.source.dx,r=t.target.x,u=d3.interpolateNumber(i,r),o=u(n),s=u(1-n),f=t.source.y+t.sy+t.dy/2,e=t.target.y+t.ty+t.dy/2;return"M"+i+","+f+"C"+o+","+f+" "+s+","+e+" "+r+","+e}var n=.5;return t.curvature=function(i){return arguments.length?(n=+i,t):n},t},h=function(n){return n.y+n.dy/2};return u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{nodeWidth:{get:function(){return o},set:function(n){o=+n}},nodePadding:{get:function(){return i},set:function(n){i=n}},nodes:{get:function(){return t},set:function(n){t=n}},links:{get:function(){return s},set:function(n){s=n}},size:{get:function(){return f},set:function(n){f=n}},sinksRight:{get:function(){return c},set:function(n){c=n}},layout:{get:function(){a(32)},set:function(n){a(n)}},relayout:{get:function(){d()},set:function(){}},center:{get:function(){return h()},set:function(n){"function"==typeof n&&(h=n)}},link:{get:function(){return l()},set:function(n){return"function"==typeof n&&(l=n),l()}}}),n.utils.initOptions(u),u};n.models.sankeyChart=function(){"use strict";function i(n){return n.each(function(t){function g(n){d3.select(this).attr("transform","translate("+n.x+","+(n.y=Math.max(0,Math.min(f-n.dy,d3.event.y)))+")");r.relayout();h.attr("d",e)}var b={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},k=!1,d=!1,i,e,h,w;if(("object"==typeof t.nodes&&t.nodes.length)>=0&&("object"==typeof t.links&&t.links.length)>=0&&(k=!0),t.nodes&&t.nodes.length>0&&t.links&&t.links.length>0&&(d=!0),!k)return console.error("NVD3 Sankey chart error:","invalid data format for",t),console.info("Valid data format is: ",b,JSON.stringify(b)),p(n,"Error loading chart, data is invalid"),!1;if(!d)return p(n,"No data available"),!1;i=n.append("svg").attr("width",u).attr("height",f).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");r.nodeWidth(o).nodePadding(s).size([u,f]);e=r.link();r.nodes(t.nodes).links(t.links).layout(32).center(c);h=i.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",e).style("stroke-width",function(n){return Math.max(1,n.dy)}).sort(function(n,t){return t.dy-n.dy});h.append("title").text(l);w=i.append("g").selectAll(".node").data(t.nodes).enter().append("g").attr("class","node").attr("transform",function(n){return"translate("+n.x+","+n.y+")"}).call(d3.behavior.drag().origin(function(n){return n}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",g));w.append("rect").attr("height",function(n){return n.dy}).attr("width",r.nodeWidth()).style("fill",a).style("stroke",v).append("title").text(y);w.append("text").attr("x",-6).attr("y",function(n){return n.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(n){return n.name}).filter(function(n){return n.x<u/2}).attr("x",6+r.nodeWidth()).attr("text-anchor","start")}),i}var t={top:5,right:0,bottom:5,left:0},r=n.models.sankey(),u=600,f=400,o=36,s=40,h="units",c=void 0,w=d3.format(",.0f"),e=function(n){return w(n)+" "+h},b=d3.scale.category20(),l=function(n){return n.source.name+" → "+n.target.name+"\n"+e(n.value)},a=function(n){return n.color=b(n.name.replace(/ .*/,""))},v=function(n){return d3.rgb(n.color).darker(2)},y=function(n){return n.name+"\n"+e(n.value)},p=function(n,t){n.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(t)};return i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{units:{get:function(){return h},set:function(n){h=n}},width:{get:function(){return u},set:function(n){u=n}},height:{get:function(){return f},set:function(n){f=n}},format:{get:function(){return e},set:function(n){e=n}},linkTitle:{get:function(){return l},set:function(n){l=n}},nodeWidth:{get:function(){return o},set:function(n){o=n}},nodePadding:{get:function(){return s},set:function(n){s=n}},center:{get:function(){return c},set:function(n){c=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},nodeStyle:{get:function(){return{}},set:function(n){a=void 0!==n.fillColor?n.fillColor:a;v=void 0!==n.strokeColor?n.strokeColor:v;y=void 0!==n.title?n.title:y}}}),n.utils.initOptions(i),i};n.models.scatter=function(){"use strict";function hi(n){var t,i;return t=n[0].series+":"+n[1],i=fi[t]=fi[t]||{}}function ci(n){var t;t=n[0].series+":"+n[1];delete fi[t]}function ei(n){for(var i,r,u=hi(n),f=!1,t=1;t<arguments.length;t+=2)i=arguments[t],r=arguments[t+1](n[0],n[1]),u[i]===r&&u.hasOwnProperty(i)||(u[i]=r,f=!0);return f}function o(pt){return c.reset(),pt.each(function(pt){function nr(){var o,b,c,s,g,h;if(w=!1,!d)return!1;if(yt===!0){if(fi.select(".nv-point-paths").selectAll("path").remove(),o=d3.merge(pt.map(function(r,e){return r.values.map(function(r,o){var s=u(r,o),h=f(r,o);return[n.utils.NaNtoZero(t(s))+.0001*Math.random(),n.utils.NaNtoZero(i(h))+.0001*Math.random(),e,o,r]}).filter(function(n,t){return it(n[4],t)})})),0==o.length)return!1;for(o.length<3&&(o.push([t.range()[0]-20,i.range()[0]-20,null,null]),o.push([t.range()[1]+20,i.range()[1]+20,null,null]),o.push([t.range()[0]-20,i.range()[0]+20,null,null]),o.push([t.range()[1]+20,i.range()[1]-20,null,null])),b=d3.geom.polygon([[-10,-10],[-10,a+10],[l+10,a+10],[l+10,-10]]),c=.0001,o=o.sort(function(n,t){return n[0]-t[0]||n[1]-t[1]}),s=0;s<o.length-1;)Math.abs(o[s][0]-o[s+1][0])<c&&Math.abs(o[s][1]-o[s+1][1])<c?o.splice(s+1,1):s++;var nt=d3.geom.voronoi(o).map(function(n,t){return{data:b.clip(n),series:o[t][2],point:o[t][3]}}),k=fi.select(".nv-point-paths").selectAll("path").data(nt),tt=k.enter().append("svg:path").attr("d",function(n){return n&&n.data&&0!==n.data.length?"M"+n.data.join(",")+"Z":"M 0 0"}).attr("id",function(n,t){return"nv-path-"+t}).attr("clip-path",function(n,t){return"url(#nv-clip-"+v+"-"+t+")"});(ti&&tt.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),ht)&&(fi.select(".nv-point-clips").selectAll("*").remove(),g=fi.select(".nv-point-clips").selectAll("clipPath").data(o),g.enter().append("svg:clipPath").attr("id",function(n,t){return"nv-clip-"+v+"-"+t}).append("svg:circle").attr("cx",function(n){return n[0]}).attr("cy",function(n){return n[1]}).attr("r",ii));h=function(n,e,o){var h,s;if(w)return 0;if(h=pt[e.series],void 0!==h){s=h.values[e.point];s.color=p(h,e.series);s.x=u(s);s.y=f(s);var c=y.node().getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,a=window.pageXOffset||document.documentElement.scrollLeft,v={left:t(u(s,e.point))+c.left+a+r.left+10,top:i(f(s,e.point))+c.top+l+r.top+10};o({point:s,series:h,pos:v,relativePos:[t(u(s,e.point))+r.left,i(f(s,e.point))+r.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:n})}};k.on("click",function(n){h(this,n,e.elementClick)}).on("dblclick",function(n){h(this,n,e.elementDblClick)}).on("mouseover",function(n){h(this,n,e.elementMouseover)}).on("mouseout",function(n){h(this,n,e.elementMouseout)})}else fi.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o],c=this;e.elementClick({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o,event:d3.event,element:c})}).on("dblclick",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o];e.elementDblClick({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o})}).on("mouseover",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o];e.elementMouseover({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o,color:p(n,o)})}).on("mouseout",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o];e.elementMouseout({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o,color:p(n,o)})})}var ai,yi,tr,vi,ir,ki,di,pi,hi,wi,bi;y=d3.select(this);ai=n.utils.availableWidth(l,y,r);yi=n.utils.availableHeight(a,y,r);n.utils.initSVG(y);pt.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});tr="function"==typeof o.yScale().base;vi=ct&&rt&&vt?[]:d3.merge(pt.map(function(n){return n.values.map(function(n,t){return{x:u(n,t),y:f(n,t),size:h(n,t)}})}));(t.domain(ct||d3.extent(vi.map(function(n){return n.x}).concat(kt))),gt&&pt[0]?t.range(lt||[(ai*st+ai)/(2*pt[0].values.length),ai-ai*(1+st)/(2*pt[0].values.length)]):t.range(lt||[0,ai]),tr)?(ir=d3.min(vi.map(function(n){if(0!==n.y)return n.y})),i.clamp(!0).domain(rt||d3.extent(vi.map(function(n){return 0!==n.y?n.y:.1*ir}).concat(ot))).range(at||[yi,0])):i.domain(rt||d3.extent(vi.map(function(n){return n.y}).concat(ot))).range(at||[yi,0]);s.domain(vt||d3.extent(vi.map(function(n){return n.size}).concat(dt))).range(ri||li);si=t.domain()[0]===t.domain()[1]||i.domain()[0]===i.domain()[1];t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]-.01*t.domain()[0],t.domain()[1]+.01*t.domain()[1]]):t.domain([-1,1]));i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));isNaN(t.domain()[0])&&t.domain([-1,1]);isNaN(i.domain()[0])&&i.domain([-1,1]);b=b||t;k=k||i;ut=ut||s;ki=t(1)!==b(1)||i(1)!==k(1)||s(1)!==ut(1);ft=ft||l;et=et||a;di=ft!==l||et!==a;g=g||[];pi=g[0]!==t.domain()[0]||g[1]!==t.domain()[1];g=t.domain();nt=nt||[];pi=pi||nt[0]!==i.domain()[0]||nt[1]!==i.domain()[1];nt=i.domain();var fi=y.selectAll("g.nv-wrap.nv-scatter").data([pt]),gi=fi.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+v),ur=gi.append("defs"),rr=gi.append("g"),fr=fi.select("g");fi.classed("nv-single-point",si);rr.append("g").attr("class","nv-groups");rr.append("g").attr("class","nv-point-paths");gi.append("g").attr("class","nv-point-clips");fi.attr("transform","translate("+r.left+","+r.top+")");ur.append("clipPath").attr("id","nv-edge-clip-"+v).append("rect").attr("transform","translate( -10, -10)");fi.select("#nv-edge-clip-"+v+" rect").attr("width",ai+20).attr("height",yi>0?yi+20:0);fr.attr("clip-path",ni?"url(#nv-edge-clip-"+v+")":"");w=!0;hi=fi.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});hi.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);hi.exit().remove();hi.attr("class",function(n,t){return(n.classed||"")+" nv-group nv-series-"+t}).classed("nv-noninteractive",!d).classed("hover",function(n){return n.hover});hi.watchTransition(c,"scatter: groups").style("fill",function(n,t){return p(n,t)}).style("stroke",function(n,t){return n.pointBorderColor||bt||p(n,t)}).style("stroke-opacity",1).style("fill-opacity",.5);wi=hi.selectAll("path.nv-point").data(function(n){return n.values.map(function(n,t){return[n,t]}).filter(function(n,t){return it(n[0],t)})});(wi.enter().append("path").attr("class",function(n){return"nv-point nv-point-"+n[1]}).style("fill",function(n){return n.color}).style("stroke",function(n){return n.color}).attr("transform",function(t){return"translate("+n.utils.NaNtoZero(b(u(t[0],t[1])))+","+n.utils.NaNtoZero(k(f(t[0],t[1])))+")"}).attr("d",n.utils.symbol().type(function(n){return tt(n[0])}).size(function(n){return s(h(n[0],n[1]))})),wi.exit().each(ci).remove(),hi.exit().selectAll("path.nv-point").watchTransition(c,"scatter exit").attr("transform",function(r){return"translate("+n.utils.NaNtoZero(t(u(r[0],r[1])))+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}).remove(),wi.filter(function(n){return ei(n,"x",u,"y",f)||ki||di||pi}).watchTransition(c,"scatter points").attr("transform",function(r){return"translate("+n.utils.NaNtoZero(t(u(r[0],r[1])))+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}),wi.filter(function(n){return ei(n,"shape",tt,"size",h)||ki||di||pi}).watchTransition(c,"scatter points").attr("d",n.utils.symbol().type(function(n){return tt(n[0])}).size(function(n){return s(h(n[0],n[1]))})),ui)&&(bi=hi.selectAll(".nv-label").data(function(n){return n.values.map(function(n,t){return[n,t]}).filter(function(n,t){return it(n[0],t)})}),bi.enter().append("text").style("fill",function(n){return n.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){var i=n.utils.NaNtoZero(b(u(t[0],t[1])))+Math.sqrt(s(h(t[0],t[1]))/Math.PI)+2;return"translate("+i+","+n.utils.NaNtoZero(k(f(t[0],t[1])))+")"}).text(function(n){return n[0].label}),bi.exit().remove(),hi.exit().selectAll("path.nv-label").watchTransition(c,"scatter exit").attr("transform",function(r){var e=n.utils.NaNtoZero(t(u(r[0],r[1])))+Math.sqrt(s(h(r[0],r[1]))/Math.PI)+2;return"translate("+e+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}).remove(),bi.each(function(n){d3.select(this).classed("nv-label",!0).classed("nv-label-"+n[1],!1).classed("hover",!1)}),bi.watchTransition(c,"scatter labels").attr("transform",function(r){var e=n.utils.NaNtoZero(t(u(r[0],r[1])))+Math.sqrt(s(h(r[0],r[1]))/Math.PI)+2;return"translate("+e+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}));wt?(clearTimeout(oi),oi=setTimeout(nr,wt)):nr();b=t.copy();k=i.copy();ut=s.copy();ft=l;et=a}),c.renderEnd("scatter immediate"),o}var b,k,ut,g,nt,ft,et,oi,r={top:0,right:0,bottom:0,left:0},l=null,a=null,p=n.utils.defaultColor(),bt=null,v=Math.floor(1e5*Math.random()),y=null,t=d3.scale.linear(),i=d3.scale.linear(),s=d3.scale.linear(),u=function(n){return n.x},f=function(n){return n.y},h=function(n){return n.size||1},tt=function(n){return n.shape||"circle"},kt=[],ot=[],dt=[],d=!0,it=function(n){return!n.notActive},gt=!1,st=.1,ni=!1,ht=!0,ti=!1,ii=function(){return 25},ct=null,rt=null,lt=null,at=null,vt=null,ri=null,si=!1,e=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),yt=!0,pt=250,wt=300,ui=!1,w=!1,c=n.utils.renderWatch(e,pt),li=[16,256],fi={};return o.dispatch=e,o.options=n.utils.optionsFunc.bind(o),o._calls=new function(){this.clearHighlights=function(){return n.dom.write(function(){y.selectAll(".nv-point.hover").classed("hover",!1)}),null};this.highlightPoint=function(t,i,r){n.dom.write(function(){y.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+i).classed("hover",r)})}},e.on("elementMouseover.point",function(n){d&&o._calls.highlightPoint(n.seriesIndex,n.pointIndex,!0)}),e.on("elementMouseout.point",function(n){d&&o._calls.highlightPoint(n.seriesIndex,n.pointIndex,!1)}),o._options=Object.create({},{width:{get:function(){return l},set:function(n){l=n}},height:{get:function(){return a},set:function(n){a=n}},xScale:{get:function(){return t},set:function(n){t=n}},yScale:{get:function(){return i},set:function(n){i=n}},pointScale:{get:function(){return s},set:function(n){s=n}},xDomain:{get:function(){return ct},set:function(n){ct=n}},yDomain:{get:function(){return rt},set:function(n){rt=n}},pointDomain:{get:function(){return vt},set:function(n){vt=n}},xRange:{get:function(){return lt},set:function(n){lt=n}},yRange:{get:function(){return at},set:function(n){at=n}},pointRange:{get:function(){return ri},set:function(n){ri=n}},forceX:{get:function(){return kt},set:function(n){kt=n}},forceY:{get:function(){return ot},set:function(n){ot=n}},forcePoint:{get:function(){return dt},set:function(n){dt=n}},interactive:{get:function(){return d},set:function(n){d=n}},pointActive:{get:function(){return it},set:function(n){it=n}},padDataOuter:{get:function(){return st},set:function(n){st=n}},padData:{get:function(){return gt},set:function(n){gt=n}},clipEdge:{get:function(){return ni},set:function(n){ni=n}},clipVoronoi:{get:function(){return ht},set:function(n){ht=n}},clipRadius:{get:function(){return ii},set:function(n){ii=n}},showVoronoi:{get:function(){return ti},set:function(n){ti=n}},id:{get:function(){return v},set:function(n){v=n}},interactiveUpdateDelay:{get:function(){return wt},set:function(n){wt=n}},showLabels:{get:function(){return ui},set:function(n){ui=n}},pointBorderColor:{get:function(){return bt},set:function(n){bt=n}},x:{get:function(){return u},set:function(n){u=d3.functor(n)}},y:{get:function(){return f},set:function(n){f=d3.functor(n)}},pointSize:{get:function(){return h},set:function(n){h=d3.functor(n)}},pointShape:{get:function(){return tt},set:function(n){tt=d3.functor(n)}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return pt},set:function(n){pt=n;c.reset(pt)}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}},useVoronoi:{get:function(){return yt},set:function(n){yt=n;yt===!1&&(ht=!1)}}}),n.utils.initOptions(o),o};n.models.scatterChart=function(){"use strict";function t(st){return h.reset(),h.models(i),tt&&h.models(y),it&&h.models(l),g&&h.models(v),nt&&h.models(c),st.each(function(st){var yt,wt,kt,ni,dt,gt;if(u=d3.select(this),n.utils.initSVG(u),yt=n.utils.availableWidth(ut,u,r),wt=n.utils.availableHeight(d,u,r),t.update=function(){0===b?u.call(t):u.transition().duration(b).call(t)},t.container=this,s.setter(at(st),t.update).getter(lt(st)).update(),s.disabled=st.map(function(n){return!!n.disabled}),!p){p={};for(kt in s)p[kt]=s[kt]instanceof Array?s[kt].slice(0):s[kt]}if(!(st&&st.length&&st.filter(function(n){return n.values.length}).length))return n.utils.noData(t,u),h.renderEnd("scatter immediate"),t;u.selectAll(".nv-noData").remove();e=i.xScale();o=i.yScale();var pt=u.selectAll("g.nv-wrap.nv-scatterChart").data([st]),ti=pt.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+i.id()),vt=ti.append("g"),bt=pt.select("g");(vt.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),vt.append("g").attr("class","nv-x nv-axis"),vt.append("g").attr("class","nv-y nv-axis"),vt.append("g").attr("class","nv-scatterWrap"),vt.append("g").attr("class","nv-regressionLinesWrap"),vt.append("g").attr("class","nv-distWrap"),vt.append("g").attr("class","nv-legendWrap"),w&&bt.select(".nv-y.nv-axis").attr("transform","translate("+yt+",0)"),ft)?(ni=yt,a.width(ni),pt.select(".nv-legendWrap").datum(st).call(a),ot||a.height()===r.top||(r.top=a.height(),wt=n.utils.availableHeight(d,u,r)),pt.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")):bt.select(".nv-legendWrap").selectAll("*").remove();pt.attr("transform","translate("+r.left+","+r.top+")");i.width(yt).height(wt).color(st.map(function(n,t){return n.color=n.color||f(n,t),n.color}).filter(function(n,t){return!st[t].disabled})).showLabels(et);pt.select(".nv-scatterWrap").datum(st.filter(function(n){return!n.disabled})).call(i);pt.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+i.id()+")");dt=pt.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(n){return n});dt.enter().append("g").attr("class","nv-regLines");gt=dt.selectAll(".nv-regLine").data(function(n){return[n]});gt.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);gt.filter(function(n){return n.intercept&&n.slope}).watchTransition(h,"scatterPlusLineChart: regline").attr("x1",e.range()[0]).attr("x2",e.range()[1]).attr("y1",function(n){return o(e.domain()[0]*n.slope+n.intercept)}).attr("y2",function(n){return o(e.domain()[1]*n.slope+n.intercept)}).style("stroke",function(n,t,i){return f(n,i)}).style("stroke-opacity",function(n){return n.disabled||"undefined"==typeof n.slope||"undefined"==typeof n.intercept?0:1});tt&&(y.scale(e)._ticks(n.utils.calcTicksX(yt/100,st)).tickSize(-wt,0),bt.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")").call(y));it&&(l.scale(o)._ticks(n.utils.calcTicksY(wt/36,st)).tickSize(-yt,0),bt.select(".nv-y.nv-axis").call(l));g&&(v.getData(i.x()).scale(e).width(yt).color(st.map(function(n,t){return n.color||f(n,t)}).filter(function(n,t){return!st[t].disabled})),vt.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),bt.select(".nv-distributionX").attr("transform","translate(0,"+o.range()[0]+")").datum(st.filter(function(n){return!n.disabled})).call(v));nt&&(c.getData(i.y()).scale(o).width(wt).color(st.map(function(n,t){return n.color||f(n,t)}).filter(function(n,t){return!st[t].disabled})),vt.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),bt.select(".nv-distributionY").attr("transform","translate("+(w?yt:-c.size())+",0)").datum(st.filter(function(n){return!n.disabled})).call(c));a.dispatch.on("stateChange",function(n){for(var i in n)s[i]=n[i];rt.stateChange(s);t.update()});rt.on("changeState",function(n){"undefined"!=typeof n.disabled&&(st.forEach(function(t,i){t.disabled=n.disabled[i]}),s.disabled=n.disabled);t.update()});i.dispatch.on("elementMouseout.tooltip",function(n){k.hidden(!0);u.select(".nv-chart-"+i.id()+" .nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",0);u.select(".nv-chart-"+i.id()+" .nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",c.size())});i.dispatch.on("elementMouseover.tooltip",function(n){u.select(".nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",n.relativePos[1]-wt);u.select(".nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",n.relativePos[0]+v.size());k.data(n).hidden(!1)});ht=e.copy();ct=o.copy()}),h.renderEnd("scatter with line immediate"),t}var i=n.models.scatter(),y=n.models.axis(),l=n.models.axis(),a=n.models.legend(),v=n.models.distribution(),c=n.models.distribution(),k=n.models.tooltip(),r={top:30,right:20,bottom:50,left:75},ot=null,ut=null,d=null,u=null,f=n.utils.defaultColor(),e=i.xScale(),o=i.yScale(),g=!1,nt=!1,ft=!0,tt=!0,it=!0,w=!1,s=n.utils.state(),p=null,rt=d3.dispatch("stateChange","changeState","renderEnd"),st=null,b=250,et=!1;i.xScale(e).yScale(o);y.orient("bottom").tickPadding(10);l.orient(w?"right":"left").tickPadding(10);v.axis("x");c.axis("y");k.headerFormatter(function(n,t){return y.tickFormat()(n,t)}).valueFormatter(function(n,t){return l.tickFormat()(n,t)});var ht,ct,h=n.utils.renderWatch(rt,b),lt=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},at=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return t.dispatch=rt,t.scatter=i,t.legend=a,t.xAxis=y,t.yAxis=l,t.distX=v,t.distY=c,t.tooltip=k,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ut},set:function(n){ut=n}},height:{get:function(){return d},set:function(n){d=n}},container:{get:function(){return u},set:function(n){u=n}},showDistX:{get:function(){return g},set:function(n){g=n}},showDistY:{get:function(){return nt},set:function(n){nt=n}},showLegend:{get:function(){return ft},set:function(n){ft=n}},showXAxis:{get:function(){return tt},set:function(n){tt=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return p},set:function(n){p=n}},noData:{get:function(){return st},set:function(n){st=n}},duration:{get:function(){return b},set:function(n){b=n}},showLabels:{get:function(){return et},set:function(n){et=n}},margin:{get:function(){return r},set:function(n){void 0!==n.top&&(r.top=n.top,ot=n.top);r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},rightAlignYAxis:{get:function(){return w},set:function(n){w=n;l.orient(n?"right":"left")}},color:{get:function(){return f},set:function(t){f=n.utils.getColor(t);a.color(f);v.color(f);c.color(f)}}}),n.utils.inheritOptions(t,i),n.utils.initOptions(t),t};n.models.sparkline=function(){"use strict";function r(b){return d.reset(),b.each(function(r){var nt=a-t.left-t.right,tt=v-t.top-t.bottom,b,g,k,d;y=d3.select(this);n.utils.initSVG(y);f.domain(s||d3.extent(r,e)).range(c||[0,nt]);i.domain(h||d3.extent(r,u)).range(l||[tt,0]);b=y.selectAll("g.nv-wrap.nv-sparkline").data([r]);g=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");g.append("g");b.select("g");b.attr("transform","translate("+t.left+","+t.top+")");k=b.selectAll("path").data(function(n){return[n]});k.enter().append("path");k.exit().remove();k.style("stroke",function(n,t){return n.color||p(n,t)}).attr("d",d3.svg.line().x(function(n,t){return f(e(n,t))}).y(function(n,t){return i(u(n,t))}));d=b.selectAll("circle.nv-point").data(function(n){function t(t){if(-1!=t){var i=n[t];return i.pointIndex=t,i}return null}var r=n.map(function(n,t){return u(n,t)}),f=t(r.lastIndexOf(i.domain()[1])),e=t(r.indexOf(i.domain()[0])),s=t(r.length-1);return[o?e:null,o?f:null,w?s:null].filter(function(n){return null!=n})});d.enter().append("circle");d.exit().remove();d.attr("cx",function(n){return f(e(n,n.pointIndex))}).attr("cy",function(n){return i(u(n,n.pointIndex))}).attr("r",2).attr("class",function(n){return e(n,n.pointIndex)==f.domain()[1]?"nv-point nv-currentValue":u(n,n.pointIndex)==i.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),d.renderEnd("sparkline immediate"),r}var s,h,c,l,t={top:2,right:0,bottom:2,left:0},a=400,v=32,y=null,b=!0,f=d3.scale.linear(),i=d3.scale.linear(),e=function(n){return n.x},u=function(n){return n.y},p=n.utils.getColor(["#000"]),o=!0,w=!0,k=d3.dispatch("renderEnd"),d=n.utils.renderWatch(k);return r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return a},set:function(n){a=n}},height:{get:function(){return v},set:function(n){v=n}},xDomain:{get:function(){return s},set:function(n){s=n}},yDomain:{get:function(){return h},set:function(n){h=n}},xRange:{get:function(){return c},set:function(n){c=n}},yRange:{get:function(){return l},set:function(n){l=n}},xScale:{get:function(){return f},set:function(n){f=n}},yScale:{get:function(){return i},set:function(n){i=n}},animate:{get:function(){return b},set:function(n){b=n}},showMinMaxPoints:{get:function(){return o},set:function(n){o=n}},showCurrentPoint:{get:function(){return w},set:function(n){w=n}},x:{get:function(){return e},set:function(n){e=d3.functor(n)}},y:{get:function(){return u},set:function(n){u=d3.functor(n)}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}}}),r.dispatch=k,n.utils.initOptions(r),r};n.models.sparklinePlus=function(){"use strict";function r(w){return y.reset(),y.models(i),w.each(function(y){function rt(){if(!e){var n=b.selectAll(".nv-hoverValue").data(u),r=n.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);n.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();n.attr("transform",function(n){return"translate("+s(i.x()(y[n],n))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);u.length&&(r.append("line").attr("x1",0).attr("y1",-t.top).attr("x2",0).attr("y2",d),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-t.top).attr("text-anchor","end").attr("dy",".9em"),b.select(".nv-hoverValue .nv-xValue").text(l(i.x()(y[u[0]],u[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-t.top).attr("text-anchor","start").attr("dy",".9em"),b.select(".nv-hoverValue .nv-yValue").text(o(i.y()(y[u[0]],u[0]))))}}function et(){function n(n,t){for(var u=Math.abs(i.x()(n[0],0)-t),f=0,r=0;r<n.length;r++)Math.abs(i.x()(n[r],r)-t)<u&&(u=Math.abs(i.x()(n[r],r)-t),f=r);return f}if(!e){var r=d3.mouse(this)[0]-t.left;u=[n(y,Math.round(s.invert(r)))];rt()}}var w=d3.select(this),k,d,nt,ut,ft,it;if(n.utils.initSVG(w),k=n.utils.availableWidth(h,w,t),d=n.utils.availableHeight(c,w,t),r.update=function(){w.call(r)},r.container=this,!y||!y.length)return n.utils.noData(r,w),r;w.selectAll(".nv-noData").remove();nt=i.y()(y[y.length-1],y.length-1);s=i.xScale();p=i.yScale();var tt=w.selectAll("g.nv-wrap.nv-sparklineplus").data([y]),ot=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),g=ot.append("g"),b=tt.select("g");g.append("g").attr("class","nv-sparklineWrap");g.append("g").attr("class","nv-valueWrap");g.append("g").attr("class","nv-hoverArea");tt.attr("transform","translate("+t.left+","+t.top+")");ut=b.select(".nv-sparklineWrap");(i.width(k).height(d),ut.call(i),a)&&(ft=b.select(".nv-valueWrap"),it=ft.selectAll(".nv-currentValue").data([nt]),it.enter().append("text").attr("class","nv-currentValue").attr("dx",f?-8:8).attr("dy",".9em").style("text-anchor",f?"end":"start"),it.attr("x",k+(f?t.right:0)).attr("y",v?function(n){return p(n)}:0).style("fill",i.color()(y[y.length-1],y.length-1)).text(o(nt)));g.select(".nv-hoverArea").append("rect").on("mousemove",et).on("click",function(){e=!e}).on("mouseout",function(){u=[];rt()});b.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-t.left+","+-t.top+")"}).attr("width",k+t.left+t.right).attr("height",d+t.top)}),y.renderEnd("sparklinePlus immediate"),r}var s,p,i=n.models.sparkline(),t={top:15,right:100,bottom:10,left:50},h=null,c=null,u=[],e=!1,l=d3.format(",r"),o=d3.format(",.2f"),a=!0,v=!0,f=!1,w=null,b=d3.dispatch("renderEnd"),y=n.utils.renderWatch(b);return r.dispatch=b,r.sparkline=i,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return h},set:function(n){h=n}},height:{get:function(){return c},set:function(n){c=n}},xTickFormat:{get:function(){return l},set:function(n){l=n}},yTickFormat:{get:function(){return o},set:function(n){o=n}},showLastValue:{get:function(){return a},set:function(n){a=n}},alignValue:{get:function(){return v},set:function(n){v=n}},rightAlignValue:{get:function(){return f},set:function(n){f=n}},noData:{get:function(){return w},set:function(n){w=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}}}),n.utils.inheritOptions(r,i),n.utils.initOptions(r),r};n.models.stackedArea=function(){"use strict";function t(u){return e.reset(),e.models(i),u.each(function(u){var ut=p-r.left-r.right,ft=w-r.top-r.bottom,rt,et,ht;b=d3.select(this);n.utils.initSVG(b);y=i.xScale();h=i.yScale();rt=u;u.forEach(function(n,t){n.seriesIndex=t;n.values=n.values.map(function(n,i){return n.index=i,n.seriesIndex=t,n})});et=u.filter(function(n){return!n.disabled});u=d3.layout.stack().order(d).offset(k).values(function(n){return n.values}).x(o).y(s).out(function(n,t,i){n.display={y:i,y0:t}})(et);var tt=b.selectAll("g.nv-wrap.nv-stackedarea").data([u]),ot=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),ct=ot.append("defs"),st=ot.append("g"),nt=tt.select("g");st.append("g").attr("class","nv-areaWrap");st.append("g").attr("class","nv-scatterWrap");tt.attr("transform","translate("+r.left+","+r.top+")");0==i.forceY().length&&i.forceY().push(0);i.width(ut).height(ft).x(o).y(function(n){if(void 0!==n.display)return n.display.y+n.display.y0}).color(u.map(function(n){return n.color=n.color||c(n,n.seriesIndex),n.color}));ht=nt.select(".nv-scatterWrap").datum(u);ht.call(i);ct.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect");tt.select("#nv-edge-clip-"+l+" rect").attr("width",ut).attr("height",ft);nt.attr("clip-path",g?"url(#nv-edge-clip-"+l+")":"");var lt=d3.svg.area().defined(v).x(function(n,t){return y(o(n,t))}).y0(function(n){return h(n.display.y0)}).y1(function(n){return h(n.display.y+n.display.y0)}).interpolate(a),at=d3.svg.area().defined(v).x(function(n,t){return y(o(n,t))}).y0(function(n){return h(n.display.y0)}).y1(function(n){return h(n.display.y0)}),it=nt.select(".nv-areaWrap").selectAll("path.nv-area").data(function(n){return n});it.enter().append("path").attr("class",function(n,t){return"nv-area nv-area-"+t}).attr("d",function(n){return at(n.values,n.seriesIndex)}).on("mouseover",function(n){d3.select(this).classed("hover",!0);f.areaMouseover({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("mouseout",function(n){d3.select(this).classed("hover",!1);f.areaMouseout({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("click",function(n){d3.select(this).classed("hover",!1);f.areaClick({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})});it.exit().remove();it.style("fill",function(n){return n.color||c(n,n.seriesIndex)}).style("stroke",function(n){return n.color||c(n,n.seriesIndex)});it.watchTransition(e,"stackedArea path").attr("d",function(n,t){return lt(n.values,t)});i.dispatch.on("elementMouseover.area",function(n){nt.select(".nv-chart-"+l+" .nv-area-"+n.seriesIndex).classed("hover",!0)});i.dispatch.on("elementMouseout.area",function(n){nt.select(".nv-chart-"+l+" .nv-area-"+n.seriesIndex).classed("hover",!1)});t.d3_stackedOffset_stackPercent=function(n){for(var t,r,u=n.length,f=n[0].length,e=[],i=0;f>i;++i){for(t=0,r=0;t<rt.length;t++)r+=s(rt[t].values[i]);if(r)for(t=0;u>t;t++)n[t][i][1]/=r;else for(t=0;u>t;t++)n[t][i][1]=0}for(i=0;f>i;++i)e[i]=0;return e}}),e.renderEnd("stackedArea immediate"),t}var y,h,r={top:0,right:0,bottom:0,left:0},p=960,w=500,c=n.utils.defaultColor(),l=Math.floor(1e5*Math.random()),b=null,o=function(n){return n.x},s=function(n){return n.y},v=function(n,t){return!isNaN(s(n,t))&&null!==s(n,t)},nt="stack",k="zero",d="default",a="linear",g=!1,i=n.models.scatter(),u=250,f=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout"),e;return i.pointSize(2.2).pointDomain([2.2,2.2]),e=n.utils.renderWatch(f,u),t.dispatch=f,t.scatter=i,i.dispatch.on("elementClick",function(){f.elementClick.apply(this,arguments)}),i.dispatch.on("elementMouseover",function(){f.elementMouseover.apply(this,arguments)}),i.dispatch.on("elementMouseout",function(){f.elementMouseout.apply(this,arguments)}),t.interpolate=function(n){return arguments.length?(a=n,t):a},t.duration=function(n){return arguments.length?(u=n,e.reset(u),i.duration(u),t):u},t.dispatch=f,t.scatter=i,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return p},set:function(n){p=n}},height:{get:function(){return w},set:function(n){w=n}},defined:{get:function(){return v},set:function(n){v=n}},clipEdge:{get:function(){return g},set:function(n){g=n}},offset:{get:function(){return k},set:function(n){k=n}},order:{get:function(){return d},set:function(n){d=n}},interpolate:{get:function(){return a},set:function(n){a=n}},x:{get:function(){return o},set:function(n){o=d3.functor(n)}},y:{get:function(){return s},set:function(n){s=d3.functor(n)}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return c},set:function(t){c=n.utils.getColor(t)}},style:{get:function(){return nt},set:function(n){switch(nt=n){case"stack":t.offset("zero");t.order("default");break;case"stream":t.offset("wiggle");t.order("inside-out");break;case"stream-center":t.offset("silhouette");t.order("inside-out");break;case"expand":t.offset("expand");t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent);t.order("default")}}},duration:{get:function(){return u},set:function(n){u=n;e.reset(u);i.duration(u)}}}),n.utils.inheritOptions(t,i),n.utils.initOptions(t),t};n.models.stackedAreaChart=function(){"use strict";function i(ut){return tt.reset(),tt.models(t),b&&tt.models(c),it&&tt.models(e),ut.each(function(tt){function li(){b&&ut.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+wt+")").transition().duration(h).call(c)}function ai(){if(it){if("expand"===t.style()||"stack_percent"===t.style()){var n=e.tickFormat();g&&n===kt||(g=n);e.tickFormat(kt)}else g&&(e.tickFormat(g),g=null);ut.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(e)}}function vi(n){var i=ut.select(".nv-focus .nv-stackedWrap").datum(tt.filter(function(n){return!n.disabled}).map(function(i){return{key:i.key,area:i.area,classed:i.classed,values:i.values.filter(function(i,r){return t.x()(i,r)>=n[0]&&t.x()(i,r)<=n[1]}),disableTooltip:i.disableTooltip}}));i.transition().duration(h).call(t);li();ai()}var ni=d3.select(this),ti,wt,ui,ii,oi,si,yi,ri,hi,pi,wi,ci;if(n.utils.initSVG(ni),ti=n.utils.availableWidth(ct,ni,u),wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0),i.update=function(){ni.transition().duration(h).call(i)},i.container=this,f.setter(gt(tt),i.update).getter(dt(tt)).update(),f.disabled=tt.map(function(n){return!!n.disabled}),!k){k={};for(ui in f)k[ui]=f[ui]instanceof Array?f[ui].slice(0):f[ui]}if(!(tt&&tt.length&&tt.filter(function(n){return n.values.length}).length))return n.utils.noData(i,ni),i;ni.selectAll(".nv-noData").remove();ht=t.xScale();yt=t.yScale();var fi=ni.selectAll("g.nv-wrap.nv-stackedAreaChart").data([tt]),ei=fi.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),ut=fi.select("g");ei.append("g").attr("class","nv-legendWrap");ei.append("g").attr("class","nv-controlsWrap");ii=ei.append("g").attr("class","nv-focus");ii.append("g").attr("class","nv-background").append("rect");ii.append("g").attr("class","nv-x nv-axis");ii.append("g").attr("class","nv-y nv-axis");ii.append("g").attr("class","nv-stackedWrap");ii.append("g").attr("class","nv-interactive");ei.append("g").attr("class","nv-focusWrap");et?(oi=ft&&"top"===w?ti-vt:ti,(o.width(oi),ut.select(".nv-legendWrap").datum(tt).call(o),"bottom"===w)?(si=(b?12:0)+10,u.bottom=Math.max(o.height()+si,u.bottom),wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0),yi=wt+si,ut.select(".nv-legendWrap").attr("transform","translate(0,"+yi+")")):"top"===w&&(pt||u.top==o.height()||(u.top=o.height(),wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0)),ut.select(".nv-legendWrap").attr("transform","translate("+(ti-oi)+","+-u.top+")"))):ut.select(".nv-legendWrap").selectAll("*").remove();ft?(ri=[{key:d.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=t.style(),style:"stack"},{key:d.stream||"Stream",metaKey:"Stream",disabled:"stream"!=t.style(),style:"stream"},{key:d.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=t.style(),style:"expand"},{key:d.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=t.style(),style:"stack_percent"}],vt=st.length/3*260,ri=ri.filter(function(n){return-1!==st.indexOf(n.metaKey)}),y.width(vt).color(["#444","#444","#444"]),ut.select(".nv-controlsWrap").datum(ri).call(y),hi=Math.max(y.height(),et&&"top"===w?o.height():0),u.top!=hi&&(u.top=hi,wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0)),ut.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")):ut.select(".nv-controlsWrap").selectAll("*").remove();fi.attr("transform","translate("+u.left+","+u.top+")");rt&&ut.select(".nv-y.nv-axis").attr("transform","translate("+ti+",0)");lt&&(s.width(ti).height(wt).margin({left:u.left,top:u.top}).svgContainer(ni).xScale(ht),fi.select(".nv-interactive").call(s));ut.select(".nv-focus .nv-background rect").attr("width",ti).attr("height",wt);t.width(ti).height(wt).color(tt.map(function(n,t){return n.color||l(n,t)}).filter(function(n,t){return!tt[t].disabled}));pi=ut.select(".nv-focus .nv-stackedWrap").datum(tt.filter(function(n){return!n.disabled}));(b&&c.scale(ht)._ticks(n.utils.calcTicksX(ti/100,tt)).tickSize(-wt,0),it)&&(wi="wiggle"===t.offset()?0:n.utils.calcTicksY(wt/36,tt),e.scale(yt)._ticks(wi).tickSize(-ti,0));a?(r.width(ti),ut.select(".nv-focusWrap").attr("transform","translate(0,"+(wt+u.bottom+r.margin().top)+")").datum(tt.filter(function(n){return!n.disabled})).call(r),ci=r.brush.empty()?r.xDomain():r.brush.extent(),null!==ci&&vi(ci)):(pi.transition().call(t),li(),ai());t.dispatch.on("areaClick.toggle",function(n){1===tt.filter(function(n){return!n.disabled}).length?tt.forEach(function(n){n.disabled=!1}):tt.forEach(function(t,i){t.disabled=i!=n.seriesIndex});f.disabled=tt.map(function(n){return!!n.disabled});v.stateChange(f);i.update()});o.dispatch.on("stateChange",function(n){for(var t in n)f[t]=n[t];v.stateChange(f);i.update()});y.dispatch.on("legendClick",function(n){n.disabled&&(ri=ri.map(function(n){return n.disabled=!0,n}),n.disabled=!1,t.style(n.style),f.style=t.style(),v.stateChange(f),i.update())});s.dispatch.on("elementMousemove",function(r){var e,h,w,o;t.clearHighlights();var c,u,a,f=[],v=0,y=!0,p=!1;(tt.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(e,o){var s,w,h;u=n.interactiveBisect(e.values,r.pointXValue,i.x());s=e.values[u];w=i.y()(s,u);(null!=w&&w>0&&(t.highlightPoint(o,u,!0),p=!0),o!==tt.length-1||p||t.highlightPoint(o,u,!0),"undefined"!=typeof s)&&("undefined"==typeof c&&(c=s),"undefined"==typeof a&&(a=i.xScale()(i.x()(s,u))),h="expand"==t.style()?s.display.y:i.y()(s,u),f.push({key:e.key,value:h,color:l(e,e.seriesIndex),point:s}),ot&&"expand"!=t.style()&&null!=h&&(v+=h,y=!1))}),f.reverse(),f.length>2)&&(e=i.yScale().invert(r.mouseY),h=null,f.forEach(function(n,t){e=Math.abs(e);var i=Math.abs(n.point.display.y0),r=Math.abs(n.point.display.y);e>=i&&r+i>=e}),null!=h&&(f[h].highlight=!0));ot&&"expand"!=t.style()&&f.length>=2&&!y&&f.push({key:at,value:v,total:!0});w=i.x()(c,u);o=s.tooltip.valueFormatter();"expand"===t.style()||"stack_percent"===t.style()?(nt||(nt=o),o=d3.format(".1%")):nt&&(o=nt,nt=null);s.tooltip.valueFormatter(o).data({value:w,series:f})();s.renderGuideLine(a)});s.dispatch.on("elementMouseout",function(){t.clearHighlights()});r.dispatch.on("onBrush",function(n){vi(n)});v.on("changeState",function(n){"undefined"!=typeof n.disabled&&tt.length===n.disabled.length&&(tt.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);"undefined"!=typeof n.style&&(t.style(n.style),bt=n.style);i.update()})}),tt.renderEnd("stacked Area chart immediate"),i}var ht,yt,t=n.models.stackedArea(),c=n.models.axis(),e=n.models.axis(),o=n.models.legend(),y=n.models.legend(),s=n.interactiveGuideline(),ut=n.models.tooltip(),r=n.models.focus(n.models.stackedArea()),u={top:10,right:25,bottom:50,left:60},pt=null,ct=null,p=null,l=n.utils.defaultColor(),ft=!0,et=!0,w="top",b=!0,it=!0,rt=!1,a=!1,lt=!1,ot=!0,at="TOTAL",f=n.utils.state(),k=null,wt=null,v=d3.dispatch("stateChange","changeState","renderEnd"),vt=250,st=["Stacked","Stream","Expanded"],d={},h=250,g,nt;f.style=t.style();c.orient("bottom").tickPadding(7);e.orient(rt?"right":"left");ut.headerFormatter(function(n,t){return c.tickFormat()(n,t)}).valueFormatter(function(n,t){return e.tickFormat()(n,t)});s.tooltip.headerFormatter(function(n,t){return c.tickFormat()(n,t)}).valueFormatter(function(n,t){return null==n?"N/A":e.tickFormat()(n,t)});g=null;nt=null;y.updateState(!1);var tt=n.utils.renderWatch(v),bt=t.style(),dt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),style:t.style()}}},gt=function(n){return function(t){void 0!==t.style&&(bt=t.style);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}},kt=d3.format("%");return t.dispatch.on("elementMouseover.tooltip",function(n){n.point.x=t.x()(n.point);n.point.y=t.y()(n.point);ut.data(n).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(){ut.hidden(!0)}),i.dispatch=v,i.stacked=t,i.legend=o,i.controls=y,i.xAxis=c,i.x2Axis=r.xAxis,i.yAxis=e,i.y2Axis=r.yAxis,i.interactiveLayer=s,i.tooltip=ut,i.focus=r,i.dispatch=v,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return ct},set:function(n){ct=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return et},set:function(n){et=n}},legendPosition:{get:function(){return w},set:function(n){w=n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return k},set:function(n){k=n}},noData:{get:function(){return wt},set:function(n){wt=n}},showControls:{get:function(){return ft},set:function(n){ft=n}},controlLabels:{get:function(){return d},set:function(n){d=n}},controlOptions:{get:function(){return st},set:function(n){st=n}},showTotalInTooltip:{get:function(){return ot},set:function(n){ot=n}},totalLabel:{get:function(){return at},set:function(n){at=n}},focusEnable:{get:function(){return a},set:function(n){a=n}},focusHeight:{get:function(){return r.height()},set:function(n){r.height(n)}},brushExtent:{get:function(){return r.brushExtent()},set:function(n){r.brushExtent(n)}},margin:{get:function(){return u},set:function(n){void 0!==n.top&&(u.top=n.top,pt=n.top);u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},focusMargin:{get:function(){return r.margin},set:function(n){r.margin.top=void 0!==n.top?n.top:r.margin.top;r.margin.right=void 0!==n.right?n.right:r.margin.right;r.margin.bottom=void 0!==n.bottom?n.bottom:r.margin.bottom;r.margin.left=void 0!==n.left?n.left:r.margin.left}},duration:{get:function(){return h},set:function(n){h=n;tt.reset(h);t.duration(h);c.duration(h);e.duration(h)}},color:{get:function(){return l},set:function(i){l=n.utils.getColor(i);o.color(l);t.color(l);r.color(l)}},x:{get:function(){return t.x()},set:function(n){t.x(n);r.x(n)}},y:{get:function(){return t.y()},set:function(n){t.y(n);r.y(n)}},rightAlignYAxis:{get:function(){return rt},set:function(n){rt=n;e.orient(rt?"right":"left")}},useInteractiveGuideline:{get:function(){return lt},set:function(n){lt=!!n;i.interactive(!n);i.useVoronoi(!n);t.scatter.interactive(!n)}}}),n.utils.inheritOptions(i,t),n.utils.initOptions(i),i};n.models.stackedAreaWithFocusChart=function(){return n.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)};n.models.sunburst=function(){"use strict";function ft(n){var t=b(n);return t>90?180:0}function b(n){var t=Math.max(0,Math.min(2*Math.PI,r(n.x))),i=Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx)));return(t+i)/2*(180/Math.PI)-90}function lt(n){var t=Math.max(0,Math.min(2*Math.PI,r(n.x))),i=Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx)));return(i-t)/(2*Math.PI)}function et(n){var t=Math.max(0,Math.min(2*Math.PI,r(n.x))),i=Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx))),u=i-t;return u>it}function at(n,t){var u=d3.interpolate(r.domain(),[s.x,s.x+s.dx]),f=d3.interpolate(i.domain(),[s.y,1]),e=d3.interpolate(i.range(),[s.y?20:0,k]);return 0===t?function(){return w(n)}:function(t){return r.domain(u(t)),i.domain(f(t)).range(e(t)),w(n)}}function vt(n){var t=d3.interpolate({x:n.x0,dx:n.dx0,y:n.y0,dy:n.dy0},n);return function(i){var r=t(i);return n.x0=r.x,n.dx0=r.dx,n.y0=r.y,n.dy0=r.dy,w(r)}}function yt(n){var i=h(n),t;c[i]||(c[i]={});t=c[i];t.dx=n.dx;t.x=n.x;t.dy=n.dy;t.y=n.y}function pt(n){n.forEach(function(n){var i=h(n),t=c[i];t?(n.dx0=t.dx,n.x0=t.x,n.dy0=t.dy,n.y0=t.y):(n.dx0=n.dx,n.x0=n.x,n.dy0=n.dy,n.y0=n.y);yt(n)})}function ot(n){var t=u.selectAll("text"),r=u.selectAll("path");t.transition().attr("opacity",0);s=n;r.transition().duration(e).attrTween("d",at).each("end",function(t){if(t.x>=n.x&&t.x<n.x+n.dx&&t.depth>=n.depth){var r=d3.select(this.parentNode),u=r.select("text");u.transition().duration(e).text(function(n){return p(n)}).attr("opacity",function(n){return et(n)?1:0}).attr("transform",function(){var f=this.getBBox().width,r,u;return 0===t.depth?"translate("+f/-2+",0)":t.depth===n.depth?"translate("+(i(t.y)+5)+",0)":(r=b(t),u=ft(t),0===u?"rotate("+r+")translate("+(i(t.y)+5)+",0)":"rotate("+r+")translate("+(i(t.y)+f+5)+",0)rotate("+u+")")})}})}function f(r){return ct.reset(),r.each(function(r){var s,it,f,rt;u=d3.select(this);l=n.utils.availableWidth(d,u,t);a=n.utils.availableHeight(g,u,t);k=Math.min(l,a)/2;i.range([0,k]);s=u.select("g.nvd3.nv-wrap.nv-sunburst");s[0][0]?s.attr("transform","translate("+(l/2+t.left+t.right)+","+(a/2+t.top+t.bottom)+")"):s=u.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+y).attr("transform","translate("+(l/2+t.left+t.right)+","+(a/2+t.top+t.bottom)+")");u.on("click",function(n,t){o.chartClick({data:n,index:t,pos:d3.event,id:y})});ht.value(st[v]||st.count);it=ht.nodes(r[0]).reverse();pt(it);f=s.selectAll(".arc-container").data(it,h);rt=f.enter().append("g").attr("class","arc-container");rt.append("path").attr("d",w).style("fill",function(n){return n.color?n.color:nt(ut?(n.children?n:n.parent).name:n.name)}).style("stroke","#FFF").on("click",function(n,t){ot(n);o.elementClick({data:n,index:t})}).on("mouseover",function(n){d3.select(this).classed("hover",!0).style("opacity",.8);o.elementMouseover({data:n,color:d3.select(this).style("fill"),percent:lt(n)})}).on("mouseout",function(n){d3.select(this).classed("hover",!1).style("opacity",1);o.elementMouseout({data:n})}).on("mousemove",function(n){o.elementMousemove({data:n})});f.each(function(){d3.select(this).select("path").transition().duration(e).attrTween("d",vt)});tt&&(f.selectAll("text").remove(),f.append("text").text(function(n){return p(n)}).transition().duration(e).attr("opacity",function(n){return et(n)?1:0}).attr("transform",function(n){var u=this.getBBox().width,t,r;return 0===n.depth?"rotate(0)translate("+u/-2+",0)":(t=b(n),r=ft(n),0===r?"rotate("+t+")translate("+(i(n.y)+5)+",0)":"rotate("+t+")translate("+(i(n.y)+u+5)+",0)rotate("+r+")")}));ot(it[it.length-1]);f.exit().transition().duration(e).attr("opacity",0).each("end",function(n){var t=h(n);c[t]=void 0}).remove()}),ct.renderEnd("sunburst immediate"),f}var s,l,a,k,t={top:0,right:0,bottom:0,left:0},d=600,g=600,v="count",st={count:function(){return 1},value:function(n){return n.value||n.size},size:function(n){return n.value||n.size}},y=Math.floor(1e4*Math.random()),u=null,nt=n.utils.defaultColor(),tt=!1,p=function(n){return"count"===v?n.name+" #"+n.value:n.name+" "+(n.value||n.size)},it=.02,rt=function(n,t){return n.name>t.name},h=function(n,t){return void 0!==n.parent?n.name+"-"+n.parent.name+"-"+t:n.name},ut=!0,e=500,o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),r=d3.scale.linear().range([0,2*Math.PI]),i=d3.scale.sqrt(),ht=d3.layout.partition().sort(rt),c={},w=d3.svg.arc().startAngle(function(n){return Math.max(0,Math.min(2*Math.PI,r(n.x)))}).endAngle(function(n){return Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx)))}).innerRadius(function(n){return Math.max(0,i(n.y))}).outerRadius(function(n){return Math.max(0,i(n.y+n.dy))}),ct=n.utils.renderWatch(o);return f.dispatch=o,f.options=n.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return g},set:function(n){g=n}},mode:{get:function(){return v},set:function(n){v=n}},id:{get:function(){return y},set:function(n){y=n}},duration:{get:function(){return e},set:function(n){e=n}},groupColorByParent:{get:function(){return ut},set:function(n){ut=!!n}},showLabels:{get:function(){return tt},set:function(n){tt=!!n}},labelFormat:{get:function(){return p},set:function(n){p=n}},labelThreshold:{get:function(){return it},set:function(n){it=n}},sort:{get:function(){return rt},set:function(n){rt=n}},key:{get:function(){return h},set:function(n){h=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!=n.top?n.top:t.top;t.right=void 0!=n.right?n.right:t.right;t.bottom=void 0!=n.bottom?n.bottom:t.bottom;t.left=void 0!=n.left?n.left:t.left}},color:{get:function(){return nt},set:function(t){nt=n.utils.getColor(t)}}}),n.utils.initOptions(f),f};n.models.sunburstChart=function(){"use strict";function t(f){return e.reset(),e.models(r),f.each(function(f){var e=d3.select(this),o,s;return n.utils.initSVG(e),o=n.utils.availableWidth(a,e,i),s=n.utils.availableHeight(v,e,i),t.update=function(){0===u?e.call(t):e.transition().duration(u).call(t)},t.container=e,f&&f.length?(e.selectAll(".nv-noData").remove(),r.width(o).height(s).margin(i),void e.call(r)):(n.utils.noData(t,e),t)}),e.renderEnd("sunburstChart immediate"),t}var r=n.models.sunburst(),f=n.models.tooltip(),i={top:30,right:20,bottom:20,left:20},a=null,v=null,o=n.utils.defaultColor(),s=!1,h=(Math.round(1e5*Math.random()),null),c=null,u=250,l=d3.dispatch("stateChange","changeState","renderEnd"),e=n.utils.renderWatch(l);return f.duration(0).headerEnabled(!1).valueFormatter(function(n){return n}),r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:n.data.name,value:n.data.value||n.data.size,color:n.color,percent:n.percent};s||(delete n.percent,delete n.series.percent);f.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){f.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){f()}),t.dispatch=l,t.sunburst=r,t.tooltip=f,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{noData:{get:function(){return c},set:function(n){c=n}},defaultState:{get:function(){return h},set:function(n){h=n}},showTooltipPercent:{get:function(){return s},set:function(n){s=n}},color:{get:function(){return o},set:function(n){o=n;r.color(o)}},duration:{get:function(){return u},set:function(n){u=n;e.reset(u);r.duration(u)}},margin:{get:function(){return i},set:function(n){i.top=void 0!==n.top?n.top:i.top;i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left;r.margin(i)}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.version="1.8.6"}();
/*! Select2 4.0.10 | https://github.com/select2/select2/blob/master/LICENSE.md */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)}(function(n){var t=function(){function u(n,t){return g.call(n,t)}function a(n,t){var e,o,s,f,h,y,c,p,i,l,w,u=t&&t.split("/"),a=r.map,v=a&&a["*"]||{};if(n){for(h=(n=n.split("/")).length-1,r.nodeIdCompat&&b.test(n[h])&&(n[h]=n[h].replace(b,"")),"."===n[0].charAt(0)&&u&&(n=u.slice(0,u.length-1).concat(n)),i=0;i<n.length;i++)if("."===(w=n[i]))n.splice(i,1),i-=1;else if(".."===w){if(0===i||1===i&&".."===n[2]||".."===n[i-1])continue;0<i&&(n.splice(i-1,2),i-=2)}n=n.join("/")}if((u||v)&&a){for(i=(e=n.split("/")).length;0<i;i-=1){if(o=e.slice(0,i).join("/"),u)for(l=u.length;0<l;l-=1)if(s=(s=a[u.slice(0,l).join("/")])&&s[o]){f=s;y=i;break}if(f)break;!c&&v&&v[o]&&(c=v[o],p=i)}!f&&c&&(f=c,y=p);f&&(e.splice(0,y,f),n=e.join("/"))}return n}function tt(n,t){return function(){var i=nt.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),o.apply(f,i.concat([n,t]))}}function rt(n){return function(t){i[n]=t}}function v(n){if(u(e,n)){var t=e[n];delete e[n];c[n]=!0;h.apply(f,t)}if(!u(i,n)&&!u(c,n))throw new Error("No "+n);return i[n]}function k(n){var i,t=n?n.indexOf("!"):-1;return-1<t&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function it(n){return n?k(n):[]}var t,y,p,d,f,h,o,w,s,i,e,r,c,g,nt,b,l;return n&&n.fn&&n.fn.select2&&n.fn.select2.amd&&(t=n.fn.select2.amd),t&&t.requirejs||(t?p=t:t={},i={},e={},r={},c={},g=Object.prototype.hasOwnProperty,nt=[].slice,b=/\.js$/,w=function(n,t){var r,u=k(n),i=u[0],f=t[1];return n=u[1],i&&(r=v(i=a(i,f))),i?n=r&&r.normalize?r.normalize(n,function(n){return function(t){return a(t,n)}}(f)):a(n,f):(i=(u=k(n=a(n,f)))[0],n=u[1],i&&(r=v(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}},s={require:function(n){return tt(n)},exports:function(n){var t=i[n];return void 0!==t?t:i[n]={}},module:function(n){return{id:n,uri:"",exports:i[n],config:function(n){return function(){return r&&r.config&&r.config[n]||{}}}(n)}}},h=function(n,t,r,o){var y,h,b,p,l,k,d,a=[],g=typeof r;if(k=it(o=o||n),"undefined"==g||"function"==g){for(t=!t.length&&r.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(h=(p=w(t[l],k)).f))a[l]=s.require(n);else if("exports"===h)a[l]=s.exports(n),d=!0;else if("module"===h)y=a[l]=s.module(n);else if(u(i,h)||u(e,h)||u(c,h))a[l]=v(h);else{if(!p.p)throw new Error(n+" missing "+h);p.p.load(p.n,tt(o,!0),rt(h),{});a[l]=i[h]}b=r?r.apply(i[n],a):void 0;n&&(y&&y.exports!==f&&y.exports!==i[n]?i[n]=y.exports:b===f&&d||(i[n]=b))}else n&&(i[n]=r)},y=p=o=function(n,t,i,u,e){if("string"==typeof n)return s[n]?s[n](t):v(w(n,it(t)).f);if(!n.splice){if((r=n).deps&&o(r.deps,r.callback),!t)return;t.splice?(n=t,t=i,i=null):n=f}return t=t||function(){},"function"==typeof i&&(i=u,u=e),u?h(f,n,t,i):setTimeout(function(){h(f,n,t,i)},4),o},o.config=function(n){return o(n)},y._defined=i,(d=function(n,t,r){if("string"!=typeof n)throw new Error("See almond README: incorrect module build, no module name");t.splice||(r=t,t=[]);u(i,n)||u(e,n)||(e[n]=[n,t,r])}).amd={jQuery:!0},t.requirejs=y,t.require=p,t.define=d),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(n){function u(n){var i=n.prototype,r=[];for(var t in i)"function"==typeof i[t]&&"constructor"!==t&&r.push(t);return r}function i(){this.listeners={}}var t={},r;return t.Extend=function(n,t){function r(){this.constructor=n}var u={}.hasOwnProperty;for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},t.Decorate=function(n,t){function i(){var r=Array.prototype.unshift,u=t.prototype.constructor.length,i=n.prototype.constructor;0<u&&(r.call(arguments,n.prototype.constructor),i=t.prototype.constructor);i.apply(this,arguments)}function c(n){var r=function(){},u;return n in i.prototype&&(r=i.prototype[n]),u=t.prototype[n],function(){return Array.prototype.unshift.call(arguments,r),u.apply(this,arguments)}}var s=u(t),h=u(n),r,e,f,o;for(t.displayName=n.displayName,i.prototype=new function(){this.constructor=i},r=0;r<h.length;r++)e=h[r],i.prototype[e]=n.prototype[e];for(f=0;f<s.length;f++)o=s[f],i.prototype[o]=c(o);return i},i.prototype.on=function(n,t){this.listeners=this.listeners||{};n in this.listeners?this.listeners[n].push(t):this.listeners[n]=[t]},i.prototype.trigger=function(n){var i=Array.prototype.slice,t=i.call(arguments,1);this.listeners=this.listeners||{};null==t&&(t=[]);0===t.length&&t.push({});(t[0]._type=n)in this.listeners&&this.invoke(this.listeners[n],i.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(n,t){for(var i=0,r=n.length;i<r;i++)n[i].apply(this,t)},t.Observable=i,t.generateChars=function(n){for(var t="",i=0;i<n;i++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(n,t){return function(){n.apply(t,arguments)}},t._convertData=function(n){var f,r,i,u,t;for(f in n)if(r=f.split("-"),i=n,1!==r.length){for(u=0;u<r.length;u++)t=r[u],(t=t.substring(0,1).toLowerCase()+t.substring(1))in i||(i[t]={}),u==r.length-1&&(i[t]=n[f]),i=i[t];delete n[f]}return n},t.hasScroll=function(t,i){var u=n(i),f=i.style.overflowX,r=i.style.overflowY;return(f!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===f||"scroll"===r||u.innerHeight()<i.scrollHeight||u.innerWidth()<i.scrollWidth)},t.escapeMarkup=function(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof n?n:String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})},t.appendMany=function(t,i){if("1.7"===n.fn.jquery.substr(0,3)){var r=n();n.map(i,function(n){r=r.add(n)});i=r}t.append(i)},t.__cache={},r=0,t.GetUniqueElementId=function(n){var t=n.getAttribute("data-select2-id");return null==t&&(n.id?(t=n.id,n.setAttribute("data-select2-id",t)):(n.setAttribute("data-select2-id",++r),t=r.toString())),t},t.StoreData=function(n,i,r){var u=t.GetUniqueElementId(n);t.__cache[u]||(t.__cache[u]={});t.__cache[u][i]=r},t.GetData=function(i,r){var u=t.GetUniqueElementId(i);return r?t.__cache[u]&&null!=t.__cache[u][r]?t.__cache[u][r]:n(i).data(r):t.__cache[u]},t.RemoveData=function(n){var i=t.GetUniqueElementId(n);null!=t.__cache[i]&&delete t.__cache[i];n.removeAttribute("data-select2-id")},t}),t.define("select2/results",["jquery","./utils"],function(n,t){function i(n,t,r){this.$element=n;this.data=r;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<ul class="select2-results__options" role="listbox"><\/ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var u=this.options.get("escapeMarkup"),i,r;this.clear();this.hideLoading();i=n('<li role="alert" aria-live="assertive" class="select2-results__option"><\/li>');r=this.options.get("translations").get(t.message);i.append(u(r(t.args)));i[0].className+=" select2-results__message";this.$results.append(i)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(n){var i,t,r,u;if(this.hideLoading(),i=[],null!=n.results&&0!==n.results.length){for(n.results=this.sort(n.results),t=0;t<n.results.length;t++)r=n.results[t],u=this.option(r),i.push(u);this.$results.append(i)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(n,t){t.find(".select2-results").append(n)},i.prototype.sort=function(n){return this.options.get("sorter")(n)},i.prototype.highlightFirstItem=function(){var n=this.$results.find(".select2-results__option[aria-selected]"),t=n.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):n.first().trigger("mouseenter");this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current(function(r){var u=n.map(r,function(n){return n.id.toString()});i.$results.find(".select2-results__option[aria-selected]").each(function(){var r=n(this),i=t.GetData(this,"data"),f=""+i.id;null!=i.element&&i.element.selected||null==i.element&&-1<n.inArray(f,u)?r.attr("aria-selected","true"):r.attr("aria-selected","false")})})},i.prototype.showLoading=function(n){this.hideLoading();var i={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(n)},t=this.option(i);t.className+=" loading-results";this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var u=document.createElement("li"),r,l,o,a,s,f,h,e,v,y,c;u.className="select2-results__option";r={role:"option","aria-selected":"false"};l=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(o in(null!=i.element&&l.call(i.element,":disabled")||null==i.element&&i.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==i.id&&delete r["aria-selected"],null!=i._resultId&&(u.id=i._resultId),i.title&&(u.title=i.title),i.children&&(r.role="group",r["aria-label"]=i.text,delete r["aria-selected"]),r)a=r[o],u.setAttribute(o,a);if(i.children){for(s=n(u),f=document.createElement("strong"),f.className="select2-results__group",n(f),this.template(i,f),h=[],e=0;e<i.children.length;e++)v=i.children[e],y=this.option(v),h.push(y);c=n("<ul><\/ul>",{"class":"select2-results__options select2-results__options--nested"});c.append(h);s.append(f);s.append(c)}else this.template(i,u);return t.StoreData(u,"data",i),u},i.prototype.bind=function(i){var r=this,u=i.id+"-results";this.$results.attr("id",u);i.on("results:all",function(n){r.clear();r.append(n.data);i.isOpen()&&(r.setClasses(),r.highlightFirstItem())});i.on("results:append",function(n){r.append(n.data);i.isOpen()&&r.setClasses()});i.on("query",function(n){r.hideMessages();r.showLoading(n)});i.on("select",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())});i.on("unselect",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())});i.on("open",function(){r.$results.attr("aria-expanded","true");r.$results.attr("aria-hidden","false");r.setClasses();r.ensureHighlightVisible()});i.on("close",function(){r.$results.attr("aria-expanded","false");r.$results.attr("aria-hidden","true");r.$results.removeAttr("aria-activedescendant")});i.on("results:toggle",function(){var n=r.getHighlightedResults();0!==n.length&&n.trigger("mouseup")});i.on("results:select",function(){var n=r.getHighlightedResults(),i;0!==n.length&&(i=t.GetData(n[0],"data"),"true"==n.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:i}))});i.on("results:previous",function(){var i=r.getHighlightedResults(),u=r.$results.find("[aria-selected]"),f=u.index(i),n,t;if(!(f<=0)){n=f-1;0===i.length&&(n=0);t=u.eq(n);t.trigger("mouseenter");var e=r.$results.offset().top,o=t.offset().top,s=r.$results.scrollTop()+(o-e);0===n?r.$results.scrollTop(0):o-e<0&&r.$results.scrollTop(s)}});i.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),i=t.index(e)+1,n;if(!(i>=t.length)){n=t.eq(i);n.trigger("mouseenter");var u=r.$results.offset().top+r.$results.outerHeight(!1),f=n.offset().top+n.outerHeight(!1),o=r.$results.scrollTop()+f-u;0===i?r.$results.scrollTop(0):u<f&&r.$results.scrollTop(o)}});i.on("results:focus",function(n){n.element.addClass("select2-results__option--highlighted")});i.on("results:message",function(n){r.displayMessage(n)});n.fn.mousewheel&&this.$results.on("mousewheel",function(n){var t=r.$results.scrollTop(),i=r.$results.get(0).scrollHeight-t+n.deltaY,u=0<n.deltaY&&t-n.deltaY<=0,f=n.deltaY<0&&i<=r.$results.height();u?(r.$results.scrollTop(0),n.preventDefault(),n.stopPropagation()):f&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),n.preventDefault(),n.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(i){var f=n(this),u=t.GetData(this,"data");"true"!==f.attr("aria-selected")?r.trigger("select",{originalEvent:i,data:u}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:i,data:u}):r.trigger("close",{})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var i=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted");r.trigger("results:focus",{data:i,element:n(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(0!==n.length){var f=this.$results.find("[aria-selected]").index(n),t=this.$results.offset().top,i=n.offset().top,r=this.$results.scrollTop()+(i-t),u=i-t;r-=2*n.outerHeight(!1);f<=2?this.$results.scrollTop(0):(u>this.$results.outerHeight()||u<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var u=this.options.get("templateResult"),f=this.options.get("escapeMarkup"),r=u(t,i);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=f(r):n(i).append(r)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var i=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),i.attr("aria-disabled","false"),this.$selection=i},r.prototype.bind=function(n){var t=this,r=n.id+"-results";this.container=n;this.$selection.on("focus",function(n){t.trigger("focus",n)});this.$selection.on("blur",function(n){t._handleBlur(n)});this.$selection.on("keydown",function(n){t.trigger("keypress",n);n.which===i.SPACE&&n.preventDefault()});n.on("results:focus",function(n){t.$selection.attr("aria-activedescendant",n.data._resultId)});n.on("selection:update",function(n){t.update(n.data)});n.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(n)});n.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.trigger("focus");t._detachCloseHandler(n)});n.on("enable",function(){t.$selection.attr("tabindex",t._tabindex);t.$selection.attr("aria-disabled","false")});n.on("disable",function(){t.$selection.attr("tabindex","-1");t.$selection.attr("aria-disabled","true")})},r.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||n.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(i){n(document.body).on("mousedown.select2."+i.id,function(i){var r=n(i.target).closest(".select2");n(".select2.select2-container--open").each(function(){this!=r[0]&&t.GetData(this,"element").select2("close")})})},r.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(n,t){t.find(".selection").append(n)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.");},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--single"),n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'),n},r.prototype.bind=function(n){var i=this,t;r.__super__.bind.apply(this,arguments);t=n.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",t).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",t);this.$selection.on("mousedown",function(n){1===n.which&&i.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});n.on("focus",function(){n.isOpen()||i.$selection.trigger("focus")})},r.prototype.clear=function(){var n=this.$selection.find(".select2-selection__rendered");n.empty();n.removeAttr("title")},r.prototype.display=function(n,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(n,t))},r.prototype.selectionContainer=function(){return n("<span><\/span>")},r.prototype.update=function(n){var r;if(0!==n.length){var i=n[0],t=this.$selection.find(".select2-selection__rendered"),u=this.display(i,t);t.empty().append(u);r=i.title||i.text;r?t.attr("title",r):t.removeAttr("title")}else this.clear()},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--multiple"),n.html('<ul class="select2-selection__rendered"><\/ul>'),n},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(n){t.trigger("toggle",{originalEvent:n})});this.$selection.on("click",".select2-selection__choice__remove",function(r){if(!t.options.get("disabled")){var u=n(this).parent(),f=i.GetData(u[0],"data");t.trigger("unselect",{originalEvent:r,data:f})}})},r.prototype.clear=function(){var n=this.$selection.find(".select2-selection__rendered");n.empty();n.removeAttr("title")},r.prototype.display=function(n,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(n,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>')},r.prototype.update=function(n){var f,r,e,o;if(this.clear(),0!==n.length){for(f=[],r=0;r<n.length;r++){var u=n[r],t=this.selectionContainer(),s=this.display(u,t);t.append(s);e=u.title||u.text;e&&t.attr("title",e);i.StoreData(t[0],"data",u);f.push(t)}o=this.$selection.find(".select2-selection__rendered");i.appendMany(o,f)}},r}),t.define("select2/selection/placeholder",["../utils"],function(){function n(n,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i)}return n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.createPlaceholder=function(n,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},n.prototype.update=function(n,t){var r=1==t.length&&t[0].id!=this.placeholder.id,i;if(1<t.length||r)return n.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},n}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(n,t,i){function r(){}return r.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(n){r._handleClear(n)});t.on("keypress",function(n){r._handleKeyboardClear(n,t)})},r.prototype._handleClear=function(n,t){var e,u,o,r,f;if(!this.options.get("disabled")&&(e=this.$selection.find(".select2-selection__clear"),0!==e.length))if(t.stopPropagation(),u=i.GetData(e[0],"data"),o=this.$element.val(),this.$element.val(this.placeholder.id),r={data:u},this.trigger("clear",r),r.prevented)this.$element.val(o);else{for(f=0;f<u.length;f++)if(r={data:u[f]},this.trigger("unselect",r),r.prevented)return void this.$element.val(o);this.$element.trigger("change");this.trigger("toggle",{})}},r.prototype._handleKeyboardClear=function(n,i,r){r.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},r.prototype.update=function(t,r){if(t.call(this,r),!(0<this.$selection.find(".select2-selection__placeholder").length||0===r.length)){var f=this.options.get("translations").get("removeAllItems"),u=n('<span class="select2-selection__clear" title="'+f()+'">&times;<\/span>');i.StoreData(u[0],"data",r);this.$selection.find(".select2-selection__rendered").prepend(u)}},r}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,i){function r(n,t,i){n.call(this,t,i)}return r.prototype.render=function(t){var i=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /><\/li>'),r;return this.$searchContainer=i,this.$search=i.find("input"),r=t.call(this),this._transferTabIndex(),r},r.prototype.bind=function(n,r,u){var f=this,s=r.id+"-results",e,o;n.call(this,r,u);r.on("open",function(){f.$search.attr("aria-controls",s);f.$search.trigger("focus")});r.on("close",function(){f.$search.val("");f.$search.removeAttr("aria-controls");f.$search.removeAttr("aria-activedescendant");f.$search.trigger("focus")});r.on("enable",function(){f.$search.prop("disabled",!1);f._transferTabIndex()});r.on("disable",function(){f.$search.prop("disabled",!0)});r.on("focus",function(){f.$search.trigger("focus")});r.on("results:focus",function(n){n.data._resultId?f.$search.attr("aria-activedescendant",n.data._resultId):f.$search.removeAttr("aria-activedescendant")});this.$selection.on("focusin",".select2-search--inline",function(n){f.trigger("focus",n)});this.$selection.on("focusout",".select2-search--inline",function(n){f._handleBlur(n)});this.$selection.on("keydown",".select2-search--inline",function(n){var r,u;(n.stopPropagation(),f.trigger("keypress",n),f._keyUpPrevented=n.isDefaultPrevented(),n.which===i.BACKSPACE&&""===f.$search.val())&&(r=f.$searchContainer.prev(".select2-selection__choice"),0<r.length&&(u=t.GetData(r[0],"data"),f.searchRemoveChoice(u),n.preventDefault()))});this.$selection.on("click",".select2-search--inline",function(n){f.$search.val()&&n.stopPropagation()});e=document.documentMode;o=e&&e<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){o?f.$selection.off("input.search input.searchcheck"):f.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(n){if(o&&"input"===n.type)f.$selection.off("input.search input.searchcheck");else{var t=n.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&f.handleSearch(n)}})},r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(n,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(n,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");n.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();i&&this.$search.trigger("focus")},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(n,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var n="";n=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em";this.$search.css("width",n)},r}),t.define("select2/selection/eventRelay",["jquery"],function(n){function t(){}return t.prototype.bind=function(t,i,r){var u=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],e=["opening","closing","selecting","unselecting","clearing"];t.call(this,i,r);i.on("*",function(t,i){if(-1!==n.inArray(t,f)){i=i||{};var r=n.Event("select2:"+t,{params:i});u.$element.trigger(r);-1!==n.inArray(t,e)&&(i.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(n,t){function i(n){this.dict=n||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(n){return this.dict[n]},i.prototype.extend=function(t){this.dict=n.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(n){if(!(n in i._cache)){var r=t(n);i._cache[n]=r}return new i(i._cache[n])},i}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}}),t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.");},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.");},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var r=t.id+"-result-";return r+=n.generateChars(4),r+=null!=i.id?"-"+i.id.toString():"-"+n.generateChars(4),r},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,n),r.prototype.current=function(n){var t=[],r=this;this.$element.find(":selected").each(function(){var n=i(this),u=r.item(n);t.push(u)});n(t)},r.prototype.select=function(n){var t=this,r;if(n.selected=!0,i(n.element).is("option"))return n.element.selected=!0,void this.$element.trigger("change");this.$element.prop("multiple")?this.current(function(r){var f=[],u,e;for((n=[n]).push.apply(n,r),u=0;u<n.length;u++)e=n[u].id,-1===i.inArray(e,f)&&f.push(e);t.$element.val(f);t.$element.trigger("change")}):(r=n.id,this.$element.val(r),this.$element.trigger("change"))},r.prototype.unselect=function(n){var t=this;if(this.$element.prop("multiple")){if(n.selected=!1,i(n.element).is("option"))return n.element.selected=!1,void this.$element.trigger("change");this.current(function(r){for(var e,u=[],f=0;f<r.length;f++)e=r[f].id,e!==n.id&&-1===i.inArray(e,u)&&u.push(e);t.$element.val(u);t.$element.trigger("change")})}},r.prototype.bind=function(n){var t=this;(this.container=n).on("select",function(n){t.select(n.data)});n.on("unselect",function(n){t.unselect(n.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},r.prototype.query=function(n,t){var r=[],u=this;this.$element.children().each(function(){var t=i(this),e,f;(t.is("option")||t.is("optgroup"))&&(e=u.item(t),f=u.matches(n,e),null!==f&&r.push(f))});t({results:r})},r.prototype.addOptions=function(n){t.appendMany(this.$element,n)},r.prototype.option=function(n){var r,f,u;return n.children?(r=document.createElement("optgroup")).label=n.text:void 0!==(r=document.createElement("option")).textContent?r.textContent=n.text:r.innerText=n.text,void 0!==n.id&&(r.value=n.id),n.disabled&&(r.disabled=!0),n.selected&&(r.selected=!0),n.title&&(r.title=n.title),f=i(r),u=this._normalizeItem(n),u.element=r,t.StoreData(r,"data",u),f},r.prototype.item=function(n){var r={},o,s;if(null!=(r=t.GetData(n[0],"data")))return r;if(n.is("option"))r={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")};else if(n.is("optgroup")){r={text:n.prop("label"),children:[],title:n.prop("title")};for(var f=n.children("option"),e=[],u=0;u<f.length;u++)o=i(f[u]),s=this.item(o),e.push(s);r.children=e}return(r=this._normalizeItem(r)).element=n[0],t.StoreData(n[0],"data",r),r},r.prototype._normalizeItem=function(n){return n!==Object(n)&&(n={id:n,text:n}),null!=(n=i.extend({},{text:""},n)).id&&(n.id=n.id.toString()),null!=n.text&&(n.text=n.text.toString()),null==n._resultId&&n.id&&null!=this.container&&(n._resultId=this.generateResultId(this.container,n)),i.extend({},{selected:!1,disabled:!1},n)},r.prototype.matches=function(n,t){return this.options.get("matcher")(n,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(n,t,i){function r(n,t){this._dataToConvert=t.get("data")||[];r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype.bind=function(n,t){r.__super__.bind.call(this,n,t);this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,i){return i.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t));r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(n){function a(n){return function(){return i(this).val()==n.id}}for(var r,f,h,c=this,e=this.$element.find("option"),l=e.map(function(){return c.item(i(this)).id}).get(),o=[],u=0;u<n.length;u++)if(r=this._normalizeItem(n[u]),0<=i.inArray(r.id,l)){var s=e.filter(a(r)),v=this.item(s),y=i.extend(!0,{},r,v),p=this.option(y);s.replaceWith(p)}else f=this.option(r),r.children&&(h=this.convertToOptions(r.children),t.appendMany(f,h)),o.push(f);return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(n,t,i){function r(n,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype._applyDefaults=function(n){var t={data:function(n){return i.extend({},n,{q:n.term})},transport:function(n,t,r){var u=i.ajax(n);return u.then(t),u.fail(r),u}};return i.extend({},t,n,!0)},r.prototype.processResults=function(n){return n},r.prototype.query=function(n,t){function f(){var f=r.transport(r,function(r){var f=u.processResults(r,n);u.options.get("debug")&&window.console&&console.error&&(f&&f.results&&i.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));t(f)},function(){"status"in f&&(0===f.status||"0"===f.status)||u.trigger("results:message",{message:"errorLoading"})});u._request=f}var u=this,r;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,n));"function"==typeof r.data&&(r.data=r.data.call(this.$element,n));this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(f,this.ajaxOptions.delay)):f()},r}),t.define("select2/data/tags",["jquery"],function(n){function t(t,i,r){var f=r.get("tags"),o=r.get("createTag"),e,u;if(void 0!==o&&(this.createTag=o),e=r.get("insertTag"),void 0!==e&&(this.insertTag=e),t.call(this,i,r),n.isArray(f))for(u=0;u<f.length;u++){var s=f[u],h=this._normalizeItem(s),c=this.option(h);this.$element.append(c)}}return t.prototype.query=function(n,t,i){var r=this;this._removeOldTags();null!=t.term&&null==t.page?n.call(this,t,function n(u,f){for(var s,l,h,c,e=u.results,o=0;o<e.length;o++)if(s=e[o],l=null!=s.children&&!n({results:s.children},!0),(s.text||"").toUpperCase()===(t.term||"").toUpperCase()||l)return!f&&(u.data=e,void i(u));if(f)return!0;h=r.createTag(t);null!=h&&(c=r.option(h),c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(e,h));u.results=e;i(u)}):n.call(this,t,i)},t.prototype.createTag=function(t,i){var r=n.trim(i.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(n,t,i){t.unshift(i)},t.prototype._removeOldTags=function(){this.$element.find("option[data-select2-tag]").each(function(){this.selected||n(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(n){function t(n,t,i){var r=i.get("tokenizer");void 0!==r&&(this.tokenizer=r);n.call(this,t,i)}return t.prototype.bind=function(n,t,i){n.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,r){var u=this,f;i.term=i.term||"";f=this.tokenizer(i,this.options,function(t){var i=u._normalizeItem(t),r;u.$element.find("option").filter(function(){return n(this).val()===i.id}).length||(r=u.option(i),r.attr("data-select2-tag",!0),u._removeOldTags(),u.addOptions([r]));!function(n){u.trigger("select",{data:n})}(i)});f.term!==i.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.trigger("focus")),i.term=f.term);t.call(this,i,r)},t.prototype.tokenizer=function(t,i,r,u){for(var s,h,o,c=r.get("tokenSeparators")||[],e=i.term,f=0,l=this.createTag||function(n){return{id:n.term,text:n.term}};f<e.length;)s=e[f],-1!==n.inArray(s,c)?(h=e.substr(0,f),o=l(n.extend({},i,{term:h})),null!=o?(u(o),e=e.substr(f+1)||"",f=0):f++):f++;return{term:e}},t}),t.define("select2/data/minimumInputLength",[],function(){function n(n,t,i){this.minimumInputLength=i.get("minimumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){t.term=t.term||"";t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):n.call(this,t,i)},n}),t.define("select2/data/maximumInputLength",[],function(){function n(n,t,i){this.maximumInputLength=i.get("maximumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){t.term=t.term||"";0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):n.call(this,t,i)},n}),t.define("select2/data/maximumSelectionLength",[],function(){function n(n,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");n.call(this,t,i)}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(){r._checkIfMaximumSelected()})},n.prototype.query=function(n,t,i){var r=this;this._checkIfMaximumSelected(function(){n.call(r,t,i)})},n.prototype._checkIfMaximumSelected=function(n,t){var i=this;this.current(function(n){var r=null!=n?n.length:0;0<i.maximumSelectionLength&&r>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t&&t()})},n}),t.define("select2/dropdown",["jquery","./utils"],function(n,t){function i(n,t){this.$element=n;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(n){function t(){}return t.prototype.render=function(t){var r=t.call(this),i=n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /><\/span>');return this.$searchContainer=i,this.$search=i.find("input"),r.prepend(i),r},t.prototype.bind=function(t,i,r){var u=this,f=i.id+"-results";t.call(this,i,r);this.$search.on("keydown",function(n){u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented()});this.$search.on("input",function(){n(this).off("keyup")});this.$search.on("keyup input",function(n){u.handleSearch(n)});i.on("open",function(){u.$search.attr("tabindex",0);u.$search.attr("aria-controls",f);u.$search.trigger("focus");window.setTimeout(function(){u.$search.trigger("focus")},0)});i.on("close",function(){u.$search.attr("tabindex",-1);u.$search.removeAttr("aria-controls");u.$search.removeAttr("aria-activedescendant");u.$search.val("");u.$search.trigger("blur")});i.on("focus",function(){i.isOpen()||u.$search.trigger("focus")});i.on("results:all",function(n){null!=n.query.term&&""!==n.query.term||(u.showSearch(n)?u.$searchContainer.removeClass("select2-search--hide"):u.$searchContainer.addClass("select2-search--hide"))});i.on("results:focus",function(n){n.data._resultId?u.$search.attr("aria-activedescendant",n.data._resultId):u.$search.removeAttr("aria-activedescendant")})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function n(n,t,i,r){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i,r)}return n.prototype.append=function(n,t){t.results=this.removePlaceholder(t.results);n.call(this,t)},n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.removePlaceholder=function(n,t){for(var u,r=t.slice(0),i=t.length-1;0<=i;i--)u=t[i],this.placeholder.id===u.id&&r.splice(i,1);return r},n}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(n,t,i,r){this.lastParams={};n.call(this,t,i,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}return t.prototype.append=function(n,t){this.$loadingMore.remove();this.loading=!1;n.call(this,t);this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("query",function(n){r.lastParams=n;r.loading=!0});t.on("query:append",function(n){r.lastParams=n;r.loading=!0});this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var i=n.contains(document.documentElement,this.$loadingMore[0]),t;!this.loading&&i&&(t=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=t+50&&this.loadMore())},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)},t.prototype.showLoadingMore=function(n,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"><\/li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(n,t){function i(t,i,r){this.$dropdownParent=n(r.get("dropdownParent")||document.body);t.call(this,i,r)}return i.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("open",function(){r._showDropdown();r._attachPositioningHandler(t);r._bindContainerResultHandlers(t)});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})},i.prototype.destroy=function(n){n.call(this);this.$dropdownContainer.remove()},i.prototype.position=function(n,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i},i.prototype.render=function(t){var i=n("<span><\/span>"),r=t.call(this);return i.append(r),this.$dropdownContainer=i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._bindContainerResultHandlers=function(n,t){if(!this._containerResultsHandlersBound){var i=this;t.on("results:all",function(){i._positionDropdown();i._resizeDropdown()});t.on("results:append",function(){i._positionDropdown();i._resizeDropdown()});t.on("results:message",function(){i._positionDropdown();i._resizeDropdown()});t.on("select",function(){i._positionDropdown();i._resizeDropdown()});t.on("unselect",function(){i._positionDropdown();i._resizeDropdown()});this._containerResultsHandlersBound=!0}},i.prototype._attachPositioningHandler=function(i,r){var u=this,f="scroll.select2."+r.id,o="resize.select2."+r.id,s="orientationchange.select2."+r.id,e=this.$container.parents().filter(t.hasScroll);e.each(function(){t.StoreData(this,"select2-scroll-position",{x:n(this).scrollLeft(),y:n(this).scrollTop()})});e.on(f,function(){var i=t.GetData(this,"select2-scroll-position");n(this).scrollTop(i.y)});n(window).on(f+" "+o+" "+s,function(){u._positionDropdown();u._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,r){var u="scroll.select2."+r.id,f="resize.select2."+r.id,e="orientationchange.select2."+r.id;this.$container.parents().filter(t.hasScroll).off(u);n(window).off(u+" "+f+" "+e)},i.prototype._positionDropdown=function(){var s=n(window),u=this.$dropdown.hasClass("select2-dropdown--above"),a=this.$dropdown.hasClass("select2-dropdown--below"),t=null,i=this.$container.offset(),r,o;i.bottom=i.top+this.$container.outerHeight(!1);r={height:this.$container.outerHeight(!1)};r.top=i.top;r.bottom=i.top+r.height;var h=this.$dropdown.outerHeight(!1),v=s.scrollTop(),y=s.scrollTop()+s.height(),c=v<i.top-h,l=y>i.bottom+h,f={left:i.left,top:r.bottom},e=this.$dropdownParent;"static"===e.css("position")&&(e=e.offsetParent());o=e.offset();f.top-=o.top;f.left-=o.left;u||a||(t="below");l||!c||u?!c&&l&&u&&(t="below"):t="above";("above"==t||u&&"below"!==t)&&(f.top=r.top-o.top-h);null!=t&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+t),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+t));this.$dropdownContainer.css(f)},i.prototype._resizeDropdown=function(){var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.position="relative",n.width="auto");this.$dropdown.css(n)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function n(n,t,i,r){this.minimumResultsForSearch=i.get("minimumResultsForSearch");this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0);n.call(this,t,i,r)}return n.prototype.showSearch=function(n,t){return!(function n(t){for(var u,i=0,r=0;r<t.length;r++)u=t[r],u.children?i+=n(u.children):i++;return i}(t.data.results)<this.minimumResultsForSearch)&&n.call(this,t)},n}),t.define("select2/dropdown/selectOnClose",["../utils"],function(n){function t(){}return t.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("close",function(n){r._handleSelectOnClose(n)})},t.prototype._handleSelectOnClose=function(t,i){var u,f,r;i&&null!=i.originalSelect2Event&&(u=i.originalSelect2Event,"select"===u._type||"unselect"===u._type)||(f=this.getHighlightedResults(),f.length<1||(r=n.GetData(f[0],"data"),null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})))},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(n){r._selectTriggered(n)});t.on("unselect",function(n){r._selectTriggered(n)})},n.prototype._selectTriggered=function(n,t){var i=t.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},n}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(n){return"Please enter "+(n.minimum-n.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(n){var t="You can only select "+n.maximum+" item";return 1!=n.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){function ot(){this.reset()}return ot.prototype.apply=function(c){var ht,ct,lt,at,vt,l,ot,st;for(null==(c=n.extend(!0,{},this.defaults,c)).dataAdapter&&((c.dataAdapter=null!=c.ajax?y:null!=c.data?v:a,0<c.minimumInputLength&&(c.dataAdapter=h.Decorate(c.dataAdapter,b)),0<c.maximumInputLength&&(c.dataAdapter=h.Decorate(c.dataAdapter,k)),0<c.maximumSelectionLength&&(c.dataAdapter=h.Decorate(c.dataAdapter,d)),c.tags&&(c.dataAdapter=h.Decorate(c.dataAdapter,p)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=h.Decorate(c.dataAdapter,w)),null!=c.query)&&(ht=t(c.amdBase+"compat/query"),c.dataAdapter=h.Decorate(c.dataAdapter,ht)),null!=c.initSelection&&(ct=t(c.amdBase+"compat/initSelection"),c.dataAdapter=h.Decorate(c.dataAdapter,ct))),(null==c.resultsAdapter&&(c.resultsAdapter=i,null!=c.ajax&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,it)),null!=c.placeholder&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,tt)),c.selectOnClose&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,ft))),null==c.dropdownAdapter)&&(c.multiple?c.dropdownAdapter=g:(lt=h.Decorate(g,nt),c.dropdownAdapter=lt),(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,ut)),c.closeOnSelect&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,et)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass)&&(at=t(c.amdBase+"compat/dropdownCss"),c.dropdownAdapter=h.Decorate(c.dropdownAdapter,at)),c.dropdownAdapter=h.Decorate(c.dropdownAdapter,rt)),null==c.selectionAdapter&&((c.selectionAdapter=c.multiple?u:r,null!=c.placeholder&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,f)),c.allowClear&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,e)),c.multiple&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,o)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass)&&(vt=t(c.amdBase+"compat/containerCss"),c.selectionAdapter=h.Decorate(c.selectionAdapter,vt)),c.selectionAdapter=h.Decorate(c.selectionAdapter,s)),c.language=this._resolveLanguage(c.language),c.language.push("en"),l=[],ot=0;ot<c.language.length;ot++)st=c.language[ot],-1===l.indexOf(st)&&l.push(st);return c.language=l,c.translations=this._processTranslations(c.language,c.debug),c},ot.prototype.reset=function(){function t(n){return n.replace(/[^\u0000-\u007E]/g,function(n){return l[n]||n})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:{},matcher:function i(r,u){var f,e,o,s;if(""===n.trim(r.term))return u;if(u.children&&0<u.children.length){for(f=n.extend(!0,{},u),e=u.children.length-1;0<=e;e--)null==i(r,u.children[e])&&f.children.splice(e,1);return 0<f.children.length?f:i(r,f)}return o=t(u.text).toUpperCase(),s=t(r.term).toUpperCase(),-1<o.indexOf(s)?u:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(n){return n},templateResult:function(n){return n.text},templateSelection:function(n){return n.text},theme:"default",width:"resolve"}},ot.prototype.applyFromElement=function(n,t){var i=n.language,r=this.defaults.language,u=t.prop("lang"),f=t.closest("[lang]").prop("lang"),e=Array.prototype.concat.call(this._resolveLanguage(u),this._resolveLanguage(i),this._resolveLanguage(r),this._resolveLanguage(f));return n.language=e,n},ot.prototype._resolveLanguage=function(t){var r,u,i,f;if(!t)return[];if(n.isEmptyObject(t))return[];if(n.isPlainObject(t))return[t];for(r=n.isArray(t)?t:[t],u=[],i=0;i<r.length;i++)(u.push(r[i]),"string"==typeof r[i]&&0<r[i].indexOf("-"))&&(f=r[i].split("-")[0],u.push(f));return u},ot.prototype._processTranslations=function(t,i){for(var u,r,e=new c,f=0;f<t.length;f++){if(u=new c,r=t[f],"string"==typeof r)try{u=c.loadPath(r)}catch(t){try{r=this.defaults.amdLanguageBase+r;u=c.loadPath(r)}catch(t){i&&window.console&&console.warn&&console.warn('Select2: The language file for "'+r+'" could not be automatically loaded. A fallback will be used instead.')}}else u=n.isPlainObject(r)?new c(r):r;e.extend(u)}return e},ot.prototype.set=function(t,i){var r={},u;r[n.camelCase(t)]=i;u=h._convertData(r);n.extend(!0,this.defaults,u)},new ot}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,t,i,r){function u(t,u){if(this.options=t,null!=u&&this.fromElement(u),null!=u&&(this.options=i.applyFromElement(this.options,u)),this.options=i.apply(this.options),u&&u.is("input")){var f=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,f)}}return u.prototype.fromElement=function(n){function a(n,t){return t.toUpperCase()}var l=["select2"],u,e,s,o,h,c,f,i;for(null==this.options.multiple&&(this.options.multiple=n.prop("multiple")),null==this.options.disabled&&(this.options.disabled=n.prop("disabled")),null==this.options.dir&&(this.options.dir=n.prop("dir")?n.prop("dir"):n.closest("[dir]").prop("dir")?n.closest("[dir]").prop("dir"):"ltr"),n.prop("disabled",this.options.disabled),n.prop("multiple",this.options.multiple),r.GetData(n[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),r.StoreData(n[0],"data",r.GetData(n[0],"select2Tags")),r.StoreData(n[0],"tags",!0)),r.GetData(n[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),n.attr("ajax--url",r.GetData(n[0],"ajaxUrl")),r.StoreData(n[0],"ajax-Url",r.GetData(n[0],"ajaxUrl"))),u={},e=0;e<n[0].attributes.length;e++)s=n[0].attributes[e].name,o="data-",s.substr(0,o.length)==o&&(h=s.substring(o.length),c=r.GetData(n[0],h),u[h.replace(/-([a-z])/g,a)]=c);t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&n[0].dataset&&(u=t.extend(!0,{},n[0].dataset,u));f=t.extend(!0,{},r.GetData(n[0]),u);for(i in f=r._convertData(f))-1<t.inArray(i,l)||(t.isPlainObject(this.options[i])?t.extend(this.options[i],f[i]):this.options[i]=f[i]);return this},u.prototype.get=function(n){return this.options[n]},u.prototype.set=function(n,t){this.options[n]=t},u}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(n,t,i,r){var u=function(n,r){var e,o,f,s,h,c,l;null!=i.GetData(n[0],"select2")&&i.GetData(n[0],"select2").destroy();this.$element=n;this.id=this._generateId(n);r=r||{};this.options=new t(r,n);u.__super__.constructor.call(this);e=n.attr("tabindex")||0;i.StoreData(n[0],"old-tabindex",e);n.attr("tabindex","-1");o=this.options.get("dataAdapter");this.dataAdapter=new o(n,this.options);f=this.render();this._placeContainer(f);s=this.options.get("selectionAdapter");this.selection=new s(n,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,f);h=this.options.get("dropdownAdapter");this.dropdown=new h(n,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,f);c=this.options.get("resultsAdapter");this.results=new c(n,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);l=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(n){l.trigger("selection:update",{data:n})});n.addClass("select2-hidden-accessible");n.attr("aria-hidden","true");this._syncAttributes();i.StoreData(n[0],"select2",this);n.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(n){return"select2-"+(null!=n.attr("id")?n.attr("id"):null!=n.attr("name")?n.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},u.prototype._placeContainer=function(n){n.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&n.css("width",t)},u.prototype._resolveWidth=function(n,t){var r,u,f,i;if("resolve"==t)return r=this._resolveWidth(n,"style"),null!=r?r:this._resolveWidth(n,"element");if("element"==t)return u=n.outerWidth(!1),u<=0?"auto":u+"px";if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(n[0]).width;if(f=n.attr("style"),"string"!=typeof f)return null;for(var o=f.split(";"),e=0,s=o.length;e<s;e+=1)if(i=o[e].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&1<=i.length)return i[1];return null},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var t=this,r;this.$element.on("change.select2",function(){t.dataAdapter.current(function(n){t.trigger("selection:update",{data:n})})});this.$element.on("focus.select2",function(n){t.trigger("focus",n)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r(function(i){n.each(i,t._syncA);n.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(n){t.focus(n)});this.selection.on("*",function(r,u){-1===n.inArray(r,i)&&t.trigger(r,u)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")});this.on("close",function(){n.$container.removeClass("select2-container--open")});this.on("enable",function(){n.$container.removeClass("select2-container--disabled")});this.on("disable",function(){n.$container.addClass("select2-container--disabled")});this.on("blur",function(){n.$container.removeClass("select2-container--focus")});this.on("query",function(t){n.isOpen()||n.trigger("open",{});this.dataAdapter.query(t,function(i){n.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){n.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;n.isOpen()?i===r.ESC||i===r.TAB||i===r.UP&&t.altKey?(n.close(),t.preventDefault()):i===r.ENTER?(n.trigger("results:select",{}),t.preventDefault()):i===r.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):i===r.UP?(n.trigger("results:previous",{}),t.preventDefault()):i===r.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(i===r.ENTER||i===r.SPACE||i===r.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(n,t){var i=!1,u=this,r;if(!n||!n.target||"OPTION"===n.target.nodeName||"OPTGROUP"===n.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(r=0;r<t.addedNodes.length;r++)t.addedNodes[r].selected&&(i=!0);else t.removedNodes&&0<t.removedNodes.length&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(n){u.trigger("selection:update",{data:n})})}},u.prototype.trigger=function(n,t){var r=u.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"},e,i;if((void 0===t&&(t={}),n in f)&&(e=f[n],i={prevented:!1,name:n,args:t},r.call(this,e,i),i.prevented))return void(t.prevented=!0);r.call(this,n,t)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(n){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');null!=n&&0!==n.length||(n=[!0]);var t=!n[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var n=[];return this.dataAdapter.current(function(t){n=t}),n},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];n.isArray(i)&&(i=n.map(i,function(n){return n.toString()}));this.$element.val(i).trigger("change")},u.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA);null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1));this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");i.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null},u.prototype.render=function(){var t=n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(t[0],"element",this.$element),t},u}),t.define("select2/compat/utils",["jquery"],function(n){return{syncCssClasses:function(t,i,r){var u,e,f=[];(u=n.trim(t.attr("class")))&&n((u=""+u).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&f.push(this)});(u=n.trim(i.attr("class")))&&n((u=""+u).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(e=r(this))&&f.push(e)});t.attr("class",f.join(" "))}}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("containerCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptContainerCssClass"),(f=f||r,-1!==u.indexOf(":all:"))&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return null!=t?t+" "+n:n}),e=this.options.get("containerCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("dropdownCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptDropdownCssClass"),(f=f||r,-1!==u.indexOf(":all:"))&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return null!=t?t+" "+n:n}),e=this.options.get("dropdownCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/initSelection",["jquery"],function(n){function t(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2");this.initSelection=i.get("initSelection");this._isInitialized=!1;n.call(this,t,i)}return t.prototype.current=function(t,i){var r=this;this._isInitialized?t.call(this,i):this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0;n.isArray(t)||(t=[t]);i(t)})},t}),t.define("select2/compat/inputData",["jquery","../utils"],function(n,t){function i(n,t,i){this._currentData=[];this._valueSeparator=i.get("valueSeparator")||",";"hidden"===t.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.");n.call(this,t,i)}return i.prototype.current=function(t,i){function f(t,i){var r=[];return t.selected||-1!==n.inArray(t.id,i)?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,f(t.children,i)),r}for(var e,r=[],u=0;u<this._currentData.length;u++)e=this._currentData[u],r.push.apply(r,f(e,this.$element.val().split(this._valueSeparator)));i(r)},i.prototype.select=function(t,i){if(this.options.get("multiple")){var r=this.$element.val();r+=this._valueSeparator+i.id;this.$element.val(r);this.$element.trigger("change")}else this.current(function(t){n.map(t,function(n){n.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},i.prototype.unselect=function(n,t){var i=this;t.selected=!1;this.current(function(n){for(var f,u=[],r=0;r<n.length;r++)f=n[r],t.id!=f.id&&u.push(f.id);i.$element.val(u.join(i._valueSeparator));i.$element.trigger("change")})},i.prototype.query=function(n,t,i){for(var e,f,u=[],r=0;r<this._currentData.length;r++)e=this._currentData[r],f=this.matches(t,e),null!==f&&u.push(f);i({results:u})},i.prototype.addOptions=function(i,r){var u=n.map(r,function(n){return t.GetData(n[0],"data")});this._currentData.push.apply(this._currentData,u)},i}),t.define("select2/compat/matcher",["jquery"],function(n){return function(t){return function(i,r){var u=n.extend(!0,{},r),f,e;if(null==i.term||""===n.trim(i.term))return u;if(r.children){for(f=r.children.length-1;0<=f;f--)e=r.children[f],t(i.term,e.text,e)||u.children.splice(f,1);if(0<u.children.length)return u}return t(i.term,r.text,r)?u:null}}}),t.define("select2/compat/query",[],function(){function n(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.");n.call(this,t,i)}return n.prototype.query=function(n,t,i){t.callback=i;this.options.get("query").call(null,t)},n}),t.define("select2/dropdown/attachContainer",[],function(){function n(n,t,i){n.call(this,t,i)}return n.prototype.position=function(n,t,i){i.find(".dropdown-wrapper").append(t);t.addClass("select2-dropdown--below");i.addClass("select2-container--below")},n}),t.define("select2/dropdown/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),t.define("select2/selection/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),l=function(n){function e(r){var a,f=r||window.event,w=h.call(arguments,1),l=0,o=0,e=0,b=0,k=0,v,y,p;if((r=n.event.fix(f)).type="mousewheel","detail"in f&&(e=-1*f.detail),"wheelDelta"in f&&(e=f.wheelDelta),"wheelDeltaY"in f&&(e=f.wheelDeltaY),"wheelDeltaX"in f&&(o=-1*f.wheelDeltaX),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(o=-1*e,e=0),l=0===e?o:e,"deltaY"in f&&(l=e=-1*f.deltaY),"deltaX"in f&&(o=f.deltaX,0===e&&(l=-1*o)),0!==e||0!==o)return 1===f.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,o*=v):2===f.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,o*=y),(a=Math.max(Math.abs(e),Math.abs(o)),(!t||a<t)&&s(f,t=a)&&(t/=40),s(f,a)&&(l/=40,o/=40,e/=40),l=Math[1<=l?"floor":"ceil"](l/t),o=Math[1<=o?"floor":"ceil"](o/t),e=Math[1<=e?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=o,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,o,e),u&&clearTimeout(u),u=setTimeout(c,200),(n.event.dispatch||n.event.handle).apply(this,w)}function c(){t=null}function s(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var u,t,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,f,i;if(n.event.fixHooks)for(f=o.length;f;)n.event.fixHooks[o[--f]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],l):"object"==typeof exports?module.exports=l:l(n),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(n,t,i,r,u){if(null==n.fn.select2){var f=["open","close","destroy"];n.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var r=n.extend(!0,{},t);new i(n(this),r)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var r,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=u.GetData(this,"select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");r=n[t].apply(n,e)}),-1<n.inArray(t,f)?this:r}}return null==n.fn.select2.defaults&&(n.fn.select2.defaults=r),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return n.fn.select2.amd=t,i});!function a(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s="function"==typeof require&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){return r(n[u][1][t]||t)},o,o.exports,a,n,t,i)}return t[u].exports}for(var f="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(n,t){(function(i){function u(n,t,i,u){t.split(" ").forEach(function(t){r.DomEvent.on(n,t,i,u)})}function f(n,t,i,u){t.split(" ").forEach(function(t){r.DomEvent.off(n,t,i,u)})}function s(n){return"oninput"in n?"input":"change"}function h(){e=this._map.dragging.enabled();o=this._map.tap&&this._map.tap.enabled();this._map.dragging.disable();this._map.tap&&this._map.tap.disable()}function c(n){this._refocusOnMap(n);e&&this._map.dragging.enable();o&&this._map.tap.enable()}function l(n){return"undefined"===n?[]:Array.isArray(n)?n:[n]}var e,o,r="undefined"!=typeof window?window.L:void 0!==i?i.L:null;n("./layout.css");n("./range.css");r.Control.SideBySide=r.Control.extend({options:{thumbSize:42,padding:0},initialize:function(n,t,i){this.setLeftLayers(n);this.setRightLayers(t);r.setOptions(this,i)},getPosition:function(){var n=this._range.value,t=(.5-n)*(2*this.options.padding+this.options.thumbSize);return this._map.getSize().x*n+t},setPosition:function(){},includes:r.Evented.prototype||r.Mixin.Events,addTo:function(n){var i,t;return this.remove(),this._map=n,i=this._container=r.DomUtil.create("div","leaflet-sbs",n._controlContainer),this._divider=r.DomUtil.create("div","leaflet-sbs-divider",i),t=this._range=r.DomUtil.create("input","leaflet-sbs-range",i),t.type="range",t.min=0,t.max=1,t.step="any",t.value=.5,t.style.paddingLeft=t.style.paddingRight=this.options.padding+"px",this._addEvents(),this._updateLayers(),this},remove:function(){return this._map&&(this._leftLayer&&(this._leftLayer.getContainer().style.clip=""),this._rightLayer&&(this._rightLayer.getContainer().style.clip=""),this._removeEvents(),r.DomUtil.remove(this._container),this._map=null),this},setLeftLayers:function(n){return this._leftLayers=l(n),this._updateLayers(),this},setRightLayers:function(n){return this._rightLayers=l(n),this._updateLayers(),this},_updateClip:function(){var t=this._map,n=t.containerPointToLayerPoint([0,0]),i=t.containerPointToLayerPoint(t.getSize()),r=n.x+this.getPosition(),u=this.getPosition(),f,e;this._divider.style.left=u+"px";this.fire("dividermove",{x:u});f="rect("+[n.y,r,i.y,n.x].join("px,")+"px)";e="rect("+[n.y,i.x,i.y,r].join("px,")+"px)";this._leftLayer&&(this._leftLayer.getContainer().style.clip=f);this._rightLayer&&(this._rightLayer.getContainer().style.clip=e)},_updateLayers:function(){if(!this._map)return this;var n=this._leftLayer,t=this._rightLayer;this._leftLayer=this._rightLayer=null;this._leftLayers.forEach(function(n){this._map.hasLayer(n)&&(this._leftLayer=n)},this);this._rightLayers.forEach(function(n){this._map.hasLayer(n)&&(this._rightLayer=n)},this);n!==this._leftLayer&&(n&&this.fire("leftlayerremove",{layer:n}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer}));t!==this._rightLayer&&(t&&this.fire("rightlayerremove",{layer:t}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer}));this._updateClip()},_addEvents:function(){var n=this._range,t=this._map;t&&n&&(t.on("move",this._updateClip,this),t.on("layeradd layerremove",this._updateLayers,this),u(n,s(n),this._updateClip,this),u(n,r.Browser.touch?"touchstart":"mousedown",h,this),u(n,r.Browser.touch?"touchend":"mouseup",c,this))},_removeEvents:function(){var n=this._range,t=this._map;n&&(f(n,s(n),this._updateClip,this),f(n,r.Browser.touch?"touchstart":"mousedown",h,this),f(n,r.Browser.touch?"touchend":"mouseup",c,this));t&&(t.off("layeradd layerremove",this._updateLayers,this),t.off("move",this._updateClip,this))}});r.control.sideBySide=function(n,t,i){return new r.Control.SideBySide(n,t,i)};t.exports=r.Control.SideBySide}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./layout.css":2,"./range.css":4}],2:[function(n,t){var i=".leaflet-sbs-range {\r\n    position: absolute;\r\n    top: 50%;\r\n    width: 100%;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-divider {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 50%;\r\n    margin-left: -2px;\r\n    width: 4px;\r\n    background-color: #fff;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n";n("./node_modules/cssify")(i,void 0,"_i6aomd");t.exports=i},{"./node_modules/cssify":3}],3:[function(n,t){"use strict";t.exports=function(n,t,i){var r=t||document,u;return r.createStyleSheet?(u=r.createStyleSheet(),u.cssText=n,u.ownerNode):function(n,t,i){var r=n.getElementById(t),u;return r?i(r):(u=n.getElementsByTagName("head")[0],r=n.createElement("style"),null!=t&&(r.id=t),i(r),u.appendChild(r)),r}(r,i,function(t){t.styleSheet?t.styleSheet.cssText=n:t.innerHTML=n})};t.exports.byUrl=function(n){if(document.createStyleSheet)return document.createStyleSheet(n).ownerNode;var i=document.getElementsByTagName("head")[0],t=document.createElement("link");return t.rel="stylesheet",t.href=n,i.appendChild(t),t}},{}],4:[function(n,t){var i='.leaflet-sbs-range {\r\n    -webkit-appearance: none;\r\n    display: inline-block!important;\r\n    vertical-align: middle;\r\n    height: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    border: 0;\r\n    background: rgba(0, 0, 0, 0.25);\r\n    min-width: 100px;\r\n    cursor: pointer;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-range::-ms-fill-upper {\r\n    background: transparent;\r\n}\r\n.leaflet-sbs-range::-ms-fill-lower {\r\n    background: rgba(255, 255, 255, 0.25);\r\n}\r\n/* Browser thingies */\r\n\r\n.leaflet-sbs-range::-moz-range-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-tooltip {\r\n    display: none;\r\n}\r\n/* For whatever reason, these need to be defined\r\n * on their own so dont group them */\r\n\r\n.leaflet-sbs-range::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-ms-thumb {\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-moz-range-thumb {\r\n    padding: 0;\r\n    right: 0    ;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range:disabled::-moz-range-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-ms-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-webkit-slider-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:focus {\r\n    outline: none!important;\r\n}\r\n.leaflet-sbs-range::-moz-focus-outer {\r\n    border: 0;\r\n}\r\n\r\n';n("./node_modules/cssify")(i,void 0,"_1tlt668");t.exports=i},{"./node_modules/cssify":3}]},{},[1]);